---
title: "v12.1.0 Luminous RC released"
date: "2017-06-23"
author: "TheAnalyst"
---

This is the first release candidate for Luminous, the next long term stable release.

Ceph Luminous will be the foundation for the next long-term stable release series. There have been major changes since Kraken (v11.2.z) and Jewel (v10.2.z)

# Major Changes from Kraken

- _General_:
    
    - Ceph now has a simple, built-in web-based dashboard for monitoring cluster status.
- _RADOS_:
    
    - _BlueStore_:
        - The new _BlueStore_ backend for _ceph-osd_ is now stable and the new default for newly created OSDs. BlueStore manages data stored by each OSD by directly managing the physical HDDs or SSDs without the use of an intervening file system like XFS. This provides greater performance and features.
        - BlueStore supports _full data and metadata checksums_ of all data stored by Ceph.
        - BlueStore supports inline compression using zlib, snappy, or LZ4. (Ceph also supports zstd for RGW compression but zstd is not recommended for BlueStore for performance reasons.)
    - _Erasure coded_ pools now have full support for _overwrites_, allowing them to be used with RBD and CephFS. [Read more about EC overwrites](../rados/operations/erasure-code/#erasure-coding-with-overwrites).
    - _ceph-mgr_:
        - There is a new daemon, _ceph-mgr_, which is a required part of any Ceph deployment. Although IO can continue when _ceph-mgr_ is down, metrics will not refresh and some metrics-related calls (e.g., ceph df) may block. We recommend deploying several instances of _ceph-mgr_ for reliability. See the notes on [\`Upgrading\`\_](#id1) below.
        - The _ceph-mgr_ daemon includes a REST-based management API. The API is still experimental and somewhat limited but will form the basis for API-based management of Ceph going forward.
    - The overall _scalability_ of the cluster has improved. We have successfully tested clusters with up to 10,000 OSDs.
    - Each OSD can now have a _device class_ associated with it (e.g., `hdd` or `ssd`), allowing CRUSH rules to trivially map data to a subset of devices in the system. Manually writing CRUSH rules or manual editing of the CRUSH is normally not required.
    - You can now _optimize CRUSH weights_ can now be optimized to maintain a _near-perfect distribution of data_ across OSDs.
    - There is also a new `upmap` exception mechanism that allows individual PGs to be moved around to achieve a _perfect distribution_ (this requires luminous clients).
    - Each OSD now adjusts its default configuration based on whether the backing device is an HDD or SSD. Manual tuning generally not required.
    - The prototype _mclock QoS queueing algorithm_ is now available.
    - There is now a _backoff_ mechanism that prevents OSDs from being overloaded by requests to objects or PGs that are not currently able to process IO.
    - There is a _simplified OSD replacement process_ that is more robust.
    - You can query the supported features and (apparent) releases of all connected daemons and clients with ceph features.
    - You can configure the oldest Ceph client version you wish to allow to connect to the cluster via ceph osd set-require-min-compat-client and Ceph will prevent you from enabling features that will break compatibility with those clients.
    - Several `sleep` settings, include osd\_recovery\_sleep, osd\_snap\_trim\_sleep, and osd\_scrub\_sleep have been reimplemented to work efficiently. (These are used in some cases to work around issues throttling background work.)
- _RGW_:
    
    - RGW _metadata search_ backed by ElasticSearch now supports end user requests service via RGW itself, and also supports custom metadata fields. A query language a set of RESTful APIs were created for users to be able to search objects by their metadata. New APIs that allow control of custom metadata fields were also added.
    - RGW now supports _dynamic bucket index sharding_. As the number of objects in a bucket grows, RGW will automatically reshard the bucket index in response. No user intervention or bucket size capacity planning is required.
    - RGW introduces _server side encryption_ of uploaded objects with three options for the management of encryption keys: automatic encryption (only recommended for test setups), customer provided keys similar to Amazon SSE-C specification, and through the use of an external key management service (Openstack Barbician) similar to Amazon SSE-KMS specification.
    - RGW now has preliminary AWS-like bucket policy API support. For now, policy is a means to express a range of new authorization concepts. In the future it will be the founation for additional auth capabilities such as STS and group policy.
    - RGW has consolidated the several metadata index pools via the use of rados namespaces.
- _RBD_:
    
    - RBD now has full, stable support for _erasure coded pools_ via the new \--data-pool option to rbd create.
    - RBD mirroring's rbd-mirror daemon is now highly available. We recommend deploying several instances of rbd-mirror for reliability.
    - The default 'rbd' pool is no longer created automatically during cluster creation. Additionally, the name of the default pool used by the rbd CLI when no pool is specified can be overridden via a new rbd default pool = <pool name> configuration option.
    - Initial support for deferred image deletion via new rbd trash CLI commands. Images, even ones actively in-use by clones, can be moved to the trash and deleted at a later time.
    - New pool-level rbd mirror pool promote and rbd mirror pool demote commands to batch promote/demote all mirrored images within a pool.
    - Mirroring now optionally supports a configurable replication delay via the rbd mirroring replay delay = <seconds> configuration option.
    - Improved discard handling when the object map feature is enabled.
    - rbd CLI import and copy commands now detect sparse and preserve sparse regions.
    - Snapshots will now include a creation timestamp
- _CephFS_:
    
    - _Multiple active MDS daemons_ is now considered stable. The number of active MDS servers may be adjusted up or down on an active CephFS file system.
    - CephFS _directory fragmentation_ is now stable and enabled by default on new filesystems. To enable it on existing filesystems use "ceph fs set <fs\_name> allow\_dirfrags". Large or very busy directories are sharded and (potentially) distributed across multiple MDS daemons automatically.
    - Directory subtrees can be explicitly pinned to specific MDS daemons in cases where the automatic load balancing is not desired or effective.
- _Miscellaneous_:
    
    - Release packages are now being built for _Debian Stretch_. The distributions we build for now includes:
        
        - CentOS 7 (x86\_64 and aarch64)
        - Debian 8 Jessie (x86\_64)
        - Debian 9 Stretch (x86\_64)
        - Ubuntu 16.04 Xenial (x86\_64 and aarch64)
        - Ubuntu 14.04 Trusty (x86\_64)Note that QA is limited to CentOS and Ubuntu (xenial and trusty).
    - _CLI changes_:
        
        - The ceph \-s or ceph status command has a fresh look.
        - ceph {osd,mds,mon} versions summarizes versions of running daemons.
        - ceph {osd,mds,mon} count-metadata <property> similarly tabulates any other daemon metadata visible via the ceph {osd,mds,mon} metadata commands.
        - ceph features summarizes features and releases of connected clients and daemons.
        - ceph osd require-osd-release <release> replaces the old require\_RELEASE\_osds flags.
        - ceph osd pg-upmap, ceph osd rm-pg-upmap, ceph osd pg-upmap-items, ceph osd rm-pg-upmap-items can explicitly manage `upmap` items
        - ceph osd getcrushmap returns a crush map version number on stderr, and ceph osd setcrushmap \[version\] will only inject an updated crush map if the version matches. This allows crush maps to be updated offline and then reinjected into the cluster without fear of clobbering racing changes (e.g., by newly added osds or changes by other administrators).
        - ceph osd create has been replaced by ceph osd new. This should be hidden from most users by user-facing tools like `ceph-disk`.
        - ceph osd destroy will mark an OSD destroyed and remove its cephx and lockbox keys. However, the OSD id and CRUSH map entry will remain in place, allowing the id to be reused by a replacement device with minimal data rebalancing.
        - ceph osd purge will remove all traces of an OSD from the cluster, including its cephx encryption keys, dm-crypt lockbox keys, OSD id, and crush map entry.
        - ceph osd ls-tree <name> will output a list of OSD ids under the given CRUSH name (like a host or rack name). This is useful for applying changes to entire subtrees. For example, ceph osd down \`ceph osd ls-tree rack1\`.
        - ceph osd {add,rm}-{noout,noin,nodown,noup} allow the `noout`, `nodown`, `noin`, and `noup` flags to be applied to specific OSDs.
        - ceph log last \[n\] will output the last _n_ lines of the cluster log.
        - ceph mgr dump will dump the MgrMap, including the currently active ceph-mgr daemon and any standbys.
        - ceph osd crush swap-bucket <src> <dest> will swap the contents of two CRUSH buckets in the hierarchy while preserving the buckets' ids. This allows an entire subtree of devices to be replaced (e.g., to replace an entire host of FileStore OSDs with newly-imaged BlueStore OSDs) without disrupting the distribution of data across neighboring devices.
        - ceph osd set-require-min-compat-client <release> configures the oldest client release the cluster is required to support. Other changes, like CRUSH tunables, will fail with an error if they would violate this setting. Changing this setting also fails if clients older than the specified release are currently connected to the cluster.
        - ceph config-key dump dumps config-key entries and their contents. (The exist ceph config-key ls only dumps the key names, not the values.)
        - ceph osd set-{full,nearfull,backfillfull}-ratio sets the cluster-wide ratio for various full thresholds (when the cluster refuses IO, when the cluster warns about being close to full, when an OSD will defer rebalancing a PG to itself, respectively).
        - ceph osd reweightn will specify the `reweight` values for multiple OSDs in a single command. This is equivalent to a series of ceph osd reweight commands.
        - ceph crush class {create,rm,ls} manage the new CRUSH _device class_ feature. ceph crush set-device-class <osd> <class> will set the clas for a particular device.
        - ceph mon feature list will list monitor features recorded in the MonMap. ceph mon feature set will set an optional feature (none of these exist yet).

# Major Changes from Jewel

- _RADOS_:
    - We now default to the AsyncMessenger (ms type = async) instead of the legacy SimpleMessenger. The most noticeable difference is that we now use a fixed sized thread pool for network connections (instead of two threads per socket with SimpleMessenger).
    - Some OSD failures are now detected almost immediately, whereas previously the heartbeat timeout (which defaults to 20 seconds) had to expire. This prevents IO from blocking for an extended period for failures where the host remains up but the ceph-osd process is no longer running.
    - The size of encoded OSDMaps has been reduced.
    - The OSDs now quiesce scrubbing when recovery or rebalancing is in progress.
- _RGW_:
    - RGW now supports the S3 multipart object copy-part API.
    - It is possible now to reshard an existing bucket offline. Offline bucket resharding currently requires that all IO (especially writes) to the specific bucket is quiesced. (For automatic online resharding, see the new feature in Luminous above.)
    - RGW now supports data compression for objects.
    - Civetweb version has been upgraded to 1.8
    - The Swift static website API is now supported (S3 support has been added previously).
    - S3 bucket lifecycle API has been added. Note that currently it only supports object expiration.
    - Support for custom search filters has been added to the LDAP auth implementation.
    - Support for NFS version 3 has been added to the RGW NFS gateway.
    - A Python binding has been created for librgw.
- _RBD_:
    - The rbd-mirror daemon now supports replicating dynamic image feature updates and image metadata key/value pairs from the primary image to the non-primary image.
    - The number of image snapshots can be optionally restricted to a configurable maximum.
    - The rbd Python API now supports asynchronous IO operations.
- _CephFS_:
    
    - - libcephfs function definitions have been changed to enable proper uid/gid control. The library version has been increased to reflect the interface change.
        - Standby replay MDS daemons now consume less memory on workloads doing deletions.
        - Scrub now repairs backtrace, and populates `damage ls` with discovered errors.
        - A new `pg_files` subcommand to `cephfs-data-scan` can identify files affected by a damaged or lost RADOS PG.
        - The false-positive "failing to respond to cache pressure" warnings have been fixed.
    
     
    
    ### Notable Changes
    
    - bluestore: ceph-disk: add –filestore argument, default to –bluestore ([pr#15437](https://github.com/ceph/ceph/pull/15437), Loic Dachary, Sage Weil)
    - bluestore,core: os/bluestore: fix warning ([pr#15435](https://github.com/ceph/ceph/pull/15435), Sage Weil)
    - bluestore,core: os/bluestore: improve mempool usage ([pr#15402](https://github.com/ceph/ceph/pull/15402), Sage Weil)
    - bluestore,core: os/bluestore: write “mkfs\_done” into disk only if we pass fsck() tests ([pr#15238](https://github.com/ceph/ceph/pull/15238), xie xingguo)
    - bluestore,core: os: remove experimental status for BlueStore ([pr#15177](https://github.com/ceph/ceph/pull/15177), Sage Weil)
    - bluestore: os/bluestore: better debug output on unsharing blobs ([issue#20227](http://tracker.ceph.com/issues/20227), [pr#15746](https://github.com/ceph/ceph/pull/15746), Sage Weil)
    - bluestore: os/bluestore/BlockDevice: support pmem device as bluestore backend ([pr#15102](https://github.com/ceph/ceph/pull/15102), Jianpeng Ma)
    - bluestore: os/bluestore/BlueFS: Rebuild memcopy for bufferlist::page\_aligned\_app… ([pr#15728](https://github.com/ceph/ceph/pull/15728), Jianpeng Ma, Sage Weil)
    - bluestore: os/bluestore/BlueFS: .slow should be compared with dirname ([pr#15595](https://github.com/ceph/ceph/pull/15595), zhanglei)
    - bluestore: os/bluestore/BlueStore: no device no symlink. ([pr#15721](https://github.com/ceph/ceph/pull/15721), Jianpeng Ma)
    - bluestore: os/bluestore: cleanup bluestore\_types ([pr#15680](https://github.com/ceph/ceph/pull/15680), xie xingguo)
    - bluestore: os/bluestore: configure rocksdb cache via bluestore\_cache\_kv\_ratio ([pr#15580](https://github.com/ceph/ceph/pull/15580), Sage Weil)
    - bluestore: os/bluestore: fix a typo about bleustore ([pr#15357](https://github.com/ceph/ceph/pull/15357), Dongsheng Yang)
    - bluestore: os/bluestore: fix BitMapAllocator assert on out-of-bound hint value ([pr#15289](https://github.com/ceph/ceph/pull/15289), Igor Fedotov)
    - bluestore: os/bluestore: fix buffers pinned by indefinitely deferred writes ([pr#15398](https://github.com/ceph/ceph/pull/15398), Sage Weil)
    - bluestore: os/bluestore: fix false assert in IOContext::aio\_wake ([pr#15268](https://github.com/ceph/ceph/pull/15268), Igor Fedotov)
    - bluestore: os/bluestore: fix false asserts in Cache::trim\_all() ([pr#15470](https://github.com/ceph/ceph/pull/15470), xie xingguo)
    - bluestore: os/bluestore: fix fsck deferred\_replay ([pr#15295](https://github.com/ceph/ceph/pull/15295), Sage Weil)
    - bluestore: os/bluestore: fix possible out of order shard(offset == 0); add sanity check ([pr#15658](https://github.com/ceph/ceph/pull/15658), xie xingguo)
    - bluestore: os/bluestore: fix potential access violation ([pr#15657](https://github.com/ceph/ceph/pull/15657), xie xingguo)
    - bluestore: os/bluestore: fix unsharing blob dirty\_range args ([issue#20227](http://tracker.ceph.com/issues/20227), [pr#15766](https://github.com/ceph/ceph/pull/15766), Sage Weil)
    - bluestore: os/bluestore: handle rounding error in cache ratios ([pr#15672](https://github.com/ceph/ceph/pull/15672), Sage Weil)
    - bluestore: os/bluestore: initialize finishers properly ([pr#15666](https://github.com/ceph/ceph/pull/15666), xie xingguo)
    - bluestore: os/bluestore/KernelDevice: fix comments ([pr#15264](https://github.com/ceph/ceph/pull/15264), xie xingguo)
    - bluestore: os/bluestore/KernelDevice: helpful warning when aio limit exhausted ([pr#15116](https://github.com/ceph/ceph/pull/15116), Sage Weil)
    - bluestore: os/bluestore: move sharedblob to new collection in same shard ([issue#20358](http://tracker.ceph.com/issues/20358), [pr#15783](https://github.com/ceph/ceph/pull/15783), Sage Weil)
    - bluestore: os/bluestore: refactor BlueStore::\_do\_write; kill dead ExtentMap::find\_lextent() method ([pr#15750](https://github.com/ceph/ceph/pull/15750), xie xingguo)
    - bluestore: os/bluestore: remove unused variables ([pr#15718](https://github.com/ceph/ceph/pull/15718), zhanglei)
    - bluestore: os/bluestore: stop calculating bound if we must reshard; narrow shard combination condition ([pr#15631](https://github.com/ceph/ceph/pull/15631), xie xingguo)
    - bluestore: os/bluestore: target\_bytes should scale with meta/data ratios. ([pr#15708](https://github.com/ceph/ceph/pull/15708), Mark Nelson)
    - bluestore,performance: os/bluestore: avoid overloading extents during reshard; atomic deferred\_batch\_ops ([pr#15502](https://github.com/ceph/ceph/pull/15502), xie xingguo)
    - bluestore,performance: os/bluestore: batch throttle ([pr#15284](https://github.com/ceph/ceph/pull/15284), Jianpeng Ma)
    - bluestore,performance: os/bluestore: keep statfs replica in RAM to avoid expensive KV retrieval ([pr#15309](https://github.com/ceph/ceph/pull/15309), Igor Fedotov)
    - bluestore,performance: os/bluestore/KernelDevice: fix sync write vs flush ([pr#15034](https://github.com/ceph/ceph/pull/15034), Sage Weil)
    - bluestore,performance: os/bluestore: move cache\_trim into MempoolThread ([pr#15380](https://github.com/ceph/ceph/pull/15380), xie xingguo)
    - bluestore,performance: os/bluestore: put bluefs in the middle of the shared device ([pr#14873](https://github.com/ceph/ceph/pull/14873), Sage Weil)
    - bluestore,performance: os/bluestore: separate kv\_sync\_thread into two parts ([pr#14035](https://github.com/ceph/ceph/pull/14035), Jianpeng Ma, Igor Fedotov, Sage Weil)
    - bluestore,performance: os/bluestore: try to unshare blobs for EC overwrite workload ([pr#14239](https://github.com/ceph/ceph/pull/14239), Sage Weil)
    - bluestore,tests: qa/objectstore/bluestore\*: fsck on mount ([pr#15785](https://github.com/ceph/ceph/pull/15785), Sage Weil)
    - bluestore,tests: test/unittest\_bluefs: When fsync ret is less than 0, fsync can not be… ([pr#15365](https://github.com/ceph/ceph/pull/15365), shiqi)
    - bluestore: wrap blob id when it reaches maximum value of int16\_t ([issue#19555](http://tracker.ceph.com/issues/19555), [pr#15654](https://github.com/ceph/ceph/pull/15654), Xiaoyan Li)
    - build/ops: 12.0.3 ([pr#15600](https://github.com/ceph/ceph/pull/15600), Jenkins Build Slave User)
    - build/ops: build: move bash\_completion.d/ceph to ceph-common ([pr#15148](https://github.com/ceph/ceph/pull/15148), Leo Zhang)
    - build/ops: build: remove ceph-disk-udev entirely ([pr#15259](https://github.com/ceph/ceph/pull/15259), Leo Zhang)
    - build/ops: build: revert -Wvla from #15342 ([pr#15469](https://github.com/ceph/ceph/pull/15469), Willem Jan Withagen)
    - build/ops: build: Use .S suffix for ppc64le assembly files ([issue#20106](http://tracker.ceph.com/issues/20106), [pr#15373](https://github.com/ceph/ceph/pull/15373), Andrew Solomon)
    - build/ops: ceph-detect-init: detect init system by poking the system ([issue#19884](http://tracker.ceph.com/issues/19884), [pr#15043](https://github.com/ceph/ceph/pull/15043), Kefu Chai)
    - build/ops,common: build: Adds C++ warning flag for C Variable-Length Arrays. ([pr#15342](https://github.com/ceph/ceph/pull/15342), Jesse Williamson)
    - build/ops,common: common/blkdev.cc: propagate get\_device\_by\_fd to different OSes ([pr#15547](https://github.com/ceph/ceph/pull/15547), Willem Jan Withagen)
    - build/ops: conditionalize rgw Beast frontend so it isn’t built on s390x architecture ([issue#20048](http://tracker.ceph.com/issues/20048), [pr#15225](https://github.com/ceph/ceph/pull/15225), Willem Jan Withagen, Nathan Cutler, Kefu Chai, Tim Serong, Casey Bodley)
    - build/ops,core: common/freebsd\_errno.cc: fix missing ; ([pr#15741](https://github.com/ceph/ceph/pull/15741), Willem Jan Withagen)
    - build/ops,core: erasure-code: update ec\_isa version + add missing AVX512 ISA-L sources ([pr#15636](https://github.com/ceph/ceph/pull/15636), Ganesh Mahalingam, Tushar Gohad)
    - build/ops,core,tests: osd/dmclock/testing: reorganize testing, building now optional ([pr#15375](https://github.com/ceph/ceph/pull/15375), J. Eric Ivancich)
    - build/ops: debian: ceph-mgr: fix package description ([pr#15513](https://github.com/ceph/ceph/pull/15513), Fabian Grünbichler)
    - build/ops: debian: sync logrotate packaging with downstream ([issue#19938](http://tracker.ceph.com/issues/19938), [pr#15567](https://github.com/ceph/ceph/pull/15567), Fabian Grünbichler)
    - build/ops: do\_cmake.sh: enable ccache if installed ([pr#15274](https://github.com/ceph/ceph/pull/15274), Sage Weil)
    - build/ops: drop libfcgi build dependency ([pr#15285](https://github.com/ceph/ceph/pull/15285), Nathan Cutler)
    - build/ops: .gitignore: exclude rpm files ([pr#15745](https://github.com/ceph/ceph/pull/15745), Leo Zhang)
    - build/ops: install-deps.sh: workaround setuptools’ dependency on six ([pr#15406](https://github.com/ceph/ceph/pull/15406), Kefu Chai)
    - build/ops: miscellaneous cleanups and fixes (run-make-check.sh, ceph.spec.in) ([issue#20091](http://tracker.ceph.com/issues/20091), [issue#20127](http://tracker.ceph.com/issues/20127), [pr#15399](https://github.com/ceph/ceph/pull/15399), Nathan Cutler)
    - build/ops,rbd,tests: test/librbd: decouple ceph\_test\_librbd\_api from libceph-common ([issue#20175](http://tracker.ceph.com/issues/20175), [pr#15611](https://github.com/ceph/ceph/pull/15611), Kefu Chai)
    - build/ops: rpm: apply epoch only if %epoch macro is defined ([pr#15286](https://github.com/ceph/ceph/pull/15286), Nathan Cutler)
    - build/ops: rpm: make librbd1 %post scriptlet depend on coreutils ([issue#20052](http://tracker.ceph.com/issues/20052), [pr#15231](https://github.com/ceph/ceph/pull/15231), Giacomo Comes, Nathan Cutler)
    - build/ops: rpm: move \_epoch\_prefix below Epoch definition ([pr#15417](https://github.com/ceph/ceph/pull/15417), Nathan Cutler)
    - build/ops: rpm: move RDMA and python-prettytables build dependencies to distro-conditional section ([pr#15200](https://github.com/ceph/ceph/pull/15200), Nathan Cutler)
    - build/ops: rpm: package COPYING, move sample ceph.conf to ceph-common ([pr#15596](https://github.com/ceph/ceph/pull/15596), Nathan Cutler)
    - build/ops: selinux: Allow read on var\_run\_t ([issue#16674](http://tracker.ceph.com/issues/16674), [pr#15523](https://github.com/ceph/ceph/pull/15523), Boris Ranto)
    - build/ops: selinux: Do parallel relabel on package install ([issue#20077](http://tracker.ceph.com/issues/20077), [pr#14871](https://github.com/ceph/ceph/pull/14871), Boris Ranto)
    - build/ops: selinux: Install ceph-base before ceph-selinux ([issue#20184](http://tracker.ceph.com/issues/20184), [pr#15490](https://github.com/ceph/ceph/pull/15490), Boris Ranto)
    - build/ops: Set subman cron attributes in spec file ([issue#20074](http://tracker.ceph.com/issues/20074), [pr#15270](https://github.com/ceph/ceph/pull/15270), Thomas Serlin)
    - build/ops: The Clangtastic Mr. Clocks ([pr#15186](https://github.com/ceph/ceph/pull/15186), Adam C. Emerson)
    - build/ops: yasm-wrapper: filter -pthread ([pr#15249](https://github.com/ceph/ceph/pull/15249), Alessandro Barbieri)
    - cephfs: #17980: MDS client blacklisting and blacklist on eviction ([issue#17980](http://tracker.ceph.com/issues/17980), [issue#9754](http://tracker.ceph.com/issues/9754), [pr#14610](https://github.com/ceph/ceph/pull/14610), John Spray)
    - cephfs: ceph: simplify CInode::maybe\_export\_pin() ([pr#15106](https://github.com/ceph/ceph/pull/15106), “Yan, Zheng”)
    - cephfs: client: avoid returning negative space available ([issue#20178](http://tracker.ceph.com/issues/20178), [pr#15481](https://github.com/ceph/ceph/pull/15481), John Spray)
    - cephfs: client: call the lru\_remove() twice,when trim cache ([pr#15662](https://github.com/ceph/ceph/pull/15662), huanwen ren)
    - cephfs: client: check for luminous MDS before sending FLUSH\_MDLOG ([pr#15805](https://github.com/ceph/ceph/pull/15805), John Spray)
    - cephfs: client: fix Dentry::dump ([pr#15779](https://github.com/ceph/ceph/pull/15779), huanwen ren)
    - cephfs: client: fix display ino in the ldout ([pr#15314](https://github.com/ceph/ceph/pull/15314), huanwen ren)
    - cephfs: client/inode: fix the dump type of Inode::dump() ([pr#15198](https://github.com/ceph/ceph/pull/15198), huanwen ren)
    - cephfs,common,rbd: blkin: librbd trace hooks ([pr#15053](https://github.com/ceph/ceph/pull/15053), Victor Araujo, Jason Dillaman)
    - cephfs: mds/MDBalancer: remove useless check\_targets and hit\_targets logic from MDS balancer ([issue#20131](http://tracker.ceph.com/issues/20131), [pr#15407](https://github.com/ceph/ceph/pull/15407), Zhi Zhang)
    - cephfs,mgr: pybind/mgr/fsstatus: use mds\_mem.dn as dentry counter ([pr#15255](https://github.com/ceph/ceph/pull/15255), Zhi Zhang)
    - cephfs: mon/FSCommand: fix indentation ([pr#15423](https://github.com/ceph/ceph/pull/15423), Sage Weil)
    - cephfs: mon/MDSMonitor: respect mds\_standby\_for\_rank config ([pr#15129](https://github.com/ceph/ceph/pull/15129), “Yan, Zheng”)
    - cephfs: osdc/Journaler: avoid executing on\_safe contexts prematurely ([issue#20055](http://tracker.ceph.com/issues/20055), [pr#15240](https://github.com/ceph/ceph/pull/15240), “Yan, Zheng”)
    - cephfs: osdc/Journaler: fix memory leak in Journaler::\_issue\_read() ([issue#20338](http://tracker.ceph.com/issues/20338), [pr#15776](https://github.com/ceph/ceph/pull/15776), “Yan, Zheng”)
    - cephfs: osdc/Objecter: fix inflight\_ops update ([pr#15768](https://github.com/ceph/ceph/pull/15768), “Yan, Zheng”)
    - cephfs: qa/cephfs: disable mds\_bal\_frag for TestStrays.test\_purge\_queue\_op\_rate ([issue#19892](http://tracker.ceph.com/issues/19892), [pr#15105](https://github.com/ceph/ceph/pull/15105), “Yan, Zheng”)
    - cephfs: qa/tasks/cephfs: use getattr to guarantee inode is in client cache ([issue#19912](http://tracker.ceph.com/issues/19912), [pr#15062](https://github.com/ceph/ceph/pull/15062), “Yan, Zheng”)
    - cephfs: qa: update log whitelists for kcephfs suite ([pr#14922](https://github.com/ceph/ceph/pull/14922), “Yan, Zheng”)
    - cephfs,tests: ceph-object-corpus: mark MMDSSlaveRequest incompat change ([pr#15730](https://github.com/ceph/ceph/pull/15730), Sage Weil)
    - cephfs,tests: qa: fix float parse error in test\_fragment ([pr#15122](https://github.com/ceph/ceph/pull/15122), Patrick Donnelly)
    - cephfs,tests: qa: misc cephfs test improvements ([issue#20131](http://tracker.ceph.com/issues/20131), [pr#15411](https://github.com/ceph/ceph/pull/15411), John Spray)
    - cephfs,tests: qa: silence upgrade test failure ([issue#19934](http://tracker.ceph.com/issues/19934), [pr#15126](https://github.com/ceph/ceph/pull/15126), Patrick Donnelly)
    - cephfs,tests: qa: simplify TestJournalRepair ([pr#15096](https://github.com/ceph/ceph/pull/15096), John Spray)
    - cephfs: tools/cephfs: remove apply mode of cephfs-journal-tool ([pr#15715](https://github.com/ceph/ceph/pull/15715), John Spray)
    - cleanup: src: put-to operator function - const input cleanup ([issue#3977](http://tracker.ceph.com/issues/3977), [pr#15364](https://github.com/ceph/ceph/pull/15364), Jos Collin)
    - cmake: Add -finstrument-functions flag to OSD code ([pr#15055](https://github.com/ceph/ceph/pull/15055), Mohamad Gebai)
    - cmake: build boost as an external project ([pr#15376](https://github.com/ceph/ceph/pull/15376), Kefu Chai)
    - cmake: check the existence of gperf before using it ([pr#15164](https://github.com/ceph/ceph/pull/15164), Kefu Chai)
    - cmake: do not add dependencies to INTERFACE library on cmake < 3.3 ([pr#15813](https://github.com/ceph/ceph/pull/15813), Kefu Chai)
    - cmake: do not link libcommon against some libs ([pr#15340](https://github.com/ceph/ceph/pull/15340), Willem Jan Withagen)
    - cmake: exclude [\*](#id3).css while generating ctags ([pr#15663](https://github.com/ceph/ceph/pull/15663), Leo Zhang)
    - cmake: fix boost components for WITH\_SYSTEM\_BOOST ([pr#15160](https://github.com/ceph/ceph/pull/15160), Bassam Tabbara)
    - cmake: improved build speed by 5x when using ccache ([pr#15147](https://github.com/ceph/ceph/pull/15147), Bassam Tabbara)
    - cmake: link against fcgi only if enabled ([pr#15425](https://github.com/ceph/ceph/pull/15425), Yao Zongyou)
    - cmake: misc fixes for build on i386 ([pr#15516](https://github.com/ceph/ceph/pull/15516), James Page)
    - cmake: rgw: do not link against boost in a wholesale ([pr#15347](https://github.com/ceph/ceph/pull/15347), Nathan Cutler, Kefu Chai)
    - cmake: workaound ccache issue with .S assembly files ([pr#15142](https://github.com/ceph/ceph/pull/15142), Bassam Tabbara)
    - common: add ceph::size() ([pr#15181](https://github.com/ceph/ceph/pull/15181), Kefu Chai)
    - common: ceph\_osd: remove client message cap limit ([pr#14944](https://github.com/ceph/ceph/pull/14944), Haomai Wang)
    - common: cls: optimize header file dependency ([pr#15165](https://github.com/ceph/ceph/pull/15165), Brad Hubbard, Xiaowei Chen)
    - common: cmdparse: more constness ([pr#15023](https://github.com/ceph/ceph/pull/15023), Kefu Chai)
    - common: common/ceph\_context: ‘config diff get’ option added ([pr#10736](https://github.com/ceph/ceph/pull/10736), Daniel Oliveira)
    - common: common/ceph\_context: fix leak of registered commands on exit ([pr#15302](https://github.com/ceph/ceph/pull/15302), xie xingguo)
    - common: common/freebsd\_errno.cc: fixed again a stupid typo ([pr#15742](https://github.com/ceph/ceph/pull/15742), Willem Jan Withagen)
    - common: common/iso\_8601.cc: Make return expression Clang compatible ([pr#15336](https://github.com/ceph/ceph/pull/15336), Willem Jan Withagen)
    - common: common/LogEntry: include EntityName in log entries ([pr#15395](https://github.com/ceph/ceph/pull/15395), Sage Weil)
    - common: common,osdc: remove atomic\_t completely ([pr#15562](https://github.com/ceph/ceph/pull/15562), Kefu Chai)
    - common: common/perf\_counters: add average time for PERFCOUNTER\_TIME ([pr#15478](https://github.com/ceph/ceph/pull/15478), xie xingguo)
    - common: common/perf\_counters: make schema more friendly and update docs ([pr#14933](https://github.com/ceph/ceph/pull/14933), Sage Weil)
    - common: common,test: migrate atomic\_t to std::atomic ([pr#14866](https://github.com/ceph/ceph/pull/14866), Jesse Williamson)
    - common: config\_opt: use bool instead of int for the default value of filestore\_debug\_omap\_check ([pr#15651](https://github.com/ceph/ceph/pull/15651), Leo Zhang)
    - common,core: ceph\_test\_rados\_api\_misc: fix LibRadosMiscConnectFailure.ConnectFailure retry ([issue#19901](http://tracker.ceph.com/issues/19901), [pr#15522](https://github.com/ceph/ceph/pull/15522), Sage Weil)
    - common: core/common: Fix ENODATA for FreeBSD with compat.h ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15685](https://github.com/ceph/ceph/pull/15685), Willem Jan Withagen)
    - common,core: osd/OSDMap: make osd\_state 32 bits wide ([pr#15390](https://github.com/ceph/ceph/pull/15390), Sage Weil)
    - common,core: osd/OSDMap: replace require\_\*\_osds flags with a single require\_osd\_release field ([pr#15068](https://github.com/ceph/ceph/pull/15068), Sage Weil)
    - common,core: osd/OSDMap: replace string-based min\_compat\_client with a CEPH\_RELEASE\_\* uint8\_t ([pr#15351](https://github.com/ceph/ceph/pull/15351), Sage Weil)
    - common: crc32c: include acconfig.h to fix ceph\_crc32c\_aarch64() ([pr#15515](https://github.com/ceph/ceph/pull/15515), Kefu Chai)
    - common: crush/CrushWrapper: fix has\_incompat\_choose\_args ([pr#15218](https://github.com/ceph/ceph/pull/15218), Sage Weil)
    - common: crush/CrushWrapper: fix has\_incompat\_choose\_args() ([pr#15244](https://github.com/ceph/ceph/pull/15244), Sage Weil)
    - common: denc: add encode/decode for basic\_sstring ([pr#15135](https://github.com/ceph/ceph/pull/15135), Kefu Chai, Casey Bodley)
    - common: fix typo in option of rados\_mon\_op\_timeout’s comment ([pr#15681](https://github.com/ceph/ceph/pull/15681), Leo Zhang)
    - common: get\_process\_name: use getprogname on bsd systems ([pr#15338](https://github.com/ceph/ceph/pull/15338), Mykola Golub)
    - common: Improved CRC calculation for zero buffers ([pr#11966](https://github.com/ceph/ceph/pull/11966), Adam Kupczyk)
    - common: include/lru.h: add const to member functions ([pr#15408](https://github.com/ceph/ceph/pull/15408), yonghengdexin735)
    - common: include/rados: Fix typo in rados\_ioctx\_cct() doc ([pr#15220](https://github.com/ceph/ceph/pull/15220), Jos Collin)
    - common: include: Redo some includes for FreeBSD ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15337](https://github.com/ceph/ceph/pull/15337), Willem Jan Withagen)
    - common: initialize \_hash in LogEntryKey() ([pr#15615](https://github.com/ceph/ceph/pull/15615), Jos Collin)
    - common: int\_types.h: remove hacks to workaround old systems ([pr#15069](https://github.com/ceph/ceph/pull/15069), Kefu Chai)
    - common: librados,libradosstriper,test: migrate atomic\_t to std::atomic (baragon) ([pr#14658](https://github.com/ceph/ceph/pull/14658), Jesse Williamson)
    - common: libradosstriper: Add example code ([pr#15350](https://github.com/ceph/ceph/pull/15350), Logan Blyth)
    - common: mempool: improve dump; fix buffer accounting bugs ([pr#15403](https://github.com/ceph/ceph/pull/15403), Sage Weil)
    - common: mgr/PyFormatter: implement dump\_format\_va ([pr#15634](https://github.com/ceph/ceph/pull/15634), Sage Weil)
    - common,mon: messenger,client,compressor: migrate atomic\_t to std::atomic ([pr#14657](https://github.com/ceph/ceph/pull/14657), Jesse Williamson)
    - common,mon: mon,crush: add ‘osd crush swap-bucket’ command ([pr#15072](https://github.com/ceph/ceph/pull/15072), Sage Weil)
    - common: msg/async: add assert of ms\_async\_op\_threads > 0 ([pr#15629](https://github.com/ceph/ceph/pull/15629), linbing)
    - common,performance: buffer: allow buffers to be accounted in arbitrary mempools ([pr#15352](https://github.com/ceph/ceph/pull/15352), Sage Weil)
    - common,performance: crc32c: Add ppc64le fast zero optimized assembly. ([pr#15100](https://github.com/ceph/ceph/pull/15100), Andrew Solomon)
    - common,performance: inline\_memory: optimized mem\_is\_zero for non-x64 ([pr#15307](https://github.com/ceph/ceph/pull/15307), Piotr Dałek)
    - common,performance: kv/rocksdb: supports SliceParts interface ([pr#15058](https://github.com/ceph/ceph/pull/15058), Haomai Wang)
    - common,performance: osd/OSDMap: make pg\_temp more efficient ([pr#15291](https://github.com/ceph/ceph/pull/15291), Sage Weil)
    - common,rdma: msg/async/rdma: automatically set RDMAV\_HUGEPAGES\_SAFE according to conf ([pr#15755](https://github.com/ceph/ceph/pull/15755), DanielBar-On)
    - common: Remove redundant includes - 2 ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15169](https://github.com/ceph/ceph/pull/15169), Jos Collin)
    - common: Remove redundant includes - 3 ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15204](https://github.com/ceph/ceph/pull/15204), Jos Collin)
    - common: Remove redundant includes - 4 ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15251](https://github.com/ceph/ceph/pull/15251), Jos Collin)
    - common: Remove redundant includes - 5 ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15267](https://github.com/ceph/ceph/pull/15267), Jos Collin)
    - common: Remove redundant includes - 6 ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15299](https://github.com/ceph/ceph/pull/15299), Jos Collin)
    - common: Remove redundant includes ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15042](https://github.com/ceph/ceph/pull/15042), Brad Hubbard)
    - common: Remove redundant includes ([issue#19883](http://tracker.ceph.com/issues/19883), [pr#15086](https://github.com/ceph/ceph/pull/15086), Jos Collin)
    - common: src/common/ceph\_string: stringify new osd states ([pr#15751](https://github.com/ceph/ceph/pull/15751), xie xingguo)
    - common,tests: ceph\_test\_rados\_api\_list: more fix LibRadosListNP.ListObjectsError ([issue#19963](http://tracker.ceph.com/issues/19963), [pr#15138](https://github.com/ceph/ceph/pull/15138), Sage Weil)
    - common,tests: test: Make screencandy optional for FreeBSD ([pr#15444](https://github.com/ceph/ceph/pull/15444), Willem Jan Withagen)
    - common: xio: migrate atomic\_t to std::atomic<> ([pr#15230](https://github.com/ceph/ceph/pull/15230), Jesse Williamson)
    - core: ceph-dencoder: Silence coverity CID 1412579 ([pr#15744](https://github.com/ceph/ceph/pull/15744), Brad Hubbard)
    - core: ceph-disk: do not setup\_statedir on trigger ([issue#19941](http://tracker.ceph.com/issues/19941), [pr#15410](https://github.com/ceph/ceph/pull/15410), Loic Dachary)
    - core: ceph-objectstore-tool: do not populate snapmapper with missing clones ([issue#19943](http://tracker.ceph.com/issues/19943), [pr#15787](https://github.com/ceph/ceph/pull/15787), Sage Weil)
    - core: compressor: add LZ4 support ([pr#15434](https://github.com/ceph/ceph/pull/15434), Haomai Wang)
    - core: compressor: optimize header file dependency ([pr#15187](https://github.com/ceph/ceph/pull/15187), Brad Hubbard, Xiaowei Chen)
    - core: crush, mon: make jewel the lower bound for client/crush compat for new clusters ([pr#15370](https://github.com/ceph/ceph/pull/15370), Sage Weil)
    - core: erasure-code: optimize header file dependency ([pr#15172](https://github.com/ceph/ceph/pull/15172), Brad Hubbard, Xiaowei Chen)
    - core: erasure-code: Remove duplicate of isa-l files ([pr#15372](https://github.com/ceph/ceph/pull/15372), Ganesh Mahalingam)
    - core: filestore: migrate atomic\_t to std::atomic<> ([pr#15228](https://github.com/ceph/ceph/pull/15228), Jesse Williamson)
    - core: include/types.h, introduce host\_to\_ceph\_errno ([pr#15496](https://github.com/ceph/ceph/pull/15496), Willem Jan Withagen)
    - core: Install Pecan for FreeBSD ([pr#15610](https://github.com/ceph/ceph/pull/15610), Willem Jan Withagen)
    - core: introduce (and fix) code to pass errno to other OSes ([pr#15495](https://github.com/ceph/ceph/pull/15495), Willem Jan Withagen)
    - core: messages/MOSDPing: initialize MOSDPing padding ([issue#20323](http://tracker.ceph.com/issues/20323), [pr#15714](https://github.com/ceph/ceph/pull/15714), Sage Weil)
    - core,mgr: mgr/DaemonServer: stop spamming log with pg stats ([pr#15487](https://github.com/ceph/ceph/pull/15487), Sage Weil)
    - core,mgr,mon: mon/PGMap: fix osd\_epoch update when removing osd\_stat ([issue#20208](http://tracker.ceph.com/issues/20208), [pr#15573](https://github.com/ceph/ceph/pull/15573), Sage Weil)
    - core,mgr,tests: qa/suites/rados/rest: test restful mgr module ([pr#15604](https://github.com/ceph/ceph/pull/15604), Sage Weil)
    - core: mon,mgr: fix “ceph osd df”, add some tools to find untested commands ([issue#20256](http://tracker.ceph.com/issues/20256), [pr#15675](https://github.com/ceph/ceph/pull/15675), Greg Farnum)
    - core,mon: mon/LogMonitor: ‘log last’ command ([pr#15497](https://github.com/ceph/ceph/pull/15497), Sage Weil)
    - core,mon: mon/MgrStatMonitor: keep mgrstat version ahead of pgmon ([issue#20219](http://tracker.ceph.com/issues/20219), [pr#15584](https://github.com/ceph/ceph/pull/15584), Sage Weil)
    - core,mon: mon,osd: add crush\_version to OSDMap, and allow crush map updates to gate on crush\_version ([pr#15533](https://github.com/ceph/ceph/pull/15533), Sage Weil)
    - core,mon: mon/OSDMonitor: cancel mapping job from update\_from\_paxos ([issue#20067](http://tracker.ceph.com/issues/20067), [pr#15320](https://github.com/ceph/ceph/pull/15320), Sage Weil)
    - core,mon: mon/OSDMonitor: use up set instead of acting set in reweight\_by\_utilization ([pr#13802](https://github.com/ceph/ceph/pull/13802), Mingxin Liu)
    - core,mon: mon/PGMap: call blocked requests ERR not WARN ([pr#15501](https://github.com/ceph/ceph/pull/15501), Sage Weil)
    - core: mon/OSDMonitor: batch noup/noin osds support ([pr#15725](https://github.com/ceph/ceph/pull/15725), xie xingguo)
    - core: mon/OSDMonitor: batch OSDs nodown/noout support ([pr#15381](https://github.com/ceph/ceph/pull/15381), xie xingguo)
    - core: mon/OSDMonitor: change info in ‘osd failed’ messages ([pr#15321](https://github.com/ceph/ceph/pull/15321), Sage Weil)
    - core: mon,osd/OSDMap: a couple pg-upmap fixes ([pr#15319](https://github.com/ceph/ceph/pull/15319), Sage Weil)
    - core: msg/async: avoid requeue racing with handle\_write ([issue#20093](http://tracker.ceph.com/issues/20093), [pr#15324](https://github.com/ceph/ceph/pull/15324), Haomai Wang)
    - core: msg/async: fix deleted\_conn is out of sync with conns ([issue#20230](http://tracker.ceph.com/issues/20230), [pr#15645](https://github.com/ceph/ceph/pull/15645), Haomai Wang)
    - core: objclass-sdk: use namespace ceph for bufferlist ([pr#15581](https://github.com/ceph/ceph/pull/15581), Neha Ojha)
    - core: osd/ECTransaction: only read partial stripes when below _original_ object size ([issue#19882](http://tracker.ceph.com/issues/19882), [pr#15712](https://github.com/ceph/ceph/pull/15712), Sage Weil)
    - core: osd,librados: add manifest, redirect ([pr#15325](https://github.com/ceph/ceph/pull/15325), Sage Weil)
    - core: osd, messages/MOSDPing: bunch of fixes related to ping inflation ([pr#15727](https://github.com/ceph/ceph/pull/15727), Piotr Dałek)
    - core: osd/OSD: bump up current version; conditionally encoding manifest into oi ([pr#15687](https://github.com/ceph/ceph/pull/15687), xie xingguo)
    - core: osd/OSDMap: Change _pg\_to\__ to return void ([pr#15684](https://github.com/ceph/ceph/pull/15684), Brad Hubbard)
    - core: osd/OSDMap: improve upmap calculation ([issue#19818](http://tracker.ceph.com/issues/19818), [pr#14902](https://github.com/ceph/ceph/pull/14902), Sage Weil)
    - core: osd/PG: drop pre-firefly compat\_mode for choose\_\*\_acting ([pr#15057](https://github.com/ceph/ceph/pull/15057), Sage Weil)
    - core: osd/pglog: remove loop through empty collection ([pr#15121](https://github.com/ceph/ceph/pull/15121), J. Eric Ivancich)
    - core: osd/PG: make non-empty PastIntervals non-fatal ([issue#20167](http://tracker.ceph.com/issues/20167), [pr#15639](https://github.com/ceph/ceph/pull/15639), Sage Weil)
    - core: osd/PrimaryLogPG: clear oi from trim\_object() ([issue#19947](http://tracker.ceph.com/issues/19947), [pr#15519](https://github.com/ceph/ceph/pull/15519), Sage Weil)
    - core: osd/PrimaryLogPG: fix oi reset during trim\_object ([issue#19947](http://tracker.ceph.com/issues/19947), [pr#15696](https://github.com/ceph/ceph/pull/15696), Sage Weil)
    - core: osd/PrimaryLogPG: record prior\_version for DELETE events ([issue#20274](http://tracker.ceph.com/issues/20274), [pr#15649](https://github.com/ceph/ceph/pull/15649), Sage Weil)
    - core: os/filestore: when print log, use \_\_func\_\_ instead of hard code function name ([pr#15261](https://github.com/ceph/ceph/pull/15261), mychoxin)
    - core: os/filestore: zfs add get\_name() ([pr#15650](https://github.com/ceph/ceph/pull/15650), Yanhu Cao)
    - core,performance: msg/async: reduce write\_lock contention ([pr#15092](https://github.com/ceph/ceph/pull/15092), Haomai Wang)
    - core,performance: osd/OSD.h: requeue the scrub job with higher priority to shorten the blocking time of related requests ([pr#15552](https://github.com/ceph/ceph/pull/15552), Jin Cai)
    - core: qa: do not restrict valgrind runs to centos ([issue#18126](http://tracker.ceph.com/issues/18126), [pr#15389](https://github.com/ceph/ceph/pull/15389), Greg Farnum)
    - core,rgw: qa: Removed all ‘default\_idle\_timeout’ due to chnage in rwg task ([pr#15420](https://github.com/ceph/ceph/pull/15420), Yuri Weinstein)
    - core,rgw,tests: qa/rgw\_snaps: move default\_idle\_timeout config under the client ([issue#20128](http://tracker.ceph.com/issues/20128), [pr#15400](https://github.com/ceph/ceph/pull/15400), Yehuda Sadeh)
    - core: src/ceph.in: Use env(CEPH\_DEV) to suppress noise from ceph ([pr#14746](https://github.com/ceph/ceph/pull/14746), Willem Jan Withagen)
    - core,tests: ceph-disk: sensible default for block.db ([pr#15576](https://github.com/ceph/ceph/pull/15576), Loic Dachary)
    - core,tests: ceph\_test\_rados\_api\_\*: wait for snap trim on ENOENT during cleanup ([issue#19948](http://tracker.ceph.com/issues/19948), [pr#15638](https://github.com/ceph/ceph/pull/15638), Sage Weil)
    - core,tests: qa/suites/rados/[\*](#id14)/at-end: wait for healthy before scrubbing ([pr#15245](https://github.com/ceph/ceph/pull/15245), Sage Weil)
    - core,tests: qa/suites/rados/singleton-nomsg/health-warnings: behave on ext4 ([issue#20043](http://tracker.ceph.com/issues/20043), [pr#15207](https://github.com/ceph/ceph/pull/15207), Sage Weil)
    - core,tests: qa/suites/rados: temporarily remove scrub\_test from basic/ until post-luminous ([issue#19935](http://tracker.ceph.com/issues/19935), [pr#15202](https://github.com/ceph/ceph/pull/15202), Sage Weil)
    - core,tests: qa/suites/upgrade/kraken-x: enable experimental for bluestore ([pr#15359](https://github.com/ceph/ceph/pull/15359), Sage Weil)
    - core,tests: qa/tasks/ceph\_manager: get osds all in after thrashing ([pr#15784](https://github.com/ceph/ceph/pull/15784), Sage Weil)
    - core,tests: qa/tasks/ceph: osd\_scrub\_pgs: reissue scrub requests in loop ([issue#20326](http://tracker.ceph.com/issues/20326), [pr#15747](https://github.com/ceph/ceph/pull/15747), Sage Weil)
    - core,tests: qa/tasks/ceph.py: tolerate active+clean+something ([pr#15717](https://github.com/ceph/ceph/pull/15717), Sage Weil)
    - core,tests: qa/workunits/cephtool/test.sh: fix osd full health detail grep ([issue#20187](http://tracker.ceph.com/issues/20187), [pr#15494](https://github.com/ceph/ceph/pull/15494), Sage Weil)
    - core,tests: qa/workunits/rados/test\_health\_warning: misc fixes ([issue#19990](http://tracker.ceph.com/issues/19990), [pr#15201](https://github.com/ceph/ceph/pull/15201), Sage Weil)
    - core,tests: Revert “qa: do not restrict valgrind runs to centos” ([issue#20360](http://tracker.ceph.com/issues/20360), [pr#15791](https://github.com/ceph/ceph/pull/15791), Sage Weil)
    - core,tests: test/osd/TestRados.cc: run set-redirect test after finishing setup ([issue#20114](http://tracker.ceph.com/issues/20114), [pr#15385](https://github.com/ceph/ceph/pull/15385), Myoungwon Oh)
    - core,tools: osdmaptool: require –upmap-save before modifying input osdmap ([pr#15247](https://github.com/ceph/ceph/pull/15247), Sage Weil)
    - crush: add missing tunable in tests ([pr#15412](https://github.com/ceph/ceph/pull/15412), Loic Dachary)
    - crush: detect and (usually) fix ruleset != rule id ([pr#13683](https://github.com/ceph/ceph/pull/13683), Sage Weil)
    - crush: encode can override weights with weight set ([issue#19836](http://tracker.ceph.com/issues/19836), [pr#15002](https://github.com/ceph/ceph/pull/15002), Loic Dachary)
    - crush: optimize header file dependency ([pr#9307](https://github.com/ceph/ceph/pull/9307), Xiaowei Chen)
    - crush: update choose\_args when items are added/removed ([pr#15311](https://github.com/ceph/ceph/pull/15311), Loic Dachary)
    - doc: 12.1.0/release notes 2 ([pr#15627](https://github.com/ceph/ceph/pull/15627), Abhishek Lekshmanan)
    - doc: add descriptions for mon/mgr options ([pr#15032](https://github.com/ceph/ceph/pull/15032), Kefu Chai)
    - doc: add FreeBSD manual install ([pr#14941](https://github.com/ceph/ceph/pull/14941), Willem Jan Withagen)
    - doc: add new cn ceph mirror to doc and mirroring ([pr#15089](https://github.com/ceph/ceph/pull/15089), Shengjing Zhu)
    - doc: add rados xattr commands to manpage ([pr#15362](https://github.com/ceph/ceph/pull/15362), Andreas Gerstmayr)
    - doc: add README to dmclock subdir to inform developers it’s a git subtree ([pr#15386](https://github.com/ceph/ceph/pull/15386), J. Eric Ivancich)
    - doc: AUTHORS: update with release manager, backport team ([pr#15391](https://github.com/ceph/ceph/pull/15391), Sage Weil)
    - doc: Change the default values of some OSD options ([issue#20199](http://tracker.ceph.com/issues/20199), [pr#15566](https://github.com/ceph/ceph/pull/15566), Bara Ancincova)
    - doc: describe CephFS max\_file\_size ([pr#15287](https://github.com/ceph/ceph/pull/15287), Ken Dreyer)
    - doc: describe mark\_events logging available via the OSD’s OpTracker ([pr#15095](https://github.com/ceph/ceph/pull/15095), Greg Farnum)
    - doc: dev improve the s3tests doc to reflect current scripts ([pr#15180](https://github.com/ceph/ceph/pull/15180), Abhishek Lekshmanan)
    - doc: doc/cephfs: mention RADOS object size limit ([pr#15550](https://github.com/ceph/ceph/pull/15550), John Spray)
    - doc: doc/release-notes: update which jewel version does sortbitwise warning ([pr#15209](https://github.com/ceph/ceph/pull/15209), Sage Weil)
    - doc: doc/release-note: update release-note ([pr#15748](https://github.com/ceph/ceph/pull/15748), liuchang0812)
    - doc: doc/rgw: remove fastcgi page and sample configs ([pr#15133](https://github.com/ceph/ceph/pull/15133), Casey Bodley)
    - doc: doc/rgw: remove Federated Configuration, clean up multisite ([issue#19504](http://tracker.ceph.com/issues/19504), [issue#18082](http://tracker.ceph.com/issues/18082), [pr#15132](https://github.com/ceph/ceph/pull/15132), Casey Bodley)
    - doc: Documentation Fixes for [http://tracker.ceph.com/issues/19879](http://tracker.ceph.com/issues/19879) ([issue#20057](http://tracker.ceph.com/issues/20057), [issue#19879](http://tracker.ceph.com/issues/19879), [pr#15606](https://github.com/ceph/ceph/pull/15606), Sameer Tiwari)
    - doc: document perf historgrams ([pr#15150](https://github.com/ceph/ceph/pull/15150), Piotr Dałek)
    - doc: Document RGW quota cache options ([issue#18747](http://tracker.ceph.com/issues/18747), [pr#13395](https://github.com/ceph/ceph/pull/13395), Daniel Gryniewicz)
    - doc: document the setup of restful and dashboard plugins ([issue#20239](http://tracker.ceph.com/issues/20239), [pr#15707](https://github.com/ceph/ceph/pull/15707), Kefu Chai)
    - doc: fix broken link in erasure-code.rst ([issue#19972](http://tracker.ceph.com/issues/19972), [pr#15143](https://github.com/ceph/ceph/pull/15143), MinSheng Lin)
    - doc: fix factual inaccuracy in doc/architecture.rst ([pr#15235](https://github.com/ceph/ceph/pull/15235), Nathan Cutler, Sage Weil)
    - doc: fixing an error in 12.0.3 release notes ([pr#15195](https://github.com/ceph/ceph/pull/15195), Abhishek Lekshmanan)
    - doc: fix syntax on code snippets in cephfs/multimds ([pr#15499](https://github.com/ceph/ceph/pull/15499), John Spray)
    - doc: freshen mgr docs ([pr#15690](https://github.com/ceph/ceph/pull/15690), John Spray)
    - doc: kill some broken links ([pr#15203](https://github.com/ceph/ceph/pull/15203), liuchang0812)
    - doc: mailmap for v12.0.2 ([pr#14753](https://github.com/ceph/ceph/pull/14753), Abhishek Lekshmanan)
    - doc: mailmap: Leo Zhang infomation and affiliation ([pr#15145](https://github.com/ceph/ceph/pull/15145), Leo Zhang)
    - doc: mention certain conf vars should be in global ([pr#15119](https://github.com/ceph/ceph/pull/15119), Ali Maredia)
    - doc: Merge pull request from stiwari/wip-19879 ([issue#19879](http://tracker.ceph.com/issues/19879), [pr#15609](https://github.com/ceph/ceph/pull/15609), Sameer Tiwari)
    - doc: minor fixes in radosgw/ ([pr#15103](https://github.com/ceph/ceph/pull/15103), Drunkard Zhang)
    - doc: PendingReleaseNotes: notes on whiteouts vs pgnls ([pr#15575](https://github.com/ceph/ceph/pull/15575), Sage Weil)
    - doc: PendingReleaseNotes: warning about ‘osd rm ...’ and #19119 ([issue#19119](http://tracker.ceph.com/issues/19119), [pr#13731](https://github.com/ceph/ceph/pull/13731), Sage Weil)
    - doc: release-notes clarify about rgw encryption ([pr#14800](https://github.com/ceph/ceph/pull/14800), Abhishek Lekshmanan)
    - doc: release notes for v12.0.3 (dev) ([pr#15090](https://github.com/ceph/ceph/pull/15090), Abhishek Lekshmanan)
    - doc: remove some non-existent and fix the default value according to … ([pr#15664](https://github.com/ceph/ceph/pull/15664), Leo Zhang)
    - docs document “osd recovery max single start” setting ([issue#17396](http://tracker.ceph.com/issues/17396), [pr#15275](https://github.com/ceph/ceph/pull/15275), Ken Dreyer)
    - doc: tools/cephfs: fix cephfs-journal-tool –help ([pr#15614](https://github.com/ceph/ceph/pull/15614), John Spray)
    - doc: typo fixes on hyperlink/words ([pr#15144](https://github.com/ceph/ceph/pull/15144), Drunkard Zhang)
    - doc: update sample explaning “%” operator in test suites ([pr#15511](https://github.com/ceph/ceph/pull/15511), Kefu Chai)
    - doc: Update some RGW documentation ([pr#15175](https://github.com/ceph/ceph/pull/15175), Jens Rosenboom)
    - doc: update the usage of ‘ceph-deploy purge’ ([pr#15080](https://github.com/ceph/ceph/pull/15080), Yu Shengzuo)
    - doc: use do\_cmake.sh instead of cmake .. ([pr#15110](https://github.com/ceph/ceph/pull/15110), Kefu Chai)
    - librbd: add create timestamp metadata for image ([pr#15757](https://github.com/ceph/ceph/pull/15757), runsisi)
    - librbd: discard related IO should skip op if object non-existent ([issue#19962](http://tracker.ceph.com/issues/19962), [pr#15239](https://github.com/ceph/ceph/pull/15239), Mykola Golub)
    - librbd: do not raise an error if trash list returns -ENOENT ([pr#15085](https://github.com/ceph/ceph/pull/15085), runsisi)
    - librbd: filter expected error codes from is\_exclusive\_lock\_owner ([issue#20182](http://tracker.ceph.com/issues/20182), [pr#15483](https://github.com/ceph/ceph/pull/15483), Jason Dillaman)
    - librbd: fix issues with image removal state machine ([pr#15734](https://github.com/ceph/ceph/pull/15734), Jason Dillaman)
    - librbd: fix valgrind errors and ensure tests detect future leaks ([pr#15415](https://github.com/ceph/ceph/pull/15415), Jason Dillaman)
    - librbd: optimize copy-up to add hints only once to object op ([issue#19875](http://tracker.ceph.com/issues/19875), [pr#15037](https://github.com/ceph/ceph/pull/15037), Mykola Golub)
    - librbd: potential read IO hang when image is flattened ([issue#19832](http://tracker.ceph.com/issues/19832), [pr#15234](https://github.com/ceph/ceph/pull/15234), Jason Dillaman)
    - librbd: reacquire lock should update lock owner client id ([issue#19929](http://tracker.ceph.com/issues/19929), [pr#15093](https://github.com/ceph/ceph/pull/15093), Jason Dillaman)
    - librbd: reduce potential of erroneous blacklisting on image close ([issue#19970](http://tracker.ceph.com/issues/19970), [pr#15162](https://github.com/ceph/ceph/pull/15162), Jason Dillaman)
    - librbd: remove unused rbd\_image\_options\_t ostream operator ([pr#15443](https://github.com/ceph/ceph/pull/15443), Mykola Golub)
    - mds: change the type of data\_pools ([pr#15278](https://github.com/ceph/ceph/pull/15278), Vicente Cheng)
    - mds: check export pin during replay ([issue#20039](http://tracker.ceph.com/issues/20039), [pr#15205](https://github.com/ceph/ceph/pull/15205), Patrick Donnelly)
    - mds: Client syncfs is slow (waits for next MDS tick) ([issue#20129](http://tracker.ceph.com/issues/20129), [pr#15544](https://github.com/ceph/ceph/pull/15544), dongdong tao)
    - mds: explicitly output error msg for dump cache asok command ([pr#15592](https://github.com/ceph/ceph/pull/15592), Zhi Zhang)
    - mds: fix CDir::merge() for mds\_debug\_auth\_pins ([issue#19946](http://tracker.ceph.com/issues/19946), [pr#15130](https://github.com/ceph/ceph/pull/15130), “Yan, Zheng”)
    - mds: fix client ID truncation ([pr#15258](https://github.com/ceph/ceph/pull/15258), Henry Chang)
    - mds: fix hangs involving re-entrant calls to journaler ([issue#20165](http://tracker.ceph.com/issues/20165), [pr#15430](https://github.com/ceph/ceph/pull/15430), John Spray)
    - mds: improvements for stray reintegration ([pr#15548](https://github.com/ceph/ceph/pull/15548), “Yan, Zheng”)
    - mds: limit client writable range increment ([issue#19955](http://tracker.ceph.com/issues/19955), [pr#15131](https://github.com/ceph/ceph/pull/15131), “Yan, Zheng”)
    - mds: mds perf item ‘l\_mdl\_expos’ always behind journaler ([pr#15621](https://github.com/ceph/ceph/pull/15621), redickwang)
    - mds: miscellaneous multimds fixes part2 ([pr#15125](https://github.com/ceph/ceph/pull/15125), “Yan, Zheng”)
    - mds: miscellaneous multimds fixes ([pr#14550](https://github.com/ceph/ceph/pull/14550), “Yan, Zheng”)
    - mds: multimds flock fixes ([pr#15440](https://github.com/ceph/ceph/pull/15440), “Yan, Zheng”)
    - mds: Pass empty string to clear mantle balancer ([issue#20076](http://tracker.ceph.com/issues/20076), [pr#15282](https://github.com/ceph/ceph/pull/15282), Zhi Zhang)
    - mds: properly create aux subtrees for pinned directory ([issue#20083](http://tracker.ceph.com/issues/20083), [pr#15300](https://github.com/ceph/ceph/pull/15300), “Yan, Zheng”)
    - mds: save projected path into inode\_t::stray\_prior\_path ([issue#20340](http://tracker.ceph.com/issues/20340), [pr#15800](https://github.com/ceph/ceph/pull/15800), “Yan, Zheng”)
    - mgr: ceph-create-keys: update client.admin if it already exists ([issue#19940](http://tracker.ceph.com/issues/19940), [pr#15112](https://github.com/ceph/ceph/pull/15112), John Spray)
    - mgr: ceph: introduce “tell x help” subcommand ([issue#19885](http://tracker.ceph.com/issues/19885), [pr#15111](https://github.com/ceph/ceph/pull/15111), liuchang0812)
    - mgr: ceph-mgr: Implement new pecan-based rest api ([pr#14457](https://github.com/ceph/ceph/pull/14457), Boris Ranto)
    - mgr: cleanup, stop clients sending in perf counters ([pr#15578](https://github.com/ceph/ceph/pull/15578), John Spray)
    - mgr: dashboard code cleanup ([pr#15577](https://github.com/ceph/ceph/pull/15577), John Spray)
    - mgr: dashboard GUI module ([pr#14946](https://github.com/ceph/ceph/pull/14946), John Spray, Dan Mick)
    - mgr: fix MgrStandby eating messages ([pr#15716](https://github.com/ceph/ceph/pull/15716), John Spray)
    - mgr: load modules in separate python sub-interpreters ([pr#14971](https://github.com/ceph/ceph/pull/14971), Tim Serong)
    - mgr: Mark session connections down on shutdown ([issue#19900](http://tracker.ceph.com/issues/19900), [pr#15192](https://github.com/ceph/ceph/pull/15192), Brad Hubbard)
    - mgr: mgr/DaemonServer.cc: log daemon type string as well as id ([pr#15560](https://github.com/ceph/ceph/pull/15560), Dan Mick)
    - mgr: mgr/dashboard: fix type error in get\_rate function ([issue#20276](http://tracker.ceph.com/issues/20276), [pr#15668](https://github.com/ceph/ceph/pull/15668), liuchang0812)
    - mgr: mgr/dashboard: load log lines on startup, split out audit log ([pr#15709](https://github.com/ceph/ceph/pull/15709), John Spray)
    - mgr: mgr/MgrStandby: prevent use-after-free on just-shut-down Mgr ([issue#19595](http://tracker.ceph.com/issues/19595), [pr#15297](https://github.com/ceph/ceph/pull/15297), Sage Weil)
    - mgr: mgr/MgrStandby: respawn when deactivated ([issue#19595](http://tracker.ceph.com/issues/19595), [issue#19549](http://tracker.ceph.com/issues/19549), [pr#15557](https://github.com/ceph/ceph/pull/15557), Sage Weil)
    - mgr: mgr,osd: ceph-mgr –help, unify usage text of other daemons ([pr#15176](https://github.com/ceph/ceph/pull/15176), Tim Serong)
    - mgr,mon: mon,mgr: extricate PGmap from monitor ([issue#20067](http://tracker.ceph.com/issues/20067), [issue#20174](http://tracker.ceph.com/issues/20174), [issue#20050](http://tracker.ceph.com/issues/20050), [pr#15073](https://github.com/ceph/ceph/pull/15073), Kefu Chai, Sage Weil, Greg Farnum)
    - mgr,mon: mon/MgrMonitor: add ‘mgr dump \[epoch\]’ command ([pr#15158](https://github.com/ceph/ceph/pull/15158), Sage Weil)
    - mgr,mon: mon,mgr: print pgmap reports to debug (not cluster) log ([pr#15740](https://github.com/ceph/ceph/pull/15740), Sage Weil)
    - mgr: optimize DaemonStateIndex::cull() a little bit ([pr#14967](https://github.com/ceph/ceph/pull/14967), Kefu Chai)
    - mgr: print a more helpful error message for when users lack mgr ceph caps ([issue#20296](http://tracker.ceph.com/issues/20296), [pr#15697](https://github.com/ceph/ceph/pull/15697), Greg Farnum)
    - mgr: pybind/mgr/dashboard: monkeypatch os.exit to stop cherrypy from taking down mgr ([issue#20216](http://tracker.ceph.com/issues/20216), [pr#15588](https://github.com/ceph/ceph/pull/15588), Sage Weil)
    - mgr: pybind/mgr: Delete rest module ([pr#15429](https://github.com/ceph/ceph/pull/15429), John Spray)
    - mgr: pybind/mgr/restful: improve cert handling; work with vstart ([pr#15405](https://github.com/ceph/ceph/pull/15405), Sage Weil)
    - mgr: raise python exception on failure in send\_command() ([pr#15704](https://github.com/ceph/ceph/pull/15704), Kefu Chai)
    - mgr: remove default cert; disable both restful and dashboard by default ([pr#15601](https://github.com/ceph/ceph/pull/15601), Boris Ranto, Sage Weil)
    - mgr,tests: qa/upgrade/jewel-x/point-to-point: add a mgr during final upgrade ([pr#15637](https://github.com/ceph/ceph/pull/15637), Sage Weil)
    - mon: add crush type down health warnings ([pr#14914](https://github.com/ceph/ceph/pull/14914), Neha Ojha)
    - mon: Add override for FsNewHandler::handle() ([pr#15331](https://github.com/ceph/ceph/pull/15331), yonghengdexin735)
    - mon: cleanups ([pr#15272](https://github.com/ceph/ceph/pull/15272), Kefu Chai)
    - mon: delete useless function definition ([pr#15188](https://github.com/ceph/ceph/pull/15188), shiqi)
    - mon: DIVIDE\_BY\_ZERO in PGMapDigest::dump\_pool\_stats\_full() ([pr#15622](https://github.com/ceph/ceph/pull/15622), Jos Collin)
    - mon: don’t prefix mgr summary with epoch number ([pr#15512](https://github.com/ceph/ceph/pull/15512), John Spray)
    - mon: fix accesing pending\_fsmap from peon ([issue#20040](http://tracker.ceph.com/issues/20040), [pr#15213](https://github.com/ceph/ceph/pull/15213), John Spray)
    - mon: fix a few bugs with the osd health reporting ([pr#15179](https://github.com/ceph/ceph/pull/15179), Sage Weil)
    - mon: Fixed typo in function comment blocks and in other comments ([pr#15304](https://github.com/ceph/ceph/pull/15304), linbing)
    - mon: Fixed typo in @post of \_active() ([pr#15191](https://github.com/ceph/ceph/pull/15191), Linbing)
    - mon: fix mon\_keyvaluedb application ([pr#15059](https://github.com/ceph/ceph/pull/15059), Sage Weil)
    - mon: Incorrect expression in PGMap::get\_health() ([pr#15648](https://github.com/ceph/ceph/pull/15648), Jos Collin)
    - mon: it’s no need to get pg action\_primary osd twice in pg scrub ([pr#15313](https://github.com/ceph/ceph/pull/15313), linbing)
    - mon: Log errors at startup ([issue#14088](http://tracker.ceph.com/issues/14088), [\`](#id19)pr#15723 <[https://](https://)
    - mon: mon/MgrMonitor: send digests only if is\_active() ([pr#15109](https://github.com/ceph/ceph/pull/15109), Kefu Chai)
    - mon: mon/MonClient: cancel pending commands on shutdown ([issue#20051](http://tracker.ceph.com/issues/20051), [pr#15227](https://github.com/ceph/ceph/pull/15227), Kefu Chai, Sage Weil)
    - mon: {mon,osd,mds} {versions,count-metadata} ([pr#15436](https://github.com/ceph/ceph/pull/15436), Sage Weil)
    - mon: mon/PGMap: show %used in formatted output ([issue#20123](http://tracker.ceph.com/issues/20123), [pr#15387](https://github.com/ceph/ceph/pull/15387), Joao Eduardo Luis)
    - mon: Removed unnecessary function declaration in MDSMonitor.h ([pr#15374](https://github.com/ceph/ceph/pull/15374), yonghengdexin735)
    - mon: replace osds with osd destroy and osd new ([pr#14074](https://github.com/ceph/ceph/pull/14074), Joao Eduardo Luis, Sage Weil)
    - mon: revise “ceph status” output ([pr#15396](https://github.com/ceph/ceph/pull/15396), John Spray)
    - mon: show io status quickly if no update in a long period ([pr#14176](https://github.com/ceph/ceph/pull/14176), Mingxin Liu)
    - mon: track features from connect clients, and use it to gate set-require-min-compat-client ([pr#15371](https://github.com/ceph/ceph/pull/15371), Sage Weil)
    - mon: trim the creating\_pgs after updating it with pgmap ([issue#20067](http://tracker.ceph.com/issues/20067), [pr#15318](https://github.com/ceph/ceph/pull/15318), Kefu Chai)
    - msg: do not enable client-side binding by default ([issue#20049](http://tracker.ceph.com/issues/20049), [pr#15392](https://github.com/ceph/ceph/pull/15392), Jason Dillaman)
    - msg: don’t set msgr addr when disabing client bind ([pr#15243](https://github.com/ceph/ceph/pull/15243), Haomai Wang)
    - msgr: msg/async: Lower down the AsyncMessenger’s standby warning from debug ([pr#15242](https://github.com/ceph/ceph/pull/15242), Pan Liu)
    - msgr: msg/async/rdma: check if fin message completed ([pr#15624](https://github.com/ceph/ceph/pull/15624), Alexander Mikheev, Adir Lev)
    - msgr: msg/async/rdma: handle buffers after close msg ([pr#15749](https://github.com/ceph/ceph/pull/15749), DanielBar-On, Alexander Mikheev, Adir Lev)
    - msgr: msg/async: remove false alert “assert” ([pr#15288](https://github.com/ceph/ceph/pull/15288), Haomai Wang)
    - osd: don’t leak pgrefs or reservations in SnapTrimmer ([issue#19931](http://tracker.ceph.com/issues/19931), [pr#15214](https://github.com/ceph/ceph/pull/15214), Greg Farnum)
    - osd: fix argument-dependent lookup of swap() ([pr#15124](https://github.com/ceph/ceph/pull/15124), Casey Bodley)
    - osd: fix past\_intervals base case by adding epoch\_pool\_created to pg\_history\_t ([issue#19877](http://tracker.ceph.com/issues/19877), [pr#14989](https://github.com/ceph/ceph/pull/14989), Sage Weil)
    - osd: hdd vs ssd defaults for osd op thread pool ([pr#15422](https://github.com/ceph/ceph/pull/15422), Sage Weil)
    - osd: Implement asynchronous recovery sleep ([pr#15212](https://github.com/ceph/ceph/pull/15212), Neha Ojha)
    - osd: Move scrub sleep timer to osdservice ([issue#19986](http://tracker.ceph.com/issues/19986), [pr#15217](https://github.com/ceph/ceph/pull/15217), Brad Hubbard)
    - osd: Object level shard errors are tracked and used if no auth available ([issue#20089](http://tracker.ceph.com/issues/20089), [pr#15397](https://github.com/ceph/ceph/pull/15397), David Zafman)
    - osd: osd/OSDMap.cc: check if osd is out in subtree\_type\_is\_down ([issue#19989](http://tracker.ceph.com/issues/19989), [pr#15250](https://github.com/ceph/ceph/pull/15250), Neha Ojha)
    - osd: ‘osd tree in|out|up|down’ to filter tree results ([pr#15294](https://github.com/ceph/ceph/pull/15294), Sage Weil)
    - osd: reduce buffer pinning from EC entries ([pr#15120](https://github.com/ceph/ceph/pull/15120), Sage Weil)
    - osd: reduce map cache size ([pr#15292](https://github.com/ceph/ceph/pull/15292), Sage Weil)
    - osd: reduce rados\_max\_object\_size from 100 GB -> 128 MB ([pr#15520](https://github.com/ceph/ceph/pull/15520), Sage Weil)
    - osd: rename osd -> osd\_pglog; include pglog-related bufferlists ([pr#15531](https://github.com/ceph/ceph/pull/15531), Sage Weil)
    - osd: Return early on shutdown ([issue#19900](http://tracker.ceph.com/issues/19900), [pr#15345](https://github.com/ceph/ceph/pull/15345), Brad Hubbard)
    - osd: take PGRef for recovery sleep wakeup event ([issue#20226](http://tracker.ceph.com/issues/20226), [pr#15582](https://github.com/ceph/ceph/pull/15582), Sage Weil)
    - osd: when osd in not in failure\_pending, we don’t need to get osd inst from osdmap. ([pr#15558](https://github.com/ceph/ceph/pull/15558), linbing)
    - osd: When scrub finds an attr error mark shard inconsistent ([issue#20089](http://tracker.ceph.com/issues/20089), [pr#15368](https://github.com/ceph/ceph/pull/15368), David Zafman)
    - performance: common/config\_opts.h: Lower HDD throttle cost. ([pr#15485](https://github.com/ceph/ceph/pull/15485), Mark Nelson)
    - performance: denc: add need\_contiguous to denc\_traits ([pr#15224](https://github.com/ceph/ceph/pull/15224), Kefu Chai)
    - pybind: pybind/ceph\_argparse: fix empty string check ([issue#20135](http://tracker.ceph.com/issues/20135), [pr#15500](https://github.com/ceph/ceph/pull/15500), Sage Weil)
    - pybind: pybind/ceph\_daemon.py: fix Termsize.update ([pr#15253](https://github.com/ceph/ceph/pull/15253), Kefu Chai)
    - pybind: pybind/rados: avoid call free() on invalid pointer ([pr#15159](https://github.com/ceph/ceph/pull/15159), Mingxin Liu)
    - pybind,rbd: pybind/rbd: OSError should be picklable ([issue#20223](http://tracker.ceph.com/issues/20223), [pr#15574](https://github.com/ceph/ceph/pull/15574), Jason Dillaman)
    - pybind: support mon target in pybind ([pr#15409](https://github.com/ceph/ceph/pull/15409), liuchang0812)
    - qa: test/osd/osd-dup.sh: use wait\_for\_clean ([pr#15722](https://github.com/ceph/ceph/pull/15722), Dan Mick)
    - rbd-mirror: coordinate image syncs with leader ([issue#18789](http://tracker.ceph.com/issues/18789), [pr#14745](https://github.com/ceph/ceph/pull/14745), Mykola Golub)
    - rbd-mirror: lock loss during sync should wait for in-flight copies ([pr#15532](https://github.com/ceph/ceph/pull/15532), Jason Dillaman)
    - rbd-mirror: permit release of local image exclusive lock after force promotion ([issue#18963](http://tracker.ceph.com/issues/18963), [pr#15140](https://github.com/ceph/ceph/pull/15140), Jason Dillaman)
    - rbd: properly decode features when using image name optional ([issue#20185](http://tracker.ceph.com/issues/20185), [pr#15492](https://github.com/ceph/ceph/pull/15492), Jason Dillaman)
    - rbd: pybind/rbd: fix crash if more than 1024 images in trash bin ([pr#15134](https://github.com/ceph/ceph/pull/15134), runsisi)
    - rbd: rbd/bench: fix write gaps when doing sequential writes with io-threads > 1 ([pr#15206](https://github.com/ceph/ceph/pull/15206), Igor Fedotov)
    - rbd: removed hardcoded default pool ([pr#15518](https://github.com/ceph/ceph/pull/15518), Jason Dillaman)
    - rbd,tests: qa: krbd discard/zeroout tests ([pr#15388](https://github.com/ceph/ceph/pull/15388), Ilya Dryomov)
    - rbd,tests: qa/suites/krbd: unmap subsuite needs straw buckets ([pr#15290](https://github.com/ceph/ceph/pull/15290), Ilya Dryomov)
    - rbd,tests: qa: update krbd\_data\_pool.sh to match the new rados ls behavior ([pr#15594](https://github.com/ceph/ceph/pull/15594), Ilya Dryomov)
    - rbd,tests: test/librbd: unit tests cleanup ([pr#15113](https://github.com/ceph/ceph/pull/15113), Mykola Golub)
    - rdma: msg/async/rdma: Add DSCP support ([pr#15484](https://github.com/ceph/ceph/pull/15484), Sarit Zubakov)
    - rdma: msg/async: Revert RDMA-CM ([pr#15262](https://github.com/ceph/ceph/pull/15262), Amir Vadai)
    - rgw: Adding code to create tenanted user for s3 bucket policy tests. ([pr#15028](https://github.com/ceph/ceph/pull/15028), Pritha Srivastava)
    - rgw: add “rgw\_verify\_ssl” config ([pr#15301](https://github.com/ceph/ceph/pull/15301), Shasha Lu)
    - rgw: add the Vim’s modeline into rgw\_orphan.cc. ([pr#15431](https://github.com/ceph/ceph/pull/15431), Radoslaw Zarzynski)
    - rgw: bucket index check in radosgw-admin removes valid index. ([issue#18470](http://tracker.ceph.com/issues/18470), [pr#12851](https://github.com/ceph/ceph/pull/12851), Zhang Shaowen)
    - rgw: datalog trim and mdlog trim handles the result returned by osd incorrectly. ([issue#20190](http://tracker.ceph.com/issues/20190), [pr#15507](https://github.com/ceph/ceph/pull/15507), Zhang Shaowen)
    - rgw: display more info when using radosgw-admin bucket stats ([pr#15256](https://github.com/ceph/ceph/pull/15256), fang.yuxiang)
    - rgw: drop asio/{yield,coroutine}.hpp replacements ([pr#15413](https://github.com/ceph/ceph/pull/15413), Kefu Chai)
    - rgw: drop using std ns in header files and other cleanups ([pr#15137](https://github.com/ceph/ceph/pull/15137), Abhishek Lekshmanan)
    - rgw: dynamic resharding ([pr#15493](https://github.com/ceph/ceph/pull/15493), Yehuda Sadeh, Orit Wasserman)
    - rgw: fix ‘gc list –include-all’ command infinite loop the first items ([issue#19978](http://tracker.ceph.com/issues/19978), [pr#12774](https://github.com/ceph/ceph/pull/12774), Shasha Lu, fang yuxiang)
    - rgw: fix lc list failure when shards not be all created ([issue#19898](http://tracker.ceph.com/issues/19898), [pr#15025](https://github.com/ceph/ceph/pull/15025), Jiaying Ren)
    - rgw: fix radosgw-admin retcode ([pr#15257](https://github.com/ceph/ceph/pull/15257), Shasha Lu)
    - rgw: fix test\_multi.py default config file path ([pr#15306](https://github.com/ceph/ceph/pull/15306), Jiaying Ren)
    - rgw: fix X-Object-Meta-Static-Large-Object in SLO download ([issue#19951](http://tracker.ceph.com/issues/19951), [pr#15045](https://github.com/ceph/ceph/pull/15045), Shasha Lu)
    - rgw: metadata search part 2 ([pr#14351](https://github.com/ceph/ceph/pull/14351), Yehuda Sadeh)
    - rgw: migrate atomic\_t to std::atomic<> ([pr#15001](https://github.com/ceph/ceph/pull/15001), Jesse Williamson)
    - rgw: optimize data sync. Add zones\_trace in log to avoid needless sync. ([issue#19219](http://tracker.ceph.com/issues/19219), [pr#13851](https://github.com/ceph/ceph/pull/13851), Zhang Shaowen)
    - rgw: optimize generating torrent file. Object data won’t stay in memory now. ([pr#15153](https://github.com/ceph/ceph/pull/15153), Zhang Shaowen)
    - rgw: pass authentication domain to civetweb ([issue#17657](http://tracker.ceph.com/issues/17657), [pr#12861](https://github.com/ceph/ceph/pull/12861), Abhishek Lekshmanan)
    - rgw: polymorphic error codes ([pr#10690](https://github.com/ceph/ceph/pull/10690), Pritha Srivastava, Marcus Watts)
    - rgw: remove fastcgi from default rgw frontends ([pr#15098](https://github.com/ceph/ceph/pull/15098), Casey Bodley)
    - rgw: rename s3\_code to err\_code for swift ([pr#12300](https://github.com/ceph/ceph/pull/12300), Guo Zhandong)
    - rgw: return the version id in get object and object metadata request. ([issue#19370](http://tracker.ceph.com/issues/19370), [pr#14117](https://github.com/ceph/ceph/pull/14117), Zhang Shaowen)
    - rgw: rgw-admin: fix bucket limit check argparse, div(0) ([pr#15316](https://github.com/ceph/ceph/pull/15316), Matt Benjamin)
    - rgw: rgw\_common: use string::npos for the results of str.find ([pr#14341](https://github.com/ceph/ceph/pull/14341), Abhishek Lekshmanan)
    - rgw: rgw\_file: add lock protection for readdir against gc ([issue#20121](http://tracker.ceph.com/issues/20121), [pr#15329](https://github.com/ceph/ceph/pull/15329), Gui Hecheng)
    - rgw: rgw\_file cleanup names ([pr#15568](https://github.com/ceph/ceph/pull/15568), Gui Hecheng)
    - rgw: rgw\_file: fix flags set on unsuccessful unlink ([pr#15222](https://github.com/ceph/ceph/pull/15222), Gui Hecheng)
    - rgw: rgw\_file: prevent conflict of mkdir between restarts ([issue#20275](http://tracker.ceph.com/issues/20275), [pr#15655](https://github.com/ceph/ceph/pull/15655), Gui Hecheng)
    - rgw: rgw\_file: release rgw\_fh lock and ref on ENOTEMPTY ([issue#20061](http://tracker.ceph.com/issues/20061), [pr#15246](https://github.com/ceph/ceph/pull/15246), Matt Benjamin)
    - rgw: rgw\_file: removed extra rele() on fs in rgw\_umount() ([pr#15152](https://github.com/ceph/ceph/pull/15152), Gui Hecheng)
    - rgw: rgw\_file: remove hidden uxattr objects from buckets on delete ([issue#20045](http://tracker.ceph.com/issues/20045), [pr#15210](https://github.com/ceph/ceph/pull/15210), Matt Benjamin)
    - rgw: rgw\_file: remove post-unlink lookup check ([issue#20047](http://tracker.ceph.com/issues/20047), [pr#15216](https://github.com/ceph/ceph/pull/15216), Matt Benjamin)
    - rgw: rgw\_file: replace raw fs->fh\_lru.unref with predefined fs->unref ([pr#15541](https://github.com/ceph/ceph/pull/15541), Gui Hecheng)
    - rgw: rgw\_file: store bucket uxattrs on the bucket ([issue#20082](http://tracker.ceph.com/issues/20082), [pr#15293](https://github.com/ceph/ceph/pull/15293), Matt Benjamin)
    - rgw: rgw\_file: v3: fix write-timer action ([issue#19932](http://tracker.ceph.com/issues/19932), [pr#15097](https://github.com/ceph/ceph/pull/15097), Matt Benjamin)
    - rgw: rgw\_rados: create sync module instances only if run\_sync\_thread is set ([issue#19830](http://tracker.ceph.com/issues/19830), [pr#14994](https://github.com/ceph/ceph/pull/14994), Abhishek Lekshmanan)
    - rgw: rgw/rgw\_swift\_auth.cc: using string::back() instead as the C++11 recommend ([pr#14827](https://github.com/ceph/ceph/pull/14827), liuyuhong)
    - rgw: segment fault when shard id out of range ([issue#19732](http://tracker.ceph.com/issues/19732), [pr#14389](https://github.com/ceph/ceph/pull/14389), redickwang)
    - rgw: set object accounted size correctly ([issue#20071](http://tracker.ceph.com/issues/20071), [pr#14950](https://github.com/ceph/ceph/pull/14950), fang yuxiang)
    - rgw: set placement rule properly ([pr#15221](https://github.com/ceph/ceph/pull/15221), fang.yuxiang)
    - rgw: support certain archaic and antiquated distributions ([pr#15498](https://github.com/ceph/ceph/pull/15498), Adam C. Emerson)
    - rgw,tests: qa/rgw: add multisite suite to configure and run multisite tests ([pr#14688](https://github.com/ceph/ceph/pull/14688), Casey Bodley)
    - rgw,tests: qa/rgw: remove apache/fastcgi and radosgw-agent tests ([pr#15184](https://github.com/ceph/ceph/pull/15184), Casey Bodley)
    - rgw: Turn off fcgi as a frontend ([issue#16784](http://tracker.ceph.com/issues/16784), [pr#15070](https://github.com/ceph/ceph/pull/15070), Thomas Serlin)
    - rgw: use get\_data\_extra\_pool() when get extra pool ([issue#20064](http://tracker.ceph.com/issues/20064), [pr#15219](https://github.com/ceph/ceph/pull/15219), fang yuxiang)
    - rgw: use pre-defined calls to replace raw flag operation ([pr#15107](https://github.com/ceph/ceph/pull/15107), Gui Hecheng)
    - tests: Add integration tests for admin socket output ([pr#15223](https://github.com/ceph/ceph/pull/15223), Brad Hubbard)
    - tests: ceph-disk: add setting for external py-modules for tox-testing ([pr#15433](https://github.com/ceph/ceph/pull/15433), Willem Jan Withagen)
    - tests: Check make\_writeable() return value ([pr#15266](https://github.com/ceph/ceph/pull/15266), zhanglei)
    - tests: config\_opts: drop unused opts ([pr#15031](https://github.com/ceph/ceph/pull/15031), Kefu Chai)
    - tests: qa: add task for dnsmasq configuration ([pr#15071](https://github.com/ceph/ceph/pull/15071), Casey Bodley)
    - tests: qa: split test\_tiering into smaller pieces ([pr#15146](https://github.com/ceph/ceph/pull/15146), Kefu Chai)
    - tests: qa/suites/rados: fix ec thrashing ([pr#15087](https://github.com/ceph/ceph/pull/15087), Sage Weil)
    - tests: qa/suites/rados/singleton-nomsgr: fix syntax ([pr#15276](https://github.com/ceph/ceph/pull/15276), Sage Weil)
    - tests: qa/suites/rados/thrash: make sure osds have map before legacy scrub ([pr#15117](https://github.com/ceph/ceph/pull/15117), Sage Weil)
    - tests: qa/suites/rados/upgrade: restart mds ([pr#15517](https://github.com/ceph/ceph/pull/15517), Sage Weil)
    - tests: qa/tasks/ceph\_manager: ‘ceph $service tell ...’ is obsolete ([pr#15252](https://github.com/ceph/ceph/pull/15252), Sage Weil)
    - tests: qa/tasks/rebuild\_mondb: grant “mgr:allow [\*](#id24)” to client.admin ([issue#19439](http://tracker.ceph.com/issues/19439), [pr#14284](https://github.com/ceph/ceph/pull/14284), Kefu Chai)
    - tests: qa/tasks/repair\_test: unset flags we set ([pr#15296](https://github.com/ceph/ceph/pull/15296), Sage Weil)
    - tests: qa/workunits/ceph-helpers.sh: use syntax understood by jq 1.3 ([pr#15530](https://github.com/ceph/ceph/pull/15530), Kefu Chai)
    - tests: Rename FileJournal object to distinguish ([pr#15279](https://github.com/ceph/ceph/pull/15279), Jos Collin)
    - tests: test/crush: silence warnings from -Walloc-size-larger-than= and -Wstringop-overflow= ([pr#15173](https://github.com/ceph/ceph/pull/15173), Jos Collin)
    - tests: test: migrate atomic\_t to std::atomic ([pr#14655](https://github.com/ceph/ceph/pull/14655), Jesse Williamson)
    - tests: test/msgr: silence warnings from -Wsign-compare ([pr#15356](https://github.com/ceph/ceph/pull/15356), Jos Collin)
    - tests: test/msgr: silence warnings from -Wsign-compare ([pr#15570](https://github.com/ceph/ceph/pull/15570), Jos Collin)
    - tests: test/objectstore: Check apply\_transaction() return values ([pr#15171](https://github.com/ceph/ceph/pull/15171), zhanglei)
    - tests: test/old: Removed commented code ([pr#15366](https://github.com/ceph/ceph/pull/15366), Jos Collin)
    - tests: test/osdc: fix comparison error and silence warning from -Wunused-value ([pr#15353](https://github.com/ceph/ceph/pull/15353), Willem Jan Withagen)
    - tests: test: osd/TestOSDMap.cc: fix Clang complain about promotion ([pr#15525](https://github.com/ceph/ceph/pull/15525), Willem Jan Withagen)
    - tests: test: test\_denc.cc: silence warning from -Wsign-compare ([pr#15355](https://github.com/ceph/ceph/pull/15355), Jos Collin)
    - tests: test: Test fix for SnapSet change ([pr#15161](https://github.com/ceph/ceph/pull/15161), David Zafman)
    - tests: test/unittest\_bluefs: check whether mounted success ([pr#14988](https://github.com/ceph/ceph/pull/14988), shiqi)
    - tools: ceph-disk: command invocation needs all fields separate ([pr#15733](https://github.com/ceph/ceph/pull/15733), Willem Jan Withagen)
    - tools: ceph.in: adjust usage width according to user’s tty ([pr#15190](https://github.com/ceph/ceph/pull/15190), Kefu Chai)
    - tools: ceph.in: assert(state==connected) before help\_for\_target() ([pr#15156](https://github.com/ceph/ceph/pull/15156), Kefu Chai)
    - tools: ceph.in: drop the compatiiblity to handle non json commands ([pr#15508](https://github.com/ceph/ceph/pull/15508), Kefu Chai)
    - tools: ceph.in: print return code when json\_command failed ([pr#15378](https://github.com/ceph/ceph/pull/15378), liuchang0812)
    - tools: ceph-rest-api: be more tolerant on network failure ([issue#20115](http://tracker.ceph.com/issues/20115), [pr#15706](https://github.com/ceph/ceph/pull/15706), Kefu Chai)
    - tools: fio\_ceph\_objectstore: Print db\_statistics when rocksdb\_perf is enabled ([pr#15796](https://github.com/ceph/ceph/pull/15796), Xiaoyan Li)
    - tools: tools/ceph\_kvstore\_tool: add “bluestore-kv” to usage ([pr#15326](https://github.com/ceph/ceph/pull/15326), xie xingguo)
    - tools: tools/crushtool: replicated-rule API support ([pr#15011](https://github.com/ceph/ceph/pull/15011), xie xingguo)
    - tools: vstart: “debug\_ms=1” for mgr by default ([pr#15127](https://github.com/ceph/ceph/pull/15127), Kefu Chai)
    - tools: vstart: print “start osd.$id” instead of “start osd$id” ([pr#15427](https://github.com/ceph/ceph/pull/15427), Kefu Chai)
