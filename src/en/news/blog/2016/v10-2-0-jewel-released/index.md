---
title: "v10.2.0 Jewel released"
date: "2016-04-21"
author: "sage"
---

This major release of Ceph will be the foundation for the next long-term stable release. There have been many major changes since the Infernalis (9.2.x) and Hammer (0.94.x) releases, and the upgrade process is non-trivial. Please read these release notes carefully.

### MAJOR CHANGES FROM INFERNALIS

- _CephFS_:
    - This is the first release in which CephFS is declared stable! Several features are disabled by default, including snapshots and multiple active MDS servers.
    - The repair and disaster recovery tools are now feature-complete.
    - A new cephfs-volume-manager module is included that provides a high-level interface for creating “shares” for OpenStack Manila and similar projects.
    - There is now experimental support for multiple CephFS file systems within a single cluster.
- _RGW_:
    - The multisite feature has been almost completely rearchitected and rewritten to support any number of clusters/sites, bidirectional fail-over, and active/active configurations.
    - You can now access radosgw buckets via NFS (experimental).
    - The AWS4 authentication protocol is now supported.
    - There is now support for S3 request payer buckets.
    - The new multitenancy infrastructure improves compatibility with Swift, which provides a separate container namespace for each user/tenant.
    - The OpenStack Keystone v3 API is now supported. There are a range of other small Swift API features and compatibility improvements as well, including bulk delete and SLO (static large objects).
- _RBD_:
    - There is new support for mirroring (asynchronous replication) of RBD images across clusters. This is implemented as a per-RBD image journal that can be streamed across a WAN to another site, and a new rbd-mirror daemon that performs the cross-cluster replication.
    - The exclusive-lock, object-map, fast-diff, and journaling features can be enabled or disabled dynamically. The deep-flatten features can be disabled dynamically but not re-enabled.
    - The RBD CLI has been rewritten to provide command-specific help and full bash completion support.
    - RBD snapshots can now be renamed.
- _RADOS_:
    - BlueStore, a new OSD backend, is included as an experimental feature. The plan is for it to become the default backend in the K or L release.
    - The OSD now persists scrub results and provides a librados API to query results in detail.
    - We have revised our documentation to recommend _against_ using ext4 as the underlying filesystem for Ceph OSD daemons due to problems supporting our long object name handling.

### MAJOR CHANGES FROM HAMMER

- _General_:
    - Ceph daemons are now managed via systemd (with the exception of Ubuntu Trusty, which still uses upstart).
    - Ceph daemons run as ‘ceph’ user instead of ‘root’.
    - On Red Hat distros, there is also an SELinux policy.
- _RADOS_:
    - The RADOS cache tier can now proxy write operations to the base tier, allowing writes to be handled without forcing migration of an object into the cache.
    - The SHEC erasure coding support is no longer flagged as experimental. SHEC trades some additional storage space for faster repair.
    - There is now a unified queue (and thus prioritization) of client IO, recovery, scrubbing, and snapshot trimming.
    - There have been many improvements to low-level repair tooling (ceph-objectstore-tool).
    - The internal ObjectStore API has been significantly cleaned up in order to faciliate new storage backends like BlueStore.
- _RGW_:
    - The Swift API now supports object expiration.
    - There are many Swift API compatibility improvements.
- _RBD_:
    - The rbd du command shows actual usage (quickly, when object-map is enabled).
    - The object-map feature has seen many stability improvements.
    - The object-map and exclusive-lock features can be enabled or disabled dynamically.
    - You can now store user metadata and set persistent librbd options associated with individual images.
    - The new deep-flatten features allow flattening of a clone and all of its snapshots. (Previously snapshots could not be flattened.)
    - The export-diff command is now faster (it uses aio). There is also a new fast-diff feature.
    - The –size argument can be specified with a suffix for units (e.g., \--size 64G).
    - There is a new rbd status command that, for now, shows who has the image open/mapped.
- _CephFS_:
    - You can now rename snapshots.
    - There have been ongoing improvements around administration, diagnostics, and the check and repair tools.
    - The caching and revocation of client cache state due to unused inodes has been dramatically improved.
    - The ceph-fuse client behaves better on 32-bit hosts.

### DISTRO COMPATIBILITY

Starting with Infernalis, we have dropped support for many older distributions so that we can move to a newer compiler toolchain (e.g., C++11). Although it is still possible to build Ceph on older distributions by installing backported development tools, we are not building and publishing release packages for ceph.com.

We now build packages for the following distributions and architectures:

- x86\_64:
    - CentOS 7.x. We have dropped support for CentOS 6 (and other RHEL 6 derivatives, like Scientific Linux 6).
    - Debian Jessie 8.x. Debian Wheezy 7.x’s g++ has incomplete support for C++11 (and no systemd).
    - Ubuntu Xenial 16.04 and Trusty 14.04. Ubuntu Precise 12.04 is no longer supported.
    - Fedora 22 or later.
- aarch64 / arm64:
    - Ubuntu Xenial 16.04.

### UPGRADING FROM INFERNALIS OR HAMMER

- We now recommend against using ext4 as the underlying file system for Ceph OSDs, especially when RGW or other users of long RADOS object names are used. For more information about why, please see [Filesystem Recommendations](http://docs.ceph.com/docs/master/configuration/filesystem-recommendations).
    
    If you have an existing cluster that uses ext4 for the OSDs but uses only RBD and/or CephFS, then the ext4 limitations will not affect you. Before upgrading, be sure add the following to ceph.conf to allow the OSDs to start:
    
    osd max object name len = 256
    osd max object namespace len = 64
    
    Keep in mind that if you set these lower object name limits and later decide to use RGW on this cluster, it will have problems storing S3/Swift objects with long names. This startup check can also be disabled via the below option, although this is not recommended:
    
    osd check max object name len on startup = false
    

- There are no major compatibility changes since Infernalis. Simply upgrading the daemons on each host and restarting all daemons is sufficient.
    
- The rbd CLI no longer accepts the deprecated ‘–image-features’ option during create, import, and clone operations. The ‘–image-feature’ option should be used instead.
    
- The rbd legacy image format (version 1) is deprecated with the Jewel release. Attempting to create a new version 1 RBD image will result in a warning. Future releases of Ceph will remove support for version 1 RBD images.
    
- The ‘send\_pg\_creates’ and ‘map\_pg\_creates’ mon CLI commands are obsolete and no longer supported.
    
- A new configure option ‘mon\_election\_timeout’ is added to specifically limit max waiting time of monitor election process, which was previously restricted by ‘mon\_lease’.
    
- CephFS filesystems created using versions older than Firefly (0.80) must use the new ‘cephfs-data-scan tmap\_upgrade’ command after upgrading to Jewel. See ‘Upgrading’ in the CephFS documentation for more information.
    
- The ‘ceph mds setmap’ command has been removed.
    
- The default RBD image features for new images have been updated to enable the following: exclusive lock, object map, fast-diff, and deep-flatten. These features are not currently supported by the RBD kernel driver nor older RBD clients. They can be disabled on a per-image basis via the RBD CLI, or the default features can be updated to the pre-Jewel setting by adding the following to the client section of the Ceph configuration file:
    
    rbd default features = 1
    
- The rbd legacy image format (version 1) is deprecated with the Jewel release.
    
- After upgrading, users should set the ‘sortbitwise’ flag to enable the new internal object sort order:
    
    ceph osd set sortbitwise
    
    This flag is important for the new object enumeration API and for new backends like BlueStore.
- The rbd CLI no longer permits creating images and snapshots with potentially ambiguous names (e.g. the ‘/’ and ‘@’ characters are disallowed). The validation can be temporarily disabled by adding “–rbd-validate-names=false” to the rbd CLI when creating an image or snapshot. It can also be disabled by adding the following to the client section of the Ceph configuration file:
    
    rbd validate names = false
    

### UPGRADING FROM HAMMER

- All cluster nodes must first upgrade to Hammer v0.94.4 or a later v0.94.z release; only then is it possible to upgrade to Jewel 10.2.z.
    
- For all distributions that support systemd (CentOS 7, Fedora, Debian Jessie 8.x, OpenSUSE), ceph daemons are now managed using native systemd files instead of the legacy sysvinit scripts. For example,:
    
    systemctl start ceph.target       # start all daemons
    systemctl status ceph-osd@12      # check status of osd.12
    
    The main notable distro that is _not_ yet using systemd is Ubuntu trusty 14.04. (The next Ubuntu LTS, 16.04, will use systemd instead of upstart.)
- Ceph daemons now run as user and group ceph by default. The ceph user has a static UID assigned by Fedora and Debian (also used by derivative distributions like RHEL/CentOS and Ubuntu). On SUSE the same UID/GID as in Fedora and Debian will be used, _provided it is not already assigned_. In the unlikely event the preferred UID or GID is assigned to a different user/group, ceph will get a dynamically assigned UID/GID.
    
    If your systems already have a ceph user, upgrading the package will cause problems. We suggest you first remove or rename the existing ‘ceph’ user and ‘ceph’ group before upgrading.
    
    When upgrading, administrators have two options:
    
    > 1. Add the following line to ceph.conf on all hosts:
    >     
    >     setuser match path = /var/lib/ceph/$type/$cluster-$id
    >     
    >     This will make the Ceph daemons run as root (i.e., not drop privileges and switch to user ceph) if the daemon’s data directory is still owned by root. Newly deployed daemons will be created with data owned by user ceph and will run with reduced privileges, but upgraded daemons will continue to run as root.
    > 2. Fix the data ownership during the upgrade. This is the preferred option, but it is more work and can be very time consuming. The process for each host is to:
    >     
    >     1. Upgrade the ceph package. This creates the ceph user and group. For example:
    >         
    >         ceph-deploy install --stable jewel HOST
    >         
    >     2. Stop the daemon(s).:
    >         
    >         service ceph stop           # fedora, centos, rhel, debian
    >         stop ceph-all               # ubuntu
    >         
    >     3. Fix the ownership:
    >         
    >         chown -R ceph:ceph /var/lib/ceph
    >         
    >     4. Restart the daemon(s).:
    >         
    >         start ceph-all                # ubuntu
    >         systemctl start ceph.target   # debian, centos, fedora, rhel
    >         
    >     
    >     Alternatively, the same process can be done with a single daemon type, for example by stopping only monitors and chowning only /var/lib/ceph/mon.
    
- The on-disk format for the experimental KeyValueStore OSD backend has changed. You will need to remove any OSDs using that backend before you upgrade any test clusters that use it.
    
- When a pool quota is reached, librados operations now block indefinitely, the same way they do when the cluster fills up. (Previously they would return -ENOSPC.) By default, a full cluster or pool will now block. If your librados application can handle ENOSPC or EDQUOT errors gracefully, you can get error returns instead by using the new librados OPERATION\_FULL\_TRY flag.
    
- The return code for librbd’s rbd\_aio\_read and Image::aio\_read API methods no longer returns the number of bytes read upon success. Instead, it returns 0 upon success and a negative value upon failure.
    
- ‘ceph scrub’, ‘ceph compact’ and ‘ceph sync force’ are now DEPRECATED. Users should instead use ‘ceph mon scrub’, ‘ceph mon compact’ and ‘ceph mon sync force’.
    
- ‘ceph mon\_metadata’ should now be used as ‘ceph mon metadata’. There is no need to deprecate this command (same major release since it was first introduced).
    
- The –dump-json option of “osdmaptool” is replaced by –dump json.
    
- The commands of “pg ls-by-{pool,primary,osd}” and “pg ls” now take “recovering” instead of “recovery”, to include the recovering pgs in the listed pgs.
    

### UPGRADING FROM FIREFLY

Upgrading directly from Firefly v0.80.z is not recommended. It is possible to do a direct upgrade, but not without downtime, as all OSDs must be stopped, upgraded, and then restarted. We recommend that clusters be first upgraded to Hammer v0.94.6 or a later v0.94.z release; only then is it possible to upgrade to Jewel 10.2.z for an online upgrade (see below).

To do an offline upgrade directly from Firefly, all Firefly OSDs must be stopped and marked down before any Jewel OSDs will be allowed to start up. This fencing is enforced by the Jewel monitor, so you should use an upgrade procedure like:

> 1. Upgrade Ceph on monitor hosts
>     
> 2. Restart all ceph-mon daemons
>     
> 3. Set noout::
>     
>     ceph osd set noout
>     
> 4. Upgrade Ceph on all OSD hosts
>     
> 5. Stop all ceph-osd daemons
>     
> 6. Mark all OSDs down with something like::
>     
>     ceph osd down seq 0 1000
>     
> 7. Start all ceph-osd daemons
>     
> 8. Let the cluster settle and then unset noout::
>     
>     ceph osd unset noout
>     
> 9. Upgrade and restart any remaining daemons (ceph-mds, radosgw)
>     

### NOTABLE CHANGES SINCE INFERNALIS

- admin/build-doc: depend on zlib1g-dev and graphviz ([pr#7522](http://github.com/ceph/ceph/pull/7522), Ken Dreyer)
- auth: fail if rotating key is missing (do not spam log) ([pr#6473](http://github.com/ceph/ceph/pull/6473), Qiankun Zheng)
- auth: fix crash when bad keyring is passed ([pr#6698](http://github.com/ceph/ceph/pull/6698), Dunrong Huang)
- auth: make keyring without mon entity type return -EACCES ([pr#5734](http://github.com/ceph/ceph/pull/5734), Xiaowei Chen)
- AUTHORS: update email ([pr#7854](http://github.com/ceph/ceph/pull/7854), Yehuda Sadeh)
- authtool: update –help and manpage to match code. ([pr#8456](http://github.com/ceph/ceph/pull/8456), Robin H. Johnson)
- bluestore: latest and greatest ([issue#14210](http://tracker.ceph.com/issues/14210), [issue#13801](http://tracker.ceph.com/issues/13801), [pr#6896](http://github.com/ceph/ceph/pull/6896), xie.xingguo, Jianpeng Ma, YiQiang Chen, Sage Weil, Ning Yao)
- buffer: add symmetry operator==() and operator!=() ([pr#7974](http://github.com/ceph/ceph/pull/7974), Kefu Chai)
- buffer: fix internal iterator invalidation on rebuild, get\_contiguous ([pr#6962](http://github.com/ceph/ceph/pull/6962), Sage Weil)
- buffer: hide iterator\_impl symbols ([issue#14788](http://tracker.ceph.com/issues/14788), [pr#7688](http://github.com/ceph/ceph/pull/7688), Kefu Chai)
- buffer: increment history alloc as well in raw\_combined ([issue#14955](http://tracker.ceph.com/issues/14955), [pr#7910](http://github.com/ceph/ceph/pull/7910), Samuel Just)
- buffer: make usable outside of ceph source again ([pr#6863](http://github.com/ceph/ceph/pull/6863), Josh Durgin)
- buffer: raw\_combined allocations buffer and ref count together ([pr#7612](http://github.com/ceph/ceph/pull/7612), Sage Weil)
- buffer: use move construct to append/push\_back/push\_front ([pr#7455](http://github.com/ceph/ceph/pull/7455), Haomai Wang)
- build: Adding build requires ([pr#7742](http://github.com/ceph/ceph/pull/7742), Erwan Velu)
- build: a few armhf (32-bit build) fixes ([pr#7999](http://github.com/ceph/ceph/pull/7999), Eric Lee, Sage Weil)
- build: allow jemalloc with rocksdb-static ([pr#7368](http://github.com/ceph/ceph/pull/7368), Somnath Roy)
- build: build internal plugins and classes as modules ([pr#6462](http://github.com/ceph/ceph/pull/6462), James Page)
- build: cmake check fixes ([pr#6787](http://github.com/ceph/ceph/pull/6787), Orit Wasserman)
- build: cmake tweaks ([pr#6254](http://github.com/ceph/ceph/pull/6254), John Spray)
- build: fix a few warnings ([pr#6847](http://github.com/ceph/ceph/pull/6847), Orit Wasserman)
- build: fix bz2-dev dependency ([pr#6948](http://github.com/ceph/ceph/pull/6948), Samuel Just)
- build: fix compiling warnings ([pr#8366](http://github.com/ceph/ceph/pull/8366), Dongsheng Yang)
- build: Fixing BTRFS issue at ‘make check’ ([pr#7805](http://github.com/ceph/ceph/pull/7805), Erwan Velu)
- build: fix Jenkins make check errors due to deep-scrub randomization ([pr#6671](http://github.com/ceph/ceph/pull/6671), David Zafman)
- build: fix the autotools and cmake build (the new fusestore needs libfuse) ([pr#7393](http://github.com/ceph/ceph/pull/7393), Kefu Chai)
- build: fix warnings ([pr#7197](http://github.com/ceph/ceph/pull/7197), Kefu Chai, xie xingguo)
- build: fix warnings ([pr#7315](http://github.com/ceph/ceph/pull/7315), Kefu Chai)
- build: FreeBSD related fixes ([pr#7170](http://github.com/ceph/ceph/pull/7170), Mykola Golub)
- build: Gentoo: \_FORTIFY\_SOURCE fix. ([issue#13920](http://tracker.ceph.com/issues/13920), [pr#6739](http://github.com/ceph/ceph/pull/6739), Robin H. Johnson)
- build: kill warnings ([pr#7397](http://github.com/ceph/ceph/pull/7397), Kefu Chai)
- build: misc make check fixes ([pr#7153](http://github.com/ceph/ceph/pull/7153), Sage Weil)
- build: more CMake package check fixes ([pr#6108](http://github.com/ceph/ceph/pull/6108), Daniel Gryniewicz)
- build: move libexec scripts to standardize across distros ([issue#14687](http://tracker.ceph.com/issues/14687), [issue#14705](http://tracker.ceph.com/issues/14705), [issue#14723](http://tracker.ceph.com/issues/14723), [pr#7636](http://github.com/ceph/ceph/pull/7636), Nathan Cutler, Kefu Chai)
- build/ops: enable CR in CentOS 7 ([issue#13997](http://tracker.ceph.com/issues/13997), [pr#6844](http://github.com/ceph/ceph/pull/6844), Loic Dachary)
- build/ops: rbd-replay moved from ceph-test-dbg to ceph-common-dbg ([issue#13785](http://tracker.ceph.com/issues/13785), [pr#6578](http://github.com/ceph/ceph/pull/6578), Loic Dachary)
- build/ops: systemd ceph-disk unit must not assume /bin/flock ([issue#13975](http://tracker.ceph.com/issues/13975), [pr#6803](http://github.com/ceph/ceph/pull/6803), Loic Dachary)
- build: Refrain from versioning and packaging EC testing plugins ([issue#14756](http://tracker.ceph.com/issues/14756), [issue#14723](http://tracker.ceph.com/issues/14723), [pr#7637](http://github.com/ceph/ceph/pull/7637), Nathan Cutler, Kefu Chai)
- build: Respect TMPDIR for virtualenv. ([pr#8457](http://github.com/ceph/ceph/pull/8457), Robin H. Johnson)
- build: spdk submodule; cmake ([pr#7503](http://github.com/ceph/ceph/pull/7503), Kefu Chai)
- build: workaround an automake bug for “make check” ([issue#14723](http://tracker.ceph.com/issues/14723), [pr#7626](http://github.com/ceph/ceph/pull/7626), Kefu Chai)
- ceph: bash auto complete for CLI based on mon command descriptions ([pr#7693](http://github.com/ceph/ceph/pull/7693), Adam Kupczyk)
- ceph\_daemon.py: Resolved ImportError to work with python3 ([pr#7937](http://github.com/ceph/ceph/pull/7937), Sarthak Munshi)
- ceph-detect-init: add debian/jessie test ([pr#8074](http://github.com/ceph/ceph/pull/8074), Kefu Chai)
- ceph-detect-init: add missing test case ([pr#8105](http://github.com/ceph/ceph/pull/8105), Nathan Cutler)
- ceph-detect-init: fix py3 test ([pr#7025](http://github.com/ceph/ceph/pull/7025), Kefu Chai)
- ceph-detect-init: fix py3 test ([pr#7243](http://github.com/ceph/ceph/pull/7243), Kefu Chai)
- ceph\_detect\_init/\_\_init\_\_.py: remove shebang ([pr#7731](http://github.com/ceph/ceph/pull/7731), Nathan Cutler)
- ceph-detect-init: return correct value on recent SUSE distros ([issue#14770](http://tracker.ceph.com/issues/14770), [pr#7909](http://github.com/ceph/ceph/pull/7909), Nathan Cutler)
- ceph-detect-init/run-tox.sh: FreeBSD: No init detect ([pr#8373](http://github.com/ceph/ceph/pull/8373), Willem Jan Withagen)
- ceph-detect-init: Ubuntu >= 15.04 uses systemd ([pr#6873](http://github.com/ceph/ceph/pull/6873), James Page)
- ceph-disk: Add destroy and deactivate option ([issue#7454](http://tracker.ceph.com/issues/7454), [pr#5867](http://github.com/ceph/ceph/pull/5867), Vicente Cheng)
- ceph-disk: add -f flag for btrfs mkfs ([pr#7222](http://github.com/ceph/ceph/pull/7222), Darrell Enns)
- ceph-disk: Add –setuser and –setgroup options for ceph-disk ([pr#7351](http://github.com/ceph/ceph/pull/7351), Mike Shuey)
- ceph-disk: ceph-disk list fails on /dev/cciss!c0d0 ([issue#13970](http://tracker.ceph.com/issues/13970), [issue#14233](http://tracker.ceph.com/issues/14233), [issue#14230](http://tracker.ceph.com/issues/14230), [pr#6879](http://github.com/ceph/ceph/pull/6879), Loic Dachary)
- ceph-disk: compare parted output with the dereferenced path ([issue#13438](http://tracker.ceph.com/issues/13438), [pr#6219](http://github.com/ceph/ceph/pull/6219), Joe Julian)
- ceph-disk: deactivate / destroy PATH arg are optional ([pr#7756](http://github.com/ceph/ceph/pull/7756), Loic Dachary)
- ceph-disk: do not always fail when re-using a partition ([pr#8508](http://github.com/ceph/ceph/pull/8508), You Ji)
- ceph-disk: fix failures when preparing disks with udev > 214 ([issue#14080](http://tracker.ceph.com/issues/14080), [issue#14094](http://tracker.ceph.com/issues/14094), [pr#6926](http://github.com/ceph/ceph/pull/6926), Loic Dachary, Ilya Dryomov)
- ceph-disk: fix prepare –help ([pr#7758](http://github.com/ceph/ceph/pull/7758), Loic Dachary)
- ceph-disk: Fix trivial typo ([pr#7472](http://github.com/ceph/ceph/pull/7472), Brad Hubbard)
- ceph-disk: flake8 fixes ([pr#7646](http://github.com/ceph/ceph/pull/7646), Loic Dachary)
- ceph-disk: get Nonetype when ceph-disk list with –format plain on single device. ([pr#6410](http://github.com/ceph/ceph/pull/6410), Vicente Cheng)
- ceph-disk: Improving ‘make check’ for ceph-disk ([pr#7762](http://github.com/ceph/ceph/pull/7762), Erwan Velu)
- ceph-disk: key management support ([issue#14669](http://tracker.ceph.com/issues/14669), [pr#7552](http://github.com/ceph/ceph/pull/7552), Loic Dachary)
- ceph-disk: make some arguments as required if necessary ([pr#7687](http://github.com/ceph/ceph/pull/7687), Dongsheng Yang)
- ceph-disk: s/dmcrpyt/dmcrypt/ ([issue#14838](http://tracker.ceph.com/issues/14838), [pr#7744](http://github.com/ceph/ceph/pull/7744), Loic Dachary, Frode Sandholtbraaten)
- ceph-disk: support bluestore ([issue#13422](http://tracker.ceph.com/issues/13422), [pr#7218](http://github.com/ceph/ceph/pull/7218), Loic Dachary, Sage Weil)
- ceph-disk/test: fix test\_prepare.py::TestPrepare tests ([pr#7549](http://github.com/ceph/ceph/pull/7549), Kefu Chai)
- ceph-disk: warn for prepare partitions with bad GUIDs ([issue#13943](http://tracker.ceph.com/issues/13943), [pr#6760](http://github.com/ceph/ceph/pull/6760), David Disseldorp)
- ceph: fix tell behavior ([pr#6329](http://github.com/ceph/ceph/pull/6329), David Zafman)
- cephfs-data-scan: scan\_frags ([pr#5941](http://github.com/ceph/ceph/pull/5941), John Spray)
- cephfs-data-scan: scrub tag filtering (#12133 and #12145) ([issue#12133](http://tracker.ceph.com/issues/12133), [issue#12145](http://tracker.ceph.com/issues/12145), [pr#5685](http://github.com/ceph/ceph/pull/5685), John Spray)
- ceph-fuse: add process to ceph-fuse –help ([pr#6821](http://github.com/ceph/ceph/pull/6821), Wei Feng)
- ceph-fuse: fix double decreasing the count to trim caps ([issue#14319](http://tracker.ceph.com/issues/14319), [pr#7229](http://github.com/ceph/ceph/pull/7229), Zhi Zhang)
- ceph-fuse: fix double free of args ([pr#7015](http://github.com/ceph/ceph/pull/7015), Ilya Shipitsin)
- ceph-fuse: fix fsync() ([pr#6388](http://github.com/ceph/ceph/pull/6388), Yan, Zheng)
- ceph-fuse: Fix potential filehandle ref leak at umount ([issue#14800](http://tracker.ceph.com/issues/14800), [pr#7686](http://github.com/ceph/ceph/pull/7686), Zhi Zhang)
- ceph-fuse,libcephfs: Fix client handling of “lost” open directories on shutdown ([issue#14996](http://tracker.ceph.com/issues/14996), [pr#7994](http://github.com/ceph/ceph/pull/7994), Yan, Zheng)
- ceph-fuse,libcephfs: fix free fds being exhausted eventually because freed fds are never put back ([issue#14798](http://tracker.ceph.com/issues/14798), [pr#7685](http://github.com/ceph/ceph/pull/7685), Zhi Zhang)
- ceph-fuse:print usage information when no parameter specified ([pr#6868](http://github.com/ceph/ceph/pull/6868), Bo Cai)
- ceph-fuse: rotate log file ([pr#8485](http://github.com/ceph/ceph/pull/8485), Sage Weil)
- ceph-fuse: While starting ceph-fuse, start the log thread first ([issue#13443](http://tracker.ceph.com/issues/13443), [pr#6224](http://github.com/ceph/ceph/pull/6224), Wenjun Huang)
- ceph: improve the error message ([issue#11101](http://tracker.ceph.com/issues/11101), [pr#7106](http://github.com/ceph/ceph/pull/7106), Kefu Chai)
- ceph.in: avoid a broken pipe error when use ceph command ([issue#14354](http://tracker.ceph.com/issues/14354), [pr#7212](http://github.com/ceph/ceph/pull/7212), Bo Cai)
- ceph.in: correct dev python path for automake builds ([pr#8360](http://github.com/ceph/ceph/pull/8360), Josh Durgin)
- ceph.in: fix python libpath for automake as well ([pr#8362](http://github.com/ceph/ceph/pull/8362), Josh Durgin)
- ceph.in: Minor python3 specific changes ([pr#7947](http://github.com/ceph/ceph/pull/7947), Sarthak Munshi)
- ceph-kvstore-tool: handle bad out file on command line ([pr#6093](http://github.com/ceph/ceph/pull/6093), Kefu Chai)
- ceph-mds:add –help/-h ([pr#6850](http://github.com/ceph/ceph/pull/6850), Cilang Zhao)
- ceph\_objectstore\_bench: fix race condition, bugs ([issue#13516](http://tracker.ceph.com/issues/13516), [pr#6681](http://github.com/ceph/ceph/pull/6681), Igor Fedotov)
- ceph-objectstore-tool: fix –dry-run for many ceph-objectstore-tool operations ([pr#6545](http://github.com/ceph/ceph/pull/6545), David Zafman)
- ceph-rest-api: fix fs/flag/set ([pr#8428](http://github.com/ceph/ceph/pull/8428), Sage Weil)
- ceph.spec.in: add BuildRequires: systemd ([issue#13860](http://tracker.ceph.com/issues/13860), [pr#6692](http://github.com/ceph/ceph/pull/6692), Nathan Cutler)
- ceph.spec.in: add copyright notice ([issue#14694](http://tracker.ceph.com/issues/14694), [pr#7569](http://github.com/ceph/ceph/pull/7569), Nathan Cutler)
- ceph.spec.in: add license declaration ([pr#7574](http://github.com/ceph/ceph/pull/7574), Nathan Cutler)
- ceph.spec.in: disable lttng and babeltrace explicitly ([issue#14844](http://tracker.ceph.com/issues/14844), [pr#7857](http://github.com/ceph/ceph/pull/7857), Kefu Chai)
- ceph.spec.in: do not install Ceph RA on systemd platforms ([issue#14828](http://tracker.ceph.com/issues/14828), [pr#7894](http://github.com/ceph/ceph/pull/7894), Nathan Cutler)
- ceph.spec.in: fix openldap and openssl build dependencies for SUSE ([issue#15138](http://tracker.ceph.com/issues/15138), [pr#8120](http://github.com/ceph/ceph/pull/8120), Nathan Cutler)
- ceph.spec.in: limit \_smp\_mflags when lowmem\_builder is set in SUSE’s OBS ([issue#13858](http://tracker.ceph.com/issues/13858), [pr#6691](http://github.com/ceph/ceph/pull/6691), Nathan Cutler)
- ceph.spec.in: terminate if statement in %pre scriptlet ([pr#8628](http://github.com/ceph/ceph/pull/8628), Nathan Cutler)
- ceph\_test\_libcephfs: tolerate duplicated entries in readdir ([issue#14377](http://tracker.ceph.com/issues/14377), [pr#7246](http://github.com/ceph/ceph/pull/7246), Yan, Zheng)
- ceph\_test\_msgr: reduce test size to fix memory size ([pr#8127](http://github.com/ceph/ceph/pull/8127), Haomai Wang)
- ceph\_test\_msgr: Use send\_message instead of keepalive to wakeup connection ([pr#6605](http://github.com/ceph/ceph/pull/6605), Haomai Wang)
- ceph\_test\_rados: make long name ~300 chars, (not ~800) ([pr#8600](http://github.com/ceph/ceph/pull/8600), Sage Weil)
- ceph\_test\_rados\_misc: shorten mount timeout ([pr#8209](http://github.com/ceph/ceph/pull/8209), Sage Weil)
- check-generated.sh: can’t source bash from sh ([pr#8521](http://github.com/ceph/ceph/pull/8521), Michal Jarzabek)
- cleanup ([pr#8058](http://github.com/ceph/ceph/pull/8058), Yehuda Sadeh, Orit Wasserman)
- cleanup: remove misc dead code ([pr#7201](http://github.com/ceph/ceph/pull/7201), Erwan Velu)
- client: a better check for MDS availability ([pr#6253](http://github.com/ceph/ceph/pull/6253), John Spray)
- client: add option to control how directory size is calculated ([pr#7323](http://github.com/ceph/ceph/pull/7323), Yan, Zheng)
- client: avoid creating orphan object in Client::check\_pool\_perm() ([issue#13782](http://tracker.ceph.com/issues/13782), [pr#6603](http://github.com/ceph/ceph/pull/6603), Yan, Zheng)
- client: check if Fh is readable when processing a read ([issue#11517](http://tracker.ceph.com/issues/11517), [pr#7209](http://github.com/ceph/ceph/pull/7209), Yan, Zheng)
- client: close mds sessions in shutdown() ([pr#6269](http://github.com/ceph/ceph/pull/6269), John Spray)
- client: don’t invalidate page cache when inode is no longer used ([pr#6380](http://github.com/ceph/ceph/pull/6380), Yan, Zheng)
- client: don’t mark\_down on command reply ([pr#6204](http://github.com/ceph/ceph/pull/6204), John Spray)
- client: drop prefix from ints ([pr#6275](http://github.com/ceph/ceph/pull/6275), John Coyle)
- client: flush kernel pagecache before creating snapshot ([issue#10436](http://tracker.ceph.com/issues/10436), [pr#7495](http://github.com/ceph/ceph/pull/7495), Yan, Zheng)
- client: modify a word in log ([pr#6906](http://github.com/ceph/ceph/pull/6906), YongQiang He)
- client: properly trim unlinked inode ([issue#13903](http://tracker.ceph.com/issues/13903), [pr#7297](http://github.com/ceph/ceph/pull/7297), Yan, Zheng)
- client: removed unused Mutex from MetaRequest ([pr#7655](http://github.com/ceph/ceph/pull/7655), Greg Farnum)
- client: sys/file.h includes for flock operations ([pr#6282](http://github.com/ceph/ceph/pull/6282), John Coyle)
- client: use null snapc to check pool permission ([issue#13714](http://tracker.ceph.com/issues/13714), [pr#6497](http://github.com/ceph/ceph/pull/6497), Yan, Zheng)
- cls/cls\_rbd.cc: fix misused metadata\_name\_from\_key ([issue#13922](http://tracker.ceph.com/issues/13922), [pr#6661](http://github.com/ceph/ceph/pull/6661), Xiaoxi Chen)
- cls/cls\_rbd: pass string by reference ([pr#7232](http://github.com/ceph/ceph/pull/7232), Jeffrey Lu)
- cls\_hello: Fix grammatical error in description comment ([pr#7951](http://github.com/ceph/ceph/pull/7951), Brad Hubbard)
- cls\_journal: fix -EEXIST checking ([pr#8413](http://github.com/ceph/ceph/pull/8413), runsisi)
- cls\_rbd: add guards for error cases ([issue#14316](http://tracker.ceph.com/issues/14316), [issue#14317](http://tracker.ceph.com/issues/14317), [pr#7165](http://github.com/ceph/ceph/pull/7165), xie xingguo)
- cls\_rbd: change object\_map\_update to return 0 on success, add logging ([pr#6467](http://github.com/ceph/ceph/pull/6467), Douglas Fuller)
- cls\_rbd: enable object map checksums for object\_map\_save ([issue#14280](http://tracker.ceph.com/issues/14280), [pr#7149](http://github.com/ceph/ceph/pull/7149), Douglas Fuller)
- cls\_rbd: fix -EEXIST checking in cls::rbd::image\_set ([pr#8371](http://github.com/ceph/ceph/pull/8371), runsisi)
- cls\_rbd: fix the test for ceph-dencoder ([pr#7793](http://github.com/ceph/ceph/pull/7793), Kefu Chai)
- cls\_rbd: mirror\_image\_list should return global image id ([pr#8297](http://github.com/ceph/ceph/pull/8297), Jason Dillaman)
- cls\_rbd: mirroring directory ([issue#14419](http://tracker.ceph.com/issues/14419), [pr#7620](http://github.com/ceph/ceph/pull/7620), Josh Durgin)
- cls\_rbd: pass WILLNEED fadvise flags during object map update ([issue#15332](http://tracker.ceph.com/issues/15332), [pr#8380](http://github.com/ceph/ceph/pull/8380), Jason Dillaman)
- cls\_rbd: protect against excessively large object maps ([issue#15121](http://tracker.ceph.com/issues/15121), [pr#8099](http://github.com/ceph/ceph/pull/8099), Jason Dillaman)
- cls\_rbd: read\_peers: update last\_read on next cls\_cxx\_map\_get\_vals ([pr#8374](http://github.com/ceph/ceph/pull/8374), Mykola Golub)
- cls/rgw: fix FTBFS ([pr#8142](http://github.com/ceph/ceph/pull/8142), Kefu Chai)
- cls/rgw: fix use of timespan ([issue#15181](http://tracker.ceph.com/issues/15181), [pr#8212](http://github.com/ceph/ceph/pull/8212), Yehuda Sadeh)
- cmake: add common/fs\_types.cc to libcommon ([pr#7898](http://github.com/ceph/ceph/pull/7898), Orit Wasserman)
- cmake: Add common/PluginRegistry.cc to CMakeLists.txt ([pr#6805](http://github.com/ceph/ceph/pull/6805), Pete Zaitcev)
- cmake: Added new unittests to make check ([pr#7572](http://github.com/ceph/ceph/pull/7572), Ali Maredia)
- cmake: Add ENABLE\_GIT\_VERSION to avoid rebuilding ([pr#7171](http://github.com/ceph/ceph/pull/7171), Kefu Chai)
- cmake: add ErasureCode.cc to jerasure plugins ([pr#7808](http://github.com/ceph/ceph/pull/7808), Casey Bodley)
- cmake: add FindOpenSSL.cmake ([pr#8106](http://github.com/ceph/ceph/pull/8106), Marcus Watts, Matt Benjamin)
- cmake: add KernelDevice.cc to libos\_srcs ([pr#7507](http://github.com/ceph/ceph/pull/7507), Kefu Chai)
- cmake: add missing check for HAVE\_EXECINFO\_H ([pr#7270](http://github.com/ceph/ceph/pull/7270), Casey Bodley)
- cmake: add missing librbd image\_watcher sources ([issue#14823](http://tracker.ceph.com/issues/14823), [pr#7717](http://github.com/ceph/ceph/pull/7717), Casey Bodley)
- cmake: add missing librbd/MirrorWatcher.cc and librd/ObjectWatcher.cc ([pr#8399](http://github.com/ceph/ceph/pull/8399), Orit Wasserman)
- cmake: add nss as a suffix for pk11pub.h ([pr#6556](http://github.com/ceph/ceph/pull/6556), Samuel Just)
- cmake: add rgw\_basic\_types.cc to librgw.a ([pr#6786](http://github.com/ceph/ceph/pull/6786), Orit Wasserman)
- cmake: add StandardPolicy.cc to librbd ([pr#8368](http://github.com/ceph/ceph/pull/8368), Kefu Chai)
- cmake: add TracepointProvider.cc to libcommon ([pr#6823](http://github.com/ceph/ceph/pull/6823), Orit Wasserman)
- cmake: avoid false-positive LDAP header detect ([pr#8100](http://github.com/ceph/ceph/pull/8100), Matt Benjamin)
- cmake: Build cython modules and change paths to bin/, lib/ ([pr#8351](http://github.com/ceph/ceph/pull/8351), John Spray, Ali Maredia)
- cmake: check for libsnappy in default path also ([pr#7366](http://github.com/ceph/ceph/pull/7366), Kefu Chai)
- cmake: cleanups and more features from automake ([pr#7103](http://github.com/ceph/ceph/pull/7103), Casey Bodley, Ali Maredia)
- cmake: define STRERROR\_R\_CHAR\_P for GNU-specific strerror\_r ([pr#6751](http://github.com/ceph/ceph/pull/6751), Ilya Dryomov)
- cmake: detect bzip2 and lz4 ([pr#7126](http://github.com/ceph/ceph/pull/7126), Kefu Chai)
- cmake: feb5 ([pr#7541](http://github.com/ceph/ceph/pull/7541), Matt Benjamin)
- cmake: fix build with bluestore ([pr#7099](http://github.com/ceph/ceph/pull/7099), John Spray)
- cmake: fix files list ([pr#6539](http://github.com/ceph/ceph/pull/6539), Yehuda Sadeh)
- cmake: fix mrun to handle cmake build structure ([pr#8237](http://github.com/ceph/ceph/pull/8237), Orit Wasserman)
- cmake: fix paths to various EC source files ([pr#7748](http://github.com/ceph/ceph/pull/7748), Ali Maredia, Matt Benjamin)
- cmake: fix the build of test\_rados\_api\_list ([pr#8438](http://github.com/ceph/ceph/pull/8438), Kefu Chai)
- cmake: fix the build of tests ([pr#7523](http://github.com/ceph/ceph/pull/7523), Kefu Chai)
- cmake: fix the build on trusty ([pr#7249](http://github.com/ceph/ceph/pull/7249), Kefu Chai)
- cmake: For CMake version <= 2.8.11, use LINK\_PRIVATE and LINK\_PUBLIC ([pr#7474](http://github.com/ceph/ceph/pull/7474), Tao Chang)
- cmake: For CMake version <= 2.8.11, use LINK\_PRIVATE ([pr#8422](http://github.com/ceph/ceph/pull/8422), Haomai Wang)
- cmake: let ceph-client-debug link with tcmalloc ([pr#7314](http://github.com/ceph/ceph/pull/7314), Kefu Chai)
- cmake: librbd and libjournal build fixes ([pr#6557](http://github.com/ceph/ceph/pull/6557), Ilya Dryomov)
- cmake: made rocksdb an imported library ([pr#7131](http://github.com/ceph/ceph/pull/7131), Ali Maredia)
- cmake: make check ([pr#7912](http://github.com/ceph/ceph/pull/7912), Kefu Chai, Ali Maredia)
- cmake: no need to run configure from run-cmake-check.sh ([pr#6959](http://github.com/ceph/ceph/pull/6959), Orit Wasserman)
- cmake ([pr#7849](http://github.com/ceph/ceph/pull/7849), Ali Maredia)
- cmake/pybind: fix include paths for cephfs ([pr#8381](http://github.com/ceph/ceph/pull/8381), Josh Durgin)
- cmake: Remove duplicate find\_package libcurl line. ([pr#7972](http://github.com/ceph/ceph/pull/7972), Brad Hubbard)
- cmake: support ccache via a WITH\_CCACHE build option ([pr#6875](http://github.com/ceph/ceph/pull/6875), John Coyle)
- cmake: test\_build\_libcephfs needs ${ALLOC\_LIBS} ([pr#7300](http://github.com/ceph/ceph/pull/7300), Ali Maredia)
- cmake: update for recent librbd changes ([pr#6715](http://github.com/ceph/ceph/pull/6715), John Spray)
- cmake: update for recent rbd changes ([pr#6818](http://github.com/ceph/ceph/pull/6818), Mykola Golub)
- cmake: Use uname instead of arch. ([pr#6358](http://github.com/ceph/ceph/pull/6358), John Coyle)
- coc: fix typo in the apt-get command ([pr#6659](http://github.com/ceph/ceph/pull/6659), Chris Holcombe)
- common: add generic plugin infrastructure ([pr#6696](http://github.com/ceph/ceph/pull/6696), Sage Weil)
- common: add latency perf counter for finisher ([pr#6175](http://github.com/ceph/ceph/pull/6175), Xinze Chi)
- common/address\_help.cc: fix the leak in entity\_addr\_from\_url() ([issue#14132](http://tracker.ceph.com/issues/14132), [pr#6987](http://github.com/ceph/ceph/pull/6987), Qiankun Zheng)
- common: add thread names ([pr#5882](http://github.com/ceph/ceph/pull/5882), Igor Podoski)
- common: add zlib compression plugin ([pr#7437](http://github.com/ceph/ceph/pull/7437), Alyona Kiseleva, Kiseleva Alyona)
- common: admin socket commands for tcmalloc heap get/set operations ([pr#7512](http://github.com/ceph/ceph/pull/7512), Samuel Just)
- common: ake ceph\_time clocks work under BSD ([pr#7340](http://github.com/ceph/ceph/pull/7340), Adam C. Emerson)
- common: allow enable/disable of optracker at runtime ([pr#5168](http://github.com/ceph/ceph/pull/5168), Jianpeng Ma)
- common: Allow OPT\_INT settings with negative values ([issue#13829](http://tracker.ceph.com/issues/13829), [pr#7390](http://github.com/ceph/ceph/pull/7390), Brad Hubbard, Kefu Chai)
- common: assert: abort() rather than throw ([pr#6804](http://github.com/ceph/ceph/pull/6804), Adam C. Emerson)
- common: assert: \_\_STRING macro is not defined by musl libc. ([pr#6210](http://github.com/ceph/ceph/pull/6210), John Coyle)
- common/bit\_vector: use hard-coded value for block size ([issue#14747](http://tracker.ceph.com/issues/14747), [pr#7610](http://github.com/ceph/ceph/pull/7610), Jason Dillaman)
- common: buffer: add cached\_crc and cached\_crc\_adjust counts to perf dump ([pr#6535](http://github.com/ceph/ceph/pull/6535), Ning Yao)
- common: buffer/assert minor fixes ([pr#6990](http://github.com/ceph/ceph/pull/6990), Matt Benjamin)
- common: buffer: put a guard for stat() syscall during read\_file ([pr#7956](http://github.com/ceph/ceph/pull/7956), xie xingguo)
- common: buffer: remove unneeded list destructor ([pr#6456](http://github.com/ceph/ceph/pull/6456), Michal Jarzabek)
- common/buffer: replace RWLock with spinlocks ([pr#7294](http://github.com/ceph/ceph/pull/7294), Piotr Dałek)
- common/ceph\_context.cc:fix order of initialisers ([pr#6838](http://github.com/ceph/ceph/pull/6838), Michal Jarzabek)
- common: change the type of counter total/unhealthy\_workers ([pr#7254](http://github.com/ceph/ceph/pull/7254), Guang Yang)
- common: default cluster name to config file prefix ([pr#7364](http://github.com/ceph/ceph/pull/7364), Javen Wu)
- common: Deprecate or free up a bunch of feature bits ([pr#8214](http://github.com/ceph/ceph/pull/8214), Samuel Just)
- common: Do not use non-portable constants in mutex\_debug ([pr#7766](http://github.com/ceph/ceph/pull/7766), Adam C. Emerson)
- common: don’t reverse hobject\_t hash bits when zero ([pr#6653](http://github.com/ceph/ceph/pull/6653), Piotr Dałek)
- common: fix OpTracker age histogram calculation ([pr#5065](http://github.com/ceph/ceph/pull/5065), Zhiqiang Wang)
- common: fix race during optracker switches between enabled/disabled mode ([pr#8330](http://github.com/ceph/ceph/pull/8330), xie xingguo)
- common: fix reset max in Throttle using perf reset command ([issue#13517](http://tracker.ceph.com/issues/13517), [pr#6300](http://github.com/ceph/ceph/pull/6300), Xinze Chi)
- common: fix time\_t cast in decode ([issue#15330](http://tracker.ceph.com/issues/15330), [pr#8419](http://github.com/ceph/ceph/pull/8419), Adam C. Emerson)
- common/Formatter: avoid newline if there is no output ([pr#5351](http://github.com/ceph/ceph/pull/5351), Aran85)
- common: improve shared\_cache and simple\_cache efficiency with hash table ([pr#6909](http://github.com/ceph/ceph/pull/6909), Ning Yao)
- common/lockdep: increase max lock names ([pr#6961](http://github.com/ceph/ceph/pull/6961), Sage Weil)
- common: log: Assign LOG\_DEBUG priority to syslog calls ([issue#13993](http://tracker.ceph.com/issues/13993), [pr#6815](http://github.com/ceph/ceph/pull/6815), Brad Hubbard)
- common: log: predict log message buffer allocation size ([pr#6641](http://github.com/ceph/ceph/pull/6641), Adam Kupczyk)
- common/MemoryModel: Added explicit feature check for mallinfo(). ([pr#6252](http://github.com/ceph/ceph/pull/6252), John Coyle)
- common: new timekeeping common code, and Objecter conversion ([pr#5782](http://github.com/ceph/ceph/pull/5782), Adam C. Emerson)
- common/obj\_bencher.cc: bump the precision of bandwidth field ([pr#8021](http://github.com/ceph/ceph/pull/8021), Piotr Dałek)
- common/obj\_bencher.cc: faster object name generation ([pr#7863](http://github.com/ceph/ceph/pull/7863), Piotr Dałek)
- common/obj\_bencher.cc: fix verification crashing when there’s no objects ([pr#5853](http://github.com/ceph/ceph/pull/5853), Piotr Dałek)
- common/obj\_bencher.cc: make verify error fatal ([issue#14971](http://tracker.ceph.com/issues/14971), [pr#7897](http://github.com/ceph/ceph/pull/7897), Piotr Dałek)
- common: optimize debug logging code ([pr#6441](http://github.com/ceph/ceph/pull/6441), Adam Kupczyk)
- common: optimize debug logging ([pr#6307](http://github.com/ceph/ceph/pull/6307), Adam Kupczyk)
- common/page.cc: \_page\_mask has too many bits ([pr#7588](http://github.com/ceph/ceph/pull/7588), Dan Mick)
- common: perf counter for bufferlist history total alloc ([pr#6198](http://github.com/ceph/ceph/pull/6198), Xinze Chi)
- common: reduce CPU usage by making stringstream in stringify function thread local ([pr#6543](http://github.com/ceph/ceph/pull/6543), Evgeniy Firsov)
- common: re-enable backtrace support ([pr#6771](http://github.com/ceph/ceph/pull/6771), Jason Dillaman)
- common: set thread name from correct thread ([pr#7845](http://github.com/ceph/ceph/pull/7845), Igor Podoski)
- common: signal\_handler: added support for using reentrant strsignal() implementations vs. sys\_siglist\[\] ([pr#6796](http://github.com/ceph/ceph/pull/6796), John Coyle)
- common: snappy decompressor may assert when handling segmented input bufferlist ([issue#14400](http://tracker.ceph.com/issues/14400), [pr#7268](http://github.com/ceph/ceph/pull/7268), Igor Fedotov)
- common: string.h: return type from str\_len(...) need not be const ([pr#7679](http://github.com/ceph/ceph/pull/7679), Matt Benjamin)
- common/str\_map: cleanup: replaced get\_str\_map() function overloading by using default parameters for delimiters ([pr#7266](http://github.com/ceph/ceph/pull/7266), Sahithi R V)
- common/strtol.cc: fix the coverity warnings ([pr#7967](http://github.com/ceph/ceph/pull/7967), Kefu Chai)
- common: SubProcess: Avoid buffer corruption when calling err() ([issue#15011](http://tracker.ceph.com/issues/15011), [pr#8054](http://github.com/ceph/ceph/pull/8054), Erwan Velu)
- common: SubProcess: fix multiple definition bug ([pr#6790](http://github.com/ceph/ceph/pull/6790), Yunchuan Wen)
- common: Thread: move copy constructor and assignment op ([pr#5133](http://github.com/ceph/ceph/pull/5133), Michal Jarzabek)
- common: time: have skewing-now call non-skewing now ([pr#7466](http://github.com/ceph/ceph/pull/7466), Adam C. Emerson)
- common/TrackedOp: fix inaccurate counting for slow requests ([issue#14804](http://tracker.ceph.com/issues/14804), [pr#7690](http://github.com/ceph/ceph/pull/7690), xie xingguo)
- common: unit test for interval\_set implementations ([pr#6](http://github.com/ceph/ceph/pull/6), Igor Fedotov)
- common: use namespace instead of subclasses for buffer ([pr#6686](http://github.com/ceph/ceph/pull/6686), Michal Jarzabek)
- common: various fixes from SCA runs ([pr#7680](http://github.com/ceph/ceph/pull/7680), Danny Al-Gaaf)
- common: WeightedPriorityQueue Re-Add Round Robin for Classes ([pr#7984](http://github.com/ceph/ceph/pull/7984), Robert LeBlanc)
- common: WorkQueue: new PointerWQ base class for ContextWQ ([issue#13636](http://tracker.ceph.com/issues/13636), [pr#6525](http://github.com/ceph/ceph/pull/6525), Jason Dillaman)
- compat: use prefixed typeof extension ([pr#6216](http://github.com/ceph/ceph/pull/6216), John Coyle)
- config: add $data\_dir/config to config search path ([pr#7377](http://github.com/ceph/ceph/pull/7377), Sage Weil)
- config: complains when a setting is not tracked ([issue#11692](http://tracker.ceph.com/issues/11692), [pr#7085](http://github.com/ceph/ceph/pull/7085), Kefu Chai)
- config: fix osd\_crush\_initial\_weight ([pr#7975](http://github.com/ceph/ceph/pull/7975), You Ji)
- config: increase default async op threads ([pr#7802](http://github.com/ceph/ceph/pull/7802), Piotr Dałek)
- config\_opts: disable filestore throttle soft backoff by default ([pr#8265](http://github.com/ceph/ceph/pull/8265), Samuel Just)
- configure.ac: boost\_iostreams is required, not optional ([pr#7816](http://github.com/ceph/ceph/pull/7816), Hector Martin)
- configure.ac: macro fix ([pr#6769](http://github.com/ceph/ceph/pull/6769), Igor Podoski)
- configure.ac: make “–with-librocksdb-static” default to ‘check’ ([issue#14463](http://tracker.ceph.com/issues/14463), [pr#7317](http://github.com/ceph/ceph/pull/7317), Dan Mick)
- configure.ac: update help strings for cython ([pr#7856](http://github.com/ceph/ceph/pull/7856), Josh Durgin)
- configure: Add -D\_LARGEFILE64\_SOURCE to Linux build. ([pr#8402](http://github.com/ceph/ceph/pull/8402), Ira Cooper)
- configure: detect bz2 and lz4 ([issue#13850](http://tracker.ceph.com/issues/13850), [issue#13981](http://tracker.ceph.com/issues/13981), [pr#7030](http://github.com/ceph/ceph/pull/7030), Kefu Chai)
- correct radosgw-admin command ([pr#7006](http://github.com/ceph/ceph/pull/7006), YankunLi)
- crush: add chooseleaf\_stable tunable ([pr#6572](http://github.com/ceph/ceph/pull/6572), Sangdi Xu, Sage Weil)
- crush: add safety assert ([issue#14496](http://tracker.ceph.com/issues/14496), [pr#7344](http://github.com/ceph/ceph/pull/7344), songbaisen)
- crush: clean up whitespace removal ([issue#14302](http://tracker.ceph.com/issues/14302), [pr#7157](http://github.com/ceph/ceph/pull/7157), songbaisen)
- crush/CrushTester: check for overlapped rules ([pr#7139](http://github.com/ceph/ceph/pull/7139), Kefu Chai)
- crush/CrushTester: workaround a bug in boost::icl ([pr#7560](http://github.com/ceph/ceph/pull/7560), Kefu Chai)
- crush: fix cli tests for new crush tunables ([pr#8107](http://github.com/ceph/ceph/pull/8107), Sage Weil)
- crush: fix error log ([pr#8430](http://github.com/ceph/ceph/pull/8430), Wei Jin)
- crush: fix typo ([pr#8518](http://github.com/ceph/ceph/pull/8518), Wei Jin)
- crush: reply quickly from get\_immediate\_parent ([issue#14334](http://tracker.ceph.com/issues/14334), [pr#7181](http://github.com/ceph/ceph/pull/7181), song baisen)
- crushtool: Don’t crash when called on a file that isn’t a crushmap ([issue#8286](http://tracker.ceph.com/issues/8286), [pr#8038](http://github.com/ceph/ceph/pull/8038), Brad Hubbard)
- crushtool: improve usage/tip messages ([pr#7142](http://github.com/ceph/ceph/pull/7142), xie xingguo)
- crushtool: set type 0 name “device” for –build option ([pr#6824](http://github.com/ceph/ceph/pull/6824), Sangdi Xu)
- crush: update tunable docs. change default profile to jewel ([pr#7964](http://github.com/ceph/ceph/pull/7964), Sage Weil)
- crush: validate bucket id before indexing buckets array ([issue#13477](http://tracker.ceph.com/issues/13477), [pr#6246](http://github.com/ceph/ceph/pull/6246), Sage Weil)
- debian/changelog: Remove stray ‘v’ in version ([pr#7936](http://github.com/ceph/ceph/pull/7936), Dan Mick)
- debian/changelog: Remove stray ‘v’ in version ([pr#7938](http://github.com/ceph/ceph/pull/7938), Dan Mick)
- debian: include cpio in build-requiers ([pr#7533](http://github.com/ceph/ceph/pull/7533), Rémi BUISSON)
- debian: package librgw\_file\* tests ([pr#7930](http://github.com/ceph/ceph/pull/7930), Ken Dreyer)
- debian: packaging fixes for jewel ([pr#7807](http://github.com/ceph/ceph/pull/7807), Ken Dreyer, Ali Maredia)
- debian/rpm split servers ([issue#10587](http://tracker.ceph.com/issues/10587), [pr#7746](http://github.com/ceph/ceph/pull/7746), Ken Dreyer)
- debian/rules: put init-ceph in /etc/init.d/ceph, not ceph-base ([issue#15329](http://tracker.ceph.com/issues/15329), [pr#8406](http://github.com/ceph/ceph/pull/8406), Dan Mick)
- debian: start ceph-mon-all and ceph-osd-all on package install ([issue#15098](http://tracker.ceph.com/issues/15098), [pr#8617](http://github.com/ceph/ceph/pull/8617), Sage Weil)
- doc: add ceph-detect-init(8) source to dist tarball ([pr#7933](http://github.com/ceph/ceph/pull/7933), Ken Dreyer)
- doc: add cinder backend section to rbd-openstack.rst ([pr#7923](http://github.com/ceph/ceph/pull/7923), RustShen)
- doc: adding “–allow-shrink” in decreasing the size of the rbd block to distinguish from the increasing option ([pr#7020](http://github.com/ceph/ceph/pull/7020), Yehua)
- doc: Adding documentation on how to use new dynamic throttle scheme ([pr#8069](http://github.com/ceph/ceph/pull/8069), Somnath Roy)
- doc: add orphans commands to radosgw-admin(8) ([issue#14637](http://tracker.ceph.com/issues/14637), [pr#7518](http://github.com/ceph/ceph/pull/7518), Ken Dreyer)
- doc: add v0.80.11 to the release timeline ([pr#6658](http://github.com/ceph/ceph/pull/6658), Loic Dachary)
- doc: admin/build-doc: add lxml dependencies on debian ([pr#6610](http://github.com/ceph/ceph/pull/6610), Ken Dreyer)
- doc: admin/build-doc: make paths absolute ([pr#7119](http://github.com/ceph/ceph/pull/7119), Dan Mick)
- doc: amend Fixes instructions in SubmittingPatches ([pr#8312](http://github.com/ceph/ceph/pull/8312), Nathan Cutler)
- doc: amend the rados.8 ([pr#7251](http://github.com/ceph/ceph/pull/7251), Kefu Chai)
- doc/architecture.rst: remove redundant word “across” ([pr#8179](http://github.com/ceph/ceph/pull/8179), Zhao Junwang)
- doc/cephfs/posix: update ([pr#6922](http://github.com/ceph/ceph/pull/6922), Sage Weil)
- doc: Clarify usage on starting single osd/mds/mon. ([pr#7641](http://github.com/ceph/ceph/pull/7641), Patrick Donnelly)
- doc: CodingStyle: fix broken URLs ([pr#6733](http://github.com/ceph/ceph/pull/6733), Kefu Chai)
- doc: correct typo ‘restared’ to ‘restarted’ ([pr#6734](http://github.com/ceph/ceph/pull/6734), Yilong Zhao)
- doc: detailed description of bugfixing workflow ([pr#7941](http://github.com/ceph/ceph/pull/7941), Nathan Cutler)
- doc/dev: add “Deploy a cluster for manual testing” section ([issue#15218](http://tracker.ceph.com/issues/15218), [pr#8228](http://github.com/ceph/ceph/pull/8228), Nathan Cutler)
- doc/dev: add section on interrupting a running suite ([pr#8116](http://github.com/ceph/ceph/pull/8116), Nathan Cutler)
- doc/dev: continue writing Testing in the cloud chapter ([pr#7960](http://github.com/ceph/ceph/pull/7960), Nathan Cutler)
- doc: dev: document ceph-qa-suite ([pr#6955](http://github.com/ceph/ceph/pull/6955), Loic Dachary)
- doc/dev/index: refactor/reorg ([pr#6792](http://github.com/ceph/ceph/pull/6792), Nathan Cutler)
- doc/dev/index.rst: begin writing Contributing to Ceph ([pr#6727](http://github.com/ceph/ceph/pull/6727), Nathan Cutler)
- doc/dev/index.rst: fix headings ([pr#6780](http://github.com/ceph/ceph/pull/6780), Nathan Cutler)
- doc/dev: integrate testing into the narrative ([pr#7946](http://github.com/ceph/ceph/pull/7946), Nathan Cutler)
- doc: dev: introduction to tests ([pr#6910](http://github.com/ceph/ceph/pull/6910), Loic Dachary)
- doc/dev: various refinements ([pr#7954](http://github.com/ceph/ceph/pull/7954), Nathan Cutler)
- doc: document “readforward” and “readproxy” cache mode ([pr#7023](http://github.com/ceph/ceph/pull/7023), Kefu Chai)
- doc: download GPG key from download.ceph.com ([issue#13603](http://tracker.ceph.com/issues/13603), [pr#6384](http://github.com/ceph/ceph/pull/6384), Ken Dreyer)
- doc: draft notes for jewel ([pr#8211](http://github.com/ceph/ceph/pull/8211), Loic Dachary, Sage Weil)
- doc: file must be empty when writing layout fields of file use “setfattr” ([pr#6848](http://github.com/ceph/ceph/pull/6848), Cilang Zhao)
- doc: fix 0.94.4 and 0.94.5 ordering ([pr#7763](http://github.com/ceph/ceph/pull/7763), Loic Dachary)
- doc: fix dependencies ([pr#8587](http://github.com/ceph/ceph/pull/8587), Etienne Menguy)
- doc: Fixed incorrect name of a “List Multipart Upload Parts” Response Entity ([issue#14003](http://tracker.ceph.com/issues/14003), [pr#6829](http://github.com/ceph/ceph/pull/6829), Lenz Grimmer)
- doc: Fixes a CRUSH map step take argument ([pr#7327](http://github.com/ceph/ceph/pull/7327), Ivan Grcic)
- doc: Fixes a spelling error ([pr#6705](http://github.com/ceph/ceph/pull/6705), Jeremy Qian)
- doc: Fixes headline different font size and type ([pr#8328](http://github.com/ceph/ceph/pull/8328), scienceluo)
- doc: fixing image in section ERASURE CODING ([pr#7298](http://github.com/ceph/ceph/pull/7298), Rachana Patel)
- doc: fix misleading configuration guide on cache tiering ([pr#7000](http://github.com/ceph/ceph/pull/7000), Yuan Zhou)
- doc: fix “mon osd down out subtree limit” option name ([pr#7164](http://github.com/ceph/ceph/pull/7164), François Lafont)
- doc: fix outdated content in cache tier ([pr#6272](http://github.com/ceph/ceph/pull/6272), Yuan Zhou)
- doc: fix S3 C# example ([pr#7027](http://github.com/ceph/ceph/pull/7027), Dunrong Huang)
- doc: fix typo, duplicated content etc. for Jewel release notes ([pr#8342](http://github.com/ceph/ceph/pull/8342), xie xingguo)
- doc: fix typo in cephfs/quota ([pr#6745](http://github.com/ceph/ceph/pull/6745), Drunkard Zhang)
- doc: fix typo, indention etc. ([pr#7829](http://github.com/ceph/ceph/pull/7829), xie xingguo)
- doc: fix typo in developer guide ([pr#6943](http://github.com/ceph/ceph/pull/6943), Nathan Cutler)
- doc: fix typo ([pr#7004](http://github.com/ceph/ceph/pull/7004), tianqing)
- doc: fix wrong type of hyphen ([pr#8252](http://github.com/ceph/ceph/pull/8252), xie xingguo)
- doc: initial draft of RBD mirroring admin documentation ([issue#15041](http://tracker.ceph.com/issues/15041), [pr#8169](http://github.com/ceph/ceph/pull/8169), Jason Dillaman)
- doc: INSTALL redirect to online documentation ([pr#6749](http://github.com/ceph/ceph/pull/6749), Loic Dachary)
- doc: little improvements for troubleshooting scrub issues ([pr#6827](http://github.com/ceph/ceph/pull/6827), Mykola Golub)
- doc: Modified a note section in rbd-snapshot doc. ([pr#6908](http://github.com/ceph/ceph/pull/6908), Nilamdyuti Goswami)
- doc: note that cephfs auth stuff is new in jewel ([pr#6858](http://github.com/ceph/ceph/pull/6858), John Spray)
- doc: osd-config Add Configuration Options for op queue. ([pr#7837](http://github.com/ceph/ceph/pull/7837), Robert LeBlanc)
- doc: osd: s/schedued/scheduled/ ([pr#6872](http://github.com/ceph/ceph/pull/6872), Loic Dachary)
- doc/rados/api/librados-intro.rst: fix typo ([pr#7879](http://github.com/ceph/ceph/pull/7879), xie xingguo)
- doc/rados/operations/crush: fix the formatting ([pr#8306](http://github.com/ceph/ceph/pull/8306), Kefu Chai)
- doc: recommend against ext4 ([pr#8556](http://github.com/ceph/ceph/pull/8556), Sage Weil)
- doc: reinstate accidentally removed section header ([pr#8569](http://github.com/ceph/ceph/pull/8569), Josh Durgin)
- doc: release-notes: draft v0.80.11 release notes ([pr#6374](http://github.com/ceph/ceph/pull/6374), Loic Dachary)
- doc: release-notes: draft v10.0.0 release notes ([pr#6666](http://github.com/ceph/ceph/pull/6666), Loic Dachary)
- doc/release-notes: fix indents ([pr#8345](http://github.com/ceph/ceph/pull/8345), Kefu Chai)
- doc/release-notes: jewel updates ([pr#8590](http://github.com/ceph/ceph/pull/8590), Nathan Cutler, Sage Weil)
- doc/release-notes: v9.1.0 ([pr#6281](http://github.com/ceph/ceph/pull/6281), Loic Dachary)
- doc/releases-notes: fix build error ([pr#6483](http://github.com/ceph/ceph/pull/6483), Kefu Chai)
- doc: Remove Ceph Monitors do lots of fsync() ([issue#15288](http://tracker.ceph.com/issues/15288), [pr#8327](http://github.com/ceph/ceph/pull/8327), Vikhyat Umrao)
- doc: remove redundant space in ceph-authtool/monmaptool doc ([pr#7244](http://github.com/ceph/ceph/pull/7244), Jiaying Ren)
- doc: remove toctree items under Create CephFS ([pr#6241](http://github.com/ceph/ceph/pull/6241), Jevon Qiao)
- doc: remove unnecessary period in headline ([pr#6775](http://github.com/ceph/ceph/pull/6775), Marc Koderer)
- doc: rename the “Create a Ceph User” section and add verbage about… ([issue#13502](http://tracker.ceph.com/issues/13502), [pr#6297](http://github.com/ceph/ceph/pull/6297), ritz303)
- doc: revise SubmittingPatches ([pr#7292](http://github.com/ceph/ceph/pull/7292), Kefu Chai)
- doc: rgw adding a very basic multisite doc ([issue#15247](http://tracker.ceph.com/issues/15247), [pr#8281](http://github.com/ceph/ceph/pull/8281), Abhishek Lekshmanan)
- doc: rgw admin uses “region list” not “regions list” ([pr#8517](http://github.com/ceph/ceph/pull/8517), Kris Jurka)
- doc: rgw explain keystone’s verify ssl switch ([pr#7862](http://github.com/ceph/ceph/pull/7862), Abhishek Lekshmanan)
- doc: rgw multisite, add pools section & minor cosmetic improvements ([pr#8653](http://github.com/ceph/ceph/pull/8653), Abhishek Lekshmanan)
- doc: rgw: port changes from downstream to upstream ([pr#7264](http://github.com/ceph/ceph/pull/7264), Bara Ancincova)
- doc: rgw\_region\_root\_pool option should be in \[global\] ([issue#15244](http://tracker.ceph.com/issues/15244), [pr#8271](http://github.com/ceph/ceph/pull/8271), Vikhyat Umrao)
- doc: rst style fix for pools document ([pr#6816](http://github.com/ceph/ceph/pull/6816), Drunkard Zhang)
- doc: script and guidelines for mirroring Ceph ([pr#7384](http://github.com/ceph/ceph/pull/7384), Wido den Hollander)
- docs: Fix styling of newly added mirror docs ([pr#6127](http://github.com/ceph/ceph/pull/6127), Wido den Hollander)
- doc: small fixes ([pr#7813](http://github.com/ceph/ceph/pull/7813), xiexingguo)
- doc: standardize @param (not @parma, @parmam, @params) ([pr#7714](http://github.com/ceph/ceph/pull/7714), Nathan Cutler)
- doc: SubmittingPatches: there is no next; only jewel ([pr#6811](http://github.com/ceph/ceph/pull/6811), Nathan Cutler)
- doc, tests: update all [http://ceph.com/](http://ceph.com/) to download.ceph.com ([pr#6435](http://github.com/ceph/ceph/pull/6435), Alfredo Deza)
- doc: Update ceph-disk manual page with new feature deactivate/destroy. ([pr#6637](http://github.com/ceph/ceph/pull/6637), Vicente Cheng)
- doc: Updated CloudStack RBD documentation ([pr#8308](http://github.com/ceph/ceph/pull/8308), Wido den Hollander)
- doc: update doc for with new pool settings ([pr#5951](http://github.com/ceph/ceph/pull/5951), Guang Yang)
- doc: Updated the rados command man page to include the –run-name opt… ([issue#12899](http://tracker.ceph.com/issues/12899), [pr#5900](http://github.com/ceph/ceph/pull/5900), ritz303)
- doc: update infernalis release notes ([pr#6575](http://github.com/ceph/ceph/pull/6575), vasukulkarni)
- doc: Update list of admin/build-doc dependencies ([issue#14070](http://tracker.ceph.com/issues/14070), [pr#6934](http://github.com/ceph/ceph/pull/6934), Nathan Cutler)
- doc: update radosgw-admin example ([pr#6256](http://github.com/ceph/ceph/pull/6256), YankunLi)
- doc: update the OS recommendations for newer Ceph releases ([pr#6355](http://github.com/ceph/ceph/pull/6355), ritz303)
- doc: use ‘ceph auth get-or-create’ for creating RGW keyring ([pr#6930](http://github.com/ceph/ceph/pull/6930), Wido den Hollander)
- doc: very basic doc on mstart ([pr#8207](http://github.com/ceph/ceph/pull/8207), Abhishek Lekshmanan)
- drop envz.h includes ([pr#6285](http://github.com/ceph/ceph/pull/6285), John Coyle)
- fix FTBFS introduced by d0af316 ([pr#7792](http://github.com/ceph/ceph/pull/7792), Kefu Chai)
- fix: use right init\_flags to finish CephContext ([pr#6549](http://github.com/ceph/ceph/pull/6549), Yunchuan Wen)
- fs: be more careful about the “mds setmap” command to prevent breakage ([issue#14380](http://tracker.ceph.com/issues/14380), [pr#7262](http://github.com/ceph/ceph/pull/7262), Yan, Zheng)
- ghobject\_t: use # instead of ! as a separator ([pr#8055](http://github.com/ceph/ceph/pull/8055), Sage Weil)
- global: do not start two daemons with a single pid-file ([issue#13422](http://tracker.ceph.com/issues/13422), [pr#7075](http://github.com/ceph/ceph/pull/7075), shun song)
- global: do not start two daemons with a single pid-file (part 2) ([issue#13422](http://tracker.ceph.com/issues/13422), [pr#7463](http://github.com/ceph/ceph/pull/7463), Loic Dachary)
- global/global\_init: expand metavariables in setuser\_match\_path ([issue#15365](http://tracker.ceph.com/issues/15365), [pr#8433](http://github.com/ceph/ceph/pull/8433), Sage Weil)
- global/signal\_handler: print thread name in signal handler ([pr#8177](http://github.com/ceph/ceph/pull/8177), Jianpeng Ma)
- helgrind: additional race conditionslibrbd: journal replay should honor inter-event dependencies ([pr#7274](http://github.com/ceph/ceph/pull/7274), Jason Dillaman)
- helgrind: fix real (and imaginary) race conditions ([issue#14163](http://tracker.ceph.com/issues/14163), [pr#7208](http://github.com/ceph/ceph/pull/7208), Jason Dillaman)
- include/encoding: do not try to be clever with list encoding ([pr#7913](http://github.com/ceph/ceph/pull/7913), Sage Weil)
- init-ceph: do umount when the path exists. ([pr#6866](http://github.com/ceph/ceph/pull/6866), Xiaoxi Chen)
- init-ceph.in: allow case-insensitive true in [osd crush update on start’ (\`pr#7943](http://github.com/ceph/ceph/pull/7943), Eric Cook)
- init-ceph.in: skip ceph-disk if it is not present ([issue#10587](http://tracker.ceph.com/issues/10587), [pr#7286](http://github.com/ceph/ceph/pull/7286), Ken Dreyer)
- init-ceph: use getopt to make option processing more flexible ([issue#3015](http://tracker.ceph.com/issues/3015), [pr#6089](http://github.com/ceph/ceph/pull/6089), Nathan Cutler)
- journal: async methods to (un)register and update client ([pr#7832](http://github.com/ceph/ceph/pull/7832), Mykola Golub)
- journal: disconnect watch after watch error ([issue#14168](http://tracker.ceph.com/issues/14168), [pr#7113](http://github.com/ceph/ceph/pull/7113), Jason Dillaman)
- journal: fire replay complete event after reading last object ([issue#13924](http://tracker.ceph.com/issues/13924), [pr#6762](http://github.com/ceph/ceph/pull/6762), Jason Dillaman)
- journal: fix final result for JournalTrimmer::C\_RemoveSet ([pr#8516](http://github.com/ceph/ceph/pull/8516), runsisi)
- journal: fix race condition between Future and journal shutdown ([issue#15364](http://tracker.ceph.com/issues/15364), [pr#8477](http://github.com/ceph/ceph/pull/8477), Jason Dillaman)
- journal: flush commit position on metadata shutdown ([pr#7385](http://github.com/ceph/ceph/pull/7385), Mykola Golub)
- journal: improve commit position tracking ([pr#7776](http://github.com/ceph/ceph/pull/7776), Jason Dillaman)
- journal: incremental improvements and fixes ([pr#6552](http://github.com/ceph/ceph/pull/6552), Mykola Golub)
- journal: possible race condition during live replay ([issue#15352](http://tracker.ceph.com/issues/15352), [pr#8494](http://github.com/ceph/ceph/pull/8494), Jason Dillaman)
- journal: prevent race injecting new records into overflowed object ([issue#15202](http://tracker.ceph.com/issues/15202), [pr#8220](http://github.com/ceph/ceph/pull/8220), Jason Dillaman)
- journal: reset commit\_position\_task\_ctx pointer after task complete ([pr#7480](http://github.com/ceph/ceph/pull/7480), Mykola Golub)
- journal: re-use common threads between journalers ([pr#7906](http://github.com/ceph/ceph/pull/7906), Jason Dillaman)
- journal: support replaying beyond skipped splay objects ([pr#6687](http://github.com/ceph/ceph/pull/6687), Jason Dillaman)
- krbd: remove deprecated –quiet param from udevadm ([issue#13560](http://tracker.ceph.com/issues/13560), [pr#6394](http://github.com/ceph/ceph/pull/6394), Jason Dillaman)
- kv: fix bug in kv key optimization ([pr#6511](http://github.com/ceph/ceph/pull/6511), Sage Weil)
- kv: implement value\_as\_ptr() and use it in .get() ([pr#7052](http://github.com/ceph/ceph/pull/7052), Piotr Dałek)
- kv/KineticStore: fix broken split\_key ([pr#6574](http://github.com/ceph/ceph/pull/6574), Haomai Wang)
- kv: optimize and clean up internal key/value interface ([pr#6312](http://github.com/ceph/ceph/pull/6312), Piotr Dałek, Sage Weil)
- libcephfs: fix python tests and fix getcwd on missing dir ([pr#7901](http://github.com/ceph/ceph/pull/7901), John Spray)
- libcephfs: Improve portability by replacing loff\_t type usage with off\_t ([pr#6301](http://github.com/ceph/ceph/pull/6301), John Coyle)
- libcephfs: only check file offset on glibc platforms ([pr#6288](http://github.com/ceph/ceph/pull/6288), John Coyle)
- libcephfs: update LIBCEPHFS\_VERSION to indicate the interface was changed ([pr#7551](http://github.com/ceph/ceph/pull/7551), Jevon Qiao)
- librados: add c++ style osd/pg command interface ([pr#6893](http://github.com/ceph/ceph/pull/6893), Yunchuan Wen)
- librados: aix gcc librados port ([pr#6675](http://github.com/ceph/ceph/pull/6675), Rohan Mars)
- librados: avoid malloc(0) (which can return NULL on some platforms) ([issue#13944](http://tracker.ceph.com/issues/13944), [pr#6779](http://github.com/ceph/ceph/pull/6779), Dan Mick)
- librados: cancel aio notification linger op upon completion ([pr#8102](http://github.com/ceph/ceph/pull/8102), Jason Dillaman)
- librados: check connection state in rados\_monitor\_log ([issue#14499](http://tracker.ceph.com/issues/14499), [pr#7350](http://github.com/ceph/ceph/pull/7350), David Disseldorp)
- librados: clean up Objecter.h ([pr#6731](http://github.com/ceph/ceph/pull/6731), Jie Wang)
- librados: detect laggy ops with objecter\_timeout, not osd\_timeout ([pr#7629](http://github.com/ceph/ceph/pull/7629), Greg Farnum)
- librados: do cleanup ([pr#6488](http://github.com/ceph/ceph/pull/6488), xie xingguo)
- librados: do not clear handle for aio\_watch() ([pr#7771](http://github.com/ceph/ceph/pull/7771), xie xingguo)
- librados: fix examples/librados/Makefile error. ([pr#6320](http://github.com/ceph/ceph/pull/6320), You Ji)
- librados: fix pool alignment API overflow issue ([issue#13715](http://tracker.ceph.com/issues/13715), [pr#6489](http://github.com/ceph/ceph/pull/6489), xie xingguo)
- librados: fix potential null pointer access when do pool\_snap\_list ([issue#13639](http://tracker.ceph.com/issues/13639), [pr#6422](http://github.com/ceph/ceph/pull/6422), xie xingguo)
- librados: fix PromoteOn2ndRead test for EC ([pr#6373](http://github.com/ceph/ceph/pull/6373), Sage Weil)
- librados: fix rare race where pool op callback may hang forever ([issue#13642](http://tracker.ceph.com/issues/13642), [pr#6426](http://github.com/ceph/ceph/pull/6426), xie xingguo)
- librados: fix several flaws introduced by the enumeration\_objects API ([issue#14299](http://tracker.ceph.com/issues/14299), [issue#14301](http://tracker.ceph.com/issues/14301), [issue#14300](http://tracker.ceph.com/issues/14300), [pr#7156](http://github.com/ceph/ceph/pull/7156), xie xingguo)
- librados: fix test failure with new aio watch/unwatch API ([pr#7824](http://github.com/ceph/ceph/pull/7824), Jason Dillaman)
- librados: implement async watch/unwatch ([pr#7649](http://github.com/ceph/ceph/pull/7649), Haomai Wang)
- librados: include/rados/librados.h: fix typo ([pr#6741](http://github.com/ceph/ceph/pull/6741), Nathan Cutler)
- librados: init crush\_location from config file. ([issue#13473](http://tracker.ceph.com/issues/13473), [pr#6243](http://github.com/ceph/ceph/pull/6243), Wei Luo)
- librados: mix lock cycle (un)registering asok commands ([pr#7581](http://github.com/ceph/ceph/pull/7581), John Spray)
- librados: move to c++11 concurrency types ([pr#5931](http://github.com/ceph/ceph/pull/5931), Adam C. Emerson)
- librados: new style (sharded) object listing ([pr#6405](http://github.com/ceph/ceph/pull/6405), John Spray, Sage Weil)
- librados: potential null pointer access in list\_(n)objects ([issue#13822](http://tracker.ceph.com/issues/13822), [pr#6639](http://github.com/ceph/ceph/pull/6639), xie xingguo)
- librados: race condition on aio\_notify completion handling ([pr#7864](http://github.com/ceph/ceph/pull/7864), Jason Dillaman)
- librados: remove duplicate definitions for rados pool\_stat\_t and cluster\_stat\_t ([pr#7330](http://github.com/ceph/ceph/pull/7330), Igor Fedotov)
- librados: Revert “rados: Add new field flags for ceph\_osd\_op.copy\_get.” ([pr#8486](http://github.com/ceph/ceph/pull/8486), Sage Weil)
- librados: shutdown finisher in a more graceful way ([pr#7519](http://github.com/ceph/ceph/pull/7519), xie xingguo)
- librados: Solaris port ([pr#6416](http://github.com/ceph/ceph/pull/6416), Rohan Mars)
- librados: stat2 with higher time precision ([pr#7915](http://github.com/ceph/ceph/pull/7915), Yehuda Sadeh, Matt Benjamin)
- librados: Striper: Fix incorrect push\_front -> append\_zero change ([pr#7578](http://github.com/ceph/ceph/pull/7578), Haomai Wang)
- librados\_test\_stub: protect against notify/unwatch race ([pr#7540](http://github.com/ceph/ceph/pull/7540), Jason Dillaman)
- librados: wrongly passed in argument for stat command ([issue#13703](http://tracker.ceph.com/issues/13703), [pr#6476](http://github.com/ceph/ceph/pull/6476), xie xingguo)
- librbd: allocate new journal tag after acquiring exclusive lock ([pr#7884](http://github.com/ceph/ceph/pull/7884), Jason Dillaman)
- librbd: API: async open and close ([issue#14264](http://tracker.ceph.com/issues/14264), [pr#7259](http://github.com/ceph/ceph/pull/7259), Mykola Golub)
- librbd: automatically flush IO after blocking write operations ([issue#13913](http://tracker.ceph.com/issues/13913), [pr#6742](http://github.com/ceph/ceph/pull/6742), Jason Dillaman)
- librbd: Avoid create two threads per image ([pr#7400](http://github.com/ceph/ceph/pull/7400), Haomai Wang)
- librbd: avoid throwing error if mirroring is unsupported ([pr#8417](http://github.com/ceph/ceph/pull/8417), Jason Dillaman)
- librbd: better handling of exclusive lock transition period ([pr#7204](http://github.com/ceph/ceph/pull/7204), Jason Dillaman)
- librbd: block maintenance ops until after journal is ready ([issue#14510](http://tracker.ceph.com/issues/14510), [pr#7382](http://github.com/ceph/ceph/pull/7382), Jason Dillaman)
- librbd: block read requests until journal replayed ([pr#7627](http://github.com/ceph/ceph/pull/7627), Jason Dillaman)
- librbd: check for presence of journal before attempting to remove ([issue#13912](http://tracker.ceph.com/issues/13912), [pr#6737](http://github.com/ceph/ceph/pull/6737), Jason Dillaman)
- librbd: clear error when older OSD doesn’t support image flags ([issue#14122](http://tracker.ceph.com/issues/14122), [pr#7035](http://github.com/ceph/ceph/pull/7035), Jason Dillaman)
- librbd: correct include guard in RenameRequest.h ([pr#7143](http://github.com/ceph/ceph/pull/7143), Jason Dillaman)
- librbd: correct issues discovered during teuthology testing ([issue#14108](http://tracker.ceph.com/issues/14108), [issue#14107](http://tracker.ceph.com/issues/14107), [pr#6974](http://github.com/ceph/ceph/pull/6974), Jason Dillaman)
- librbd: correct issues discovered via valgrind memcheck ([pr#8132](http://github.com/ceph/ceph/pull/8132), Jason Dillaman)
- librbd: correct issues discovered when cache is disabled ([issue#14123](http://tracker.ceph.com/issues/14123), [pr#6979](http://github.com/ceph/ceph/pull/6979), Jason Dillaman)
- librbd: correct race conditions discovered during unit testing ([issue#14060](http://tracker.ceph.com/issues/14060), [pr#6923](http://github.com/ceph/ceph/pull/6923), Jason Dillaman)
- librbd: deadlock while attempting to flush AIO requests ([issue#13726](http://tracker.ceph.com/issues/13726), [pr#6508](http://github.com/ceph/ceph/pull/6508), Jason Dillaman)
- librbd: differentiate journal replay flush vs shut down ([pr#7698](http://github.com/ceph/ceph/pull/7698), Jason Dillaman)
- librbd: disable copy-on-read when not exclusive lock owner ([issue#14167](http://tracker.ceph.com/issues/14167), [pr#7129](http://github.com/ceph/ceph/pull/7129), Jason Dillaman)
- librbd: disable image mirroring when image is removed ([issue#15265](http://tracker.ceph.com/issues/15265), [pr#8375](http://github.com/ceph/ceph/pull/8375), Ricardo Dias)
- librbd: disallow unsafe rbd\_op\_threads values ([issue#15034](http://tracker.ceph.com/issues/15034), [pr#8459](http://github.com/ceph/ceph/pull/8459), Josh Durgin)
- librbd: do not ignore self-managed snapshot release result ([issue#14170](http://tracker.ceph.com/issues/14170), [pr#7043](http://github.com/ceph/ceph/pull/7043), Jason Dillaman)
- librbd: enable/disable image mirroring automatically for pool mode ([issue#15143](http://tracker.ceph.com/issues/15143), [pr#8204](http://github.com/ceph/ceph/pull/8204), Ricardo Dias)
- librbd: ensure copy-on-read requests are complete prior to closing parent image ([pr#6740](http://github.com/ceph/ceph/pull/6740), Jason Dillaman)
- librbd: ensure librados callbacks are flushed prior to destroying ([issue#14092](http://tracker.ceph.com/issues/14092), [pr#7040](http://github.com/ceph/ceph/pull/7040), Jason Dillaman)
- librbd: exit if parent’s snap is gone during clone ([issue#14118](http://tracker.ceph.com/issues/14118), [pr#6968](http://github.com/ceph/ceph/pull/6968), xie xingguo)
- librbd: fix enable objectmap feature issue ([issue#13558](http://tracker.ceph.com/issues/13558), [pr#6339](http://github.com/ceph/ceph/pull/6339), xinxin shu)
- librbd: fix handling of proxied maintenance operations during shut down ([issue#15471](http://tracker.ceph.com/issues/15471), [issue#15456](http://tracker.ceph.com/issues/15456), [pr#8565](http://github.com/ceph/ceph/pull/8565), Jason Dillaman)
- librbd: fix internal handling of dynamic feature updates ([pr#7299](http://github.com/ceph/ceph/pull/7299), Jason Dillaman)
- librbd: fix journal iohint ([pr#6917](http://github.com/ceph/ceph/pull/6917), Jianpeng Ma)
- librbd: fix known test case race condition failures ([issue#13969](http://tracker.ceph.com/issues/13969), [pr#6800](http://github.com/ceph/ceph/pull/6800), Jason Dillaman)
- librbd: fix merge-diff for >2GB diff-files ([issue#14030](http://tracker.ceph.com/issues/14030), [pr#6889](http://github.com/ceph/ceph/pull/6889), Yunchuan Wen)
- librbd: fix potential memory leak ([issue#14332](http://tracker.ceph.com/issues/14332), [issue#14333](http://tracker.ceph.com/issues/14333), [pr#7174](http://github.com/ceph/ceph/pull/7174), xie xingguo)
- librbd: fix snap\_exists API return code overflow ([issue#14129](http://tracker.ceph.com/issues/14129), [pr#6986](http://github.com/ceph/ceph/pull/6986), xie xingguo)
- librbd: fix state machine race conditions during shut down ([pr#7761](http://github.com/ceph/ceph/pull/7761), Jason Dillaman)
- librbd: fix test case race condition for journaling ops ([pr#6877](http://github.com/ceph/ceph/pull/6877), Jason Dillaman)
- librbd: fix tracepoint parameter in diff\_iterate ([pr#6892](http://github.com/ceph/ceph/pull/6892), Yunchuan Wen)
- librbd: flush and invalidate cache via admin socket ([issue#2468](http://tracker.ceph.com/issues/2468), [pr#6453](http://github.com/ceph/ceph/pull/6453), Mykola Golub)
- librbd: handle unregistering the image watcher when disconnected ([pr#8094](http://github.com/ceph/ceph/pull/8094), Jason Dillaman)
- librbd: image refresh code paths converted to async state machines ([pr#6859](http://github.com/ceph/ceph/pull/6859), Jason Dillaman)
- librbd: include missing header for bool type ([pr#6798](http://github.com/ceph/ceph/pull/6798), Mykola Golub)
- librbd: initial collection of state machine unit tests ([pr#6703](http://github.com/ceph/ceph/pull/6703), Jason Dillaman)
- librbd: integrate journaling for maintenance operations ([pr#6625](http://github.com/ceph/ceph/pull/6625), Jason Dillaman)
- librbd: integrate journaling support for IO operations ([pr#6541](http://github.com/ceph/ceph/pull/6541), Jason Dillaman)
- librbd: integrate journal replay with fsx testing ([pr#7583](http://github.com/ceph/ceph/pull/7583), Jason Dillaman)
- librbd: IO deadlock when dynamically enabling/disabling features ([issue#15102](http://tracker.ceph.com/issues/15102), [pr#8511](http://github.com/ceph/ceph/pull/8511), Jason Dillaman)
- librbd: journal framework for tracking exclusive lock transitions ([issue#13298](http://tracker.ceph.com/issues/13298), [pr#7529](http://github.com/ceph/ceph/pull/7529), Jason Dillaman)
- librbd: journaling-related lock dependency cleanup ([pr#6777](http://github.com/ceph/ceph/pull/6777), Jason Dillaman)
- librbd: journal replay needs to support re-executing maintenance ops ([issue#14822](http://tracker.ceph.com/issues/14822), [pr#7785](http://github.com/ceph/ceph/pull/7785), Jason Dillaman)
- librbd: journal replay should honor inter-event dependencies ([pr#7019](http://github.com/ceph/ceph/pull/7019), Jason Dillaman)
- librbd: journal shut down flush race condition ([issue#14434](http://tracker.ceph.com/issues/14434), [pr#7302](http://github.com/ceph/ceph/pull/7302), Jason Dillaman)
- librbd: not necessary to hold owner\_lock while releasing snap id ([issue#13914](http://tracker.ceph.com/issues/13914), [pr#6736](http://github.com/ceph/ceph/pull/6736), Jason Dillaman)
- librbd: only send signal when AIO completions queue empty ([pr#6729](http://github.com/ceph/ceph/pull/6729), Jianpeng Ma)
- librbd: optionally validate new RBD pools for snapshot support ([issue#13633](http://tracker.ceph.com/issues/13633), [pr#6925](http://github.com/ceph/ceph/pull/6925), Jason Dillaman)
- librbd: partial revert of commit 9b0e359 ([issue#13969](http://tracker.ceph.com/issues/13969), [pr#6789](http://github.com/ceph/ceph/pull/6789), Jason Dillaman)
- librbd: perf counters might not be initialized on error ([issue#13740](http://tracker.ceph.com/issues/13740), [pr#6523](http://github.com/ceph/ceph/pull/6523), Jason Dillaman)
- librbd: perf section name: use hyphen to separate components ([issue#13719](http://tracker.ceph.com/issues/13719), [pr#6516](http://github.com/ceph/ceph/pull/6516), Mykola Golub)
- librbd: properly handle replay of snap remove RPC message ([issue#14164](http://tracker.ceph.com/issues/14164), [pr#7042](http://github.com/ceph/ceph/pull/7042), Jason Dillaman)
- librbd: reduce mem copies to user-buffer during read ([pr#7548](http://github.com/ceph/ceph/pull/7548), Jianpeng Ma)
- librbd: reduce verbosity of common error condition logging ([issue#14234](http://tracker.ceph.com/issues/14234), [pr#7114](http://github.com/ceph/ceph/pull/7114), Jason Dillaman)
- librbd: refresh image if required before replaying journal ops ([issue#14908](http://tracker.ceph.com/issues/14908), [pr#7978](http://github.com/ceph/ceph/pull/7978), Jason Dillaman)
- librbd: remove canceled tasks from timer thread ([issue#14476](http://tracker.ceph.com/issues/14476), [pr#7329](http://github.com/ceph/ceph/pull/7329), Douglas Fuller)
- librbd: remove duplicate read\_only test in librbd::async\_flatten ([pr#5856](http://github.com/ceph/ceph/pull/5856), runsisi)
- librbd: remove last synchronous librados calls from open/close state machine ([pr#7839](http://github.com/ceph/ceph/pull/7839), Jason Dillaman)
- librbd: replaying a journal op post-refresh requires locking ([pr#8028](http://github.com/ceph/ceph/pull/8028), Jason Dillaman)
- librbd: resize should only update image size within header ([issue#13674](http://tracker.ceph.com/issues/13674), [pr#6447](http://github.com/ceph/ceph/pull/6447), Jason Dillaman)
- librbd: retrieve image name when opening by id ([pr#7736](http://github.com/ceph/ceph/pull/7736), Mykola Golub)
- librbd: return error if we fail to delete object\_map head object ([issue#14098](http://tracker.ceph.com/issues/14098), [pr#6958](http://github.com/ceph/ceph/pull/6958), xie xingguo)
- librbd: Revert “librbd: use task finisher per CephContext” ([issue#14780](http://tracker.ceph.com/issues/14780), [pr#7667](http://github.com/ceph/ceph/pull/7667), Josh Durgin)
- librbd: send notifications for mirroring status updates ([pr#8355](http://github.com/ceph/ceph/pull/8355), Jason Dillaman)
- librbd: several race conditions discovered under single CPU environment ([pr#7653](http://github.com/ceph/ceph/pull/7653), Jason Dillaman)
- librbd: simplify IO method signatures for 32bit environments ([pr#6700](http://github.com/ceph/ceph/pull/6700), Jason Dillaman)
- librbd: small fixes for error messages and readahead counter ([issue#14127](http://tracker.ceph.com/issues/14127), [pr#6983](http://github.com/ceph/ceph/pull/6983), xie xingguo)
- librbd: start perf counters after id is initialized ([issue#13720](http://tracker.ceph.com/issues/13720), [pr#6494](http://github.com/ceph/ceph/pull/6494), Mykola Golub)
- librbd: support eventfd for AIO completion notifications ([pr#5465](http://github.com/ceph/ceph/pull/5465), Haomai Wang)
- librbd: truncate does not need to mark the object as existing in the object map ([issue#14789](http://tracker.ceph.com/issues/14789), [pr#7772](http://github.com/ceph/ceph/pull/7772), xinxin shu)
- librbd: uninitialized state in snap remove state machine ([pr#6982](http://github.com/ceph/ceph/pull/6982), Jason Dillaman)
- librbd: update of mirror pool mode and mirror peer handling ([pr#7718](http://github.com/ceph/ceph/pull/7718), Jason Dillaman)
- librbd: use async librados notifications ([pr#7668](http://github.com/ceph/ceph/pull/7668), Jason Dillaman)
- log: do not repeat errors to stderr ([issue#14616](http://tracker.ceph.com/issues/14616), [pr#7983](http://github.com/ceph/ceph/pull/7983), Sage Weil)
- log: fix stack overflow when flushing large log lines ([issue#14707](http://tracker.ceph.com/issues/14707), [pr#7599](http://github.com/ceph/ceph/pull/7599), Igor Fedotov)
- log: segv in a portable way ([issue#14856](http://tracker.ceph.com/issues/14856), [pr#7790](http://github.com/ceph/ceph/pull/7790), Kefu Chai)
- log: use delete\[\] ([pr#7904](http://github.com/ceph/ceph/pull/7904), Sage Weil)
- mailmap: Abhishek Lekshmanan affiliation ([pr#8615](http://github.com/ceph/ceph/pull/8615), Abhishek Lekshmanan)
- mailmap: add UMCloud affiliation ([pr#6820](http://github.com/ceph/ceph/pull/6820), Jiaying Ren)
- mailmap for 10.0.4 ([pr#7932](http://github.com/ceph/ceph/pull/7932), Abhishek Lekshmanan)
- mailmap: hange organization for Dongmao Zhang ([pr#7173](http://github.com/ceph/ceph/pull/7173), Dongmao Zhang)
- mailmap: Igor Podoski affiliation ([pr#7219](http://github.com/ceph/ceph/pull/7219), Igor Podoski)
- mailmap: Jewel updates ([pr#6750](http://github.com/ceph/ceph/pull/6750), Abhishek Lekshmanan)
- mailmap: modify member info ([pr#6468](http://github.com/ceph/ceph/pull/6468), Xiaowei Chen)
- mailmap: revise organization ([pr#6519](http://github.com/ceph/ceph/pull/6519), Li Wang)
- mailmap: Ubuntu Kylin name changed to Kylin Cloud ([pr#6532](http://github.com/ceph/ceph/pull/6532), Loic Dachary)
- mailmap: update .organizationmap ([pr#6565](http://github.com/ceph/ceph/pull/6565), chenji-kael)
- mailmap update ([pr#7210](http://github.com/ceph/ceph/pull/7210), M Ranga Swami Reddy)
- mailmap update ([pr#8522](http://github.com/ceph/ceph/pull/8522), M Ranga Swami Reddy)
- mailmap update ([pr#8608](http://github.com/ceph/ceph/pull/8608), M Ranga Swami Reddy)
- mailmap: updates for infernalis. ([pr#6495](http://github.com/ceph/ceph/pull/6495), Yann Dupont)
- mailmap: updates ([pr#6258](http://github.com/ceph/ceph/pull/6258), M Ranga Swami Reddy)
- mailmap: updates ([pr#6594](http://github.com/ceph/ceph/pull/6594), chenji-kael)
- mailmap updates ([pr#6992](http://github.com/ceph/ceph/pull/6992), Loic Dachary)
- mailmap updates ([pr#7189](http://github.com/ceph/ceph/pull/7189), Loic Dachary)
- mailmap updates ([pr#7528](http://github.com/ceph/ceph/pull/7528), Yann Dupont)
- mailmap updates ([pr#8256](http://github.com/ceph/ceph/pull/8256), Loic Dachary)
- mailmap: Xie Xingguo affiliation ([pr#6409](http://github.com/ceph/ceph/pull/6409), Loic Dachary)
- Makefile-env.am: set a default for CEPH\_BUILD\_VIRTUALENV (part 2) ([pr#8320](http://github.com/ceph/ceph/pull/8320), Loic Dachary)
- makefile: fix rbdmap manpage ([pr#8310](http://github.com/ceph/ceph/pull/8310), Kefu Chai)
- makefile: remove libedit from libclient.la ([pr#7284](http://github.com/ceph/ceph/pull/7284), Kefu Chai)
- makefiles: remove bz2-dev from dependencies ([issue#13981](http://tracker.ceph.com/issues/13981), [pr#6939](http://github.com/ceph/ceph/pull/6939), Piotr Dałek)
- man/8/ceph-disk: fix formatting issue ([pr#8003](http://github.com/ceph/ceph/pull/8003), Sage Weil)
- man/8/ceph-disk: fix formatting issue ([pr#8012](http://github.com/ceph/ceph/pull/8012), Sage Weil)
- man: document listwatchers cmd in “rados” manpage ([pr#7021](http://github.com/ceph/ceph/pull/7021), Kefu Chai)
- mdsa: A few more snapshot fixes, mostly around snapshotted inode/dentry tracking ([pr#7798](http://github.com/ceph/ceph/pull/7798), Yan, Zheng)
- mds: Add cmapv to ESessions default constructor initializer list ([pr#8403](http://github.com/ceph/ceph/pull/8403), John Coyle)
- mds: add ‘p’ flag in auth caps to control setting pool in layout ([pr#6567](http://github.com/ceph/ceph/pull/6567), John Spray)
- mds: advance clientreplay when replying ([issue#14357](http://tracker.ceph.com/issues/14357), [pr#7216](http://github.com/ceph/ceph/pull/7216), John Spray)
- mds: allow client to request caps when opening file ([issue#14360](http://tracker.ceph.com/issues/14360), [pr#7952](http://github.com/ceph/ceph/pull/7952), Yan, Zheng)
- mds: Be more careful about directory fragmentation and scrubbing ([issue#15167](http://tracker.ceph.com/issues/15167), [pr#8180](http://github.com/ceph/ceph/pull/8180), Yan, Zheng)
- mds, client: add namespace to file\_layout\_t (previously ceph\_file\_layout) ([pr#7098](http://github.com/ceph/ceph/pull/7098), Yan, Zheng, Sage Weil)
- mds, client: fix locking around handle\_conf\_change ([issue#14365](http://tracker.ceph.com/issues/14365), [issue#14374](http://tracker.ceph.com/issues/14374), [pr#7312](http://github.com/ceph/ceph/pull/7312), John Spray)
- mds: don’t double-shutdown the timer when suiciding ([issue#14697](http://tracker.ceph.com/issues/14697), [pr#7616](http://github.com/ceph/ceph/pull/7616), Greg Farnum)
- mds: expose state of recovery to status ASOK command ([issue#14146](http://tracker.ceph.com/issues/14146), [pr#7068](http://github.com/ceph/ceph/pull/7068), Yan, Zheng)
- mds: filelock deadlock ([pr#7713](http://github.com/ceph/ceph/pull/7713), Yan, Zheng)
- mds: fix client capabilities during reconnect (client.XXXX isn’t responding to mclientcaps(revoke)) ([issue#11482](http://tracker.ceph.com/issues/11482), [pr#6432](http://github.com/ceph/ceph/pull/6432), Yan, Zheng)
- mds: fix client cap/message replay order on restart ([issue#14254](http://tracker.ceph.com/issues/14254), [issue#13546](http://tracker.ceph.com/issues/13546), [pr#7199](http://github.com/ceph/ceph/pull/7199), Yan, Zheng)
- mds: fix file\_layout\_t legacy encoding snafu ([pr#8455](http://github.com/ceph/ceph/pull/8455), Sage Weil)
- mds: fix fsmap decode ([pr#8063](http://github.com/ceph/ceph/pull/8063), Greg Farnum)
- mds: fix FSMap upgrade with daemons in the map ([pr#8073](http://github.com/ceph/ceph/pull/8073), John Spray, Greg Farnum)
- mds: fix inode\_t::compare() ([issue#15038](http://tracker.ceph.com/issues/15038), [pr#8014](http://github.com/ceph/ceph/pull/8014), Yan, Zheng)
- mds: fix scrub\_path ([pr#6684](http://github.com/ceph/ceph/pull/6684), John Spray)
- mds: fix setvxattr (broken in a536d114) ([issue#14029](http://tracker.ceph.com/issues/14029), [pr#6941](http://github.com/ceph/ceph/pull/6941), John Spray)
- mds: fix standby replay thread creation ([issue#14144](http://tracker.ceph.com/issues/14144), [pr#7132](http://github.com/ceph/ceph/pull/7132), John Spray)
- mds: fix stray purging in ‘stripe\_count > 1’ case ([issue#15050](http://tracker.ceph.com/issues/15050), [pr#8040](http://github.com/ceph/ceph/pull/8040), Yan, Zheng)
- mds: FSmap decode fix ([pr#8604](http://github.com/ceph/ceph/pull/8604), Greg Farnum)
- mds/FSMap: use \_ in key name ([pr#8614](http://github.com/ceph/ceph/pull/8614), Sage Weil)
- mds: function parameter ‘df’ should be passed by reference ([pr#7490](http://github.com/ceph/ceph/pull/7490), Na Xie)
- mds: implement snapshot rename ([pr#5645](http://github.com/ceph/ceph/pull/5645), xinxin shu)
- mds: judgment added to avoid the risk of visiting the NULL pointer ([pr#7358](http://github.com/ceph/ceph/pull/7358), Kongming Wu)
- mds: messages/MOSDOp: cast in assert to eliminate warnings ([issue#13625](http://tracker.ceph.com/issues/13625), [pr#6414](http://github.com/ceph/ceph/pull/6414), David Zafman)
- mds: Minor fixes around data scan in some scenarios ([pr#8115](http://github.com/ceph/ceph/pull/8115), Yan, Zheng)
- mds: Multi-filesystem support ([issue#14952](http://tracker.ceph.com/issues/14952), [pr#6953](http://github.com/ceph/ceph/pull/6953), John Spray, Sage Weil)
- mds: new filtered MDS tell commands for sessions ([pr#6180](http://github.com/ceph/ceph/pull/6180), John Spray)
- mds: properly set STATE\_STRAY/STATE\_ORPHAN for stray dentry/inode ([issue#13777](http://tracker.ceph.com/issues/13777), [pr#6553](http://github.com/ceph/ceph/pull/6553), Yan, Zheng)
- mds: repair the command option “–hot-standby” ([pr#6454](http://github.com/ceph/ceph/pull/6454), Wei Feng)
- mds: ScrubStack and “tag path” command ([pr#5662](http://github.com/ceph/ceph/pull/5662), Yan, Zheng, John Spray, Greg Farnum)
- mds/Session: use projected parent for auth path check ([issue#13364](http://tracker.ceph.com/issues/13364), [pr#6200](http://github.com/ceph/ceph/pull/6200), Sage Weil)
- mds: tear down connections from tell commands ([issue#14048](http://tracker.ceph.com/issues/14048), [pr#6933](http://github.com/ceph/ceph/pull/6933), John Spray)
- mds: we should wait messenger when MDSDaemon suicide ([pr#6996](http://github.com/ceph/ceph/pull/6996), Wei Feng)
- messages/MOSDOp: clear reqid inc for v6 encoding ([issue#15230](http://tracker.ceph.com/issues/15230), [pr#8299](http://github.com/ceph/ceph/pull/8299), Sage Weil)
- mirrors: Change contact e-mail address for se.ceph.com ([pr#8007](http://github.com/ceph/ceph/pull/8007), Wido den Hollander)
- mirrors: Updated scripts and documentation for mirrors ([pr#7847](http://github.com/ceph/ceph/pull/7847), Wido den Hollander)
- misc: use make\_shared while creating shared\_ptr ([pr#7769](http://github.com/ceph/ceph/pull/7769), Somnath Roy)
- mon: add an independent option for max election time ([pr#7245](http://github.com/ceph/ceph/pull/7245), Sangdi Xu)
- mon: add osd blacklist clear ([pr#6945](http://github.com/ceph/ceph/pull/6945), John Spray)
- mon: add RAW USED column to ceph df detail ([pr#7087](http://github.com/ceph/ceph/pull/7087), Ruifeng Yang)
- mon: block ‘ceph osd pg-temp ...’ if pg\_temp update is already pending ([pr#6704](http://github.com/ceph/ceph/pull/6704), Sage Weil)
- mon: cleanup set-quota error msg ([pr#7371](http://github.com/ceph/ceph/pull/7371), Abhishek Lekshmanan)
- monclient: avoid key renew storm on clock skew ([issue#12065](http://tracker.ceph.com/issues/12065), [pr#8258](http://github.com/ceph/ceph/pull/8258), Alexey Sheplyakov)
- mon: compact full epochs also ([issue#14537](http://tracker.ceph.com/issues/14537), [pr#7396](http://github.com/ceph/ceph/pull/7396), Kefu Chai)
- mon: consider pool size when creating pool ([issue#14509](http://tracker.ceph.com/issues/14509), [pr#7359](http://github.com/ceph/ceph/pull/7359), songbaisen)
- mon: consider the pool size when setting pool crush rule ([issue#14495](http://tracker.ceph.com/issues/14495), [pr#7341](http://github.com/ceph/ceph/pull/7341), song baisen)
- mon: degrade a log message to level 2 ([pr#6929](http://github.com/ceph/ceph/pull/6929), Kongming Wu)
- mon: do not send useless pg\_create messages for split pgs ([pr#8247](http://github.com/ceph/ceph/pull/8247), Sage Weil)
- mon: don’t require OSD W for MRemoveSnaps ([issue#13777](http://tracker.ceph.com/issues/13777), [pr#6601](http://github.com/ceph/ceph/pull/6601), John Spray)
- mon: drop useless rank init assignment ([issue#14508](http://tracker.ceph.com/issues/14508), [pr#7321](http://github.com/ceph/ceph/pull/7321), huanwen ren)
- mon: enable ‘mon osd prime pg temp’ by default ([pr#7838](http://github.com/ceph/ceph/pull/7838), Robert LeBlanc)
- mon: fix calculation of %USED ([pr#7881](http://github.com/ceph/ceph/pull/7881), Adam Kupczyk)
- mon: fix ceph df pool available calculation for 0-weighted OSDs ([pr#6660](http://github.com/ceph/ceph/pull/6660), Chengyuan Li)
- mon: fix coding-style on PG related Monitor files ([pr#6881](http://github.com/ceph/ceph/pull/6881), Wido den Hollander)
- mon: fixes related to mondbstore->get() changes ([pr#6564](http://github.com/ceph/ceph/pull/6564), Piotr Dałek)
- mon: fix keyring permissions ([issue#14950](http://tracker.ceph.com/issues/14950), [pr#7880](http://github.com/ceph/ceph/pull/7880), Owen Synge)
- mon: fix locking in preinit error paths ([issue#14473](http://tracker.ceph.com/issues/14473), [pr#7353](http://github.com/ceph/ceph/pull/7353), huanwen ren)
- mon: fix monmap creation stamp ([pr#7459](http://github.com/ceph/ceph/pull/7459), duanweijun)
- mon: fix reuse of osd ids (clear osd info on osd deletion) ([issue#13988](http://tracker.ceph.com/issues/13988), [pr#6900](http://github.com/ceph/ceph/pull/6900), Loic Dachary, Sage Weil)
- mon: fix routed\_request\_tids leak ([pr#6102](http://github.com/ceph/ceph/pull/6102), Ning Yao)
- mon: fix sync of config-key data ([pr#7363](http://github.com/ceph/ceph/pull/7363), Xiaowei Chen)
- mon: fix the can’t change subscribe level bug in monitoring log ([pr#7031](http://github.com/ceph/ceph/pull/7031), Zhiqiang Wang)
- mon: go into ERR state if multiple PGs are stuck inactive ([issue#13923](http://tracker.ceph.com/issues/13923), [pr#7253](http://github.com/ceph/ceph/pull/7253), Wido den Hollander)
- mon: initialize last\_\* timestamps on new pgs to creation time ([issue#14952](http://tracker.ceph.com/issues/14952), [pr#7980](http://github.com/ceph/ceph/pull/7980), Sage Weil)
- mon: initialize recorded election epoch properly even when standalone ([issue#13627](http://tracker.ceph.com/issues/13627), [pr#6407](http://github.com/ceph/ceph/pull/6407), huanwen ren)
- mon: make clock skew checks sane ([issue#14175](http://tracker.ceph.com/issues/14175), [pr#7141](http://github.com/ceph/ceph/pull/7141), Joao Eduardo Luis)
- mon: mark\_down\_pgs in lockstep with pg\_map’s osdmap epoch ([pr#8208](http://github.com/ceph/ceph/pull/8208), Sage Weil)
- mon/MDSMonitor: add confirmation to “ceph mds rmfailed” ([issue#14379](http://tracker.ceph.com/issues/14379), [pr#7248](http://github.com/ceph/ceph/pull/7248), Yan, Zheng)
- mon/MDSMonitor.cc: properly note beacon when health metrics changes ([issue#14684](http://tracker.ceph.com/issues/14684), [pr#7757](http://github.com/ceph/ceph/pull/7757), Yan, Zheng)
- mon: modify a dout level in OSDMonitor.cc ([pr#6928](http://github.com/ceph/ceph/pull/6928), Yongqiang He)
- mon/MonClient: avoid null pointer error when configured incorrectly ([issue#14405](http://tracker.ceph.com/issues/14405), [pr#7276](http://github.com/ceph/ceph/pull/7276), Bo Cai)
- mon/MonClient: fix shutdown race ([issue#13992](http://tracker.ceph.com/issues/13992), [pr#8335](http://github.com/ceph/ceph/pull/8335), Sage Weil)
- mon/monitor: some clean up ([pr#7520](http://github.com/ceph/ceph/pull/7520), huanwen ren)
- mon: MonmapMonitor: don’t expose uncommitted state to client ([pr#6854](http://github.com/ceph/ceph/pull/6854), Joao Eduardo Luis)
- mon/OSDMonitor: osdmap laggy set a maximum limit for interval ([pr#7109](http://github.com/ceph/ceph/pull/7109), Zengran Zhang)
- mon: osd \[test-\]reweight-by-{pg,utilization} command updates ([pr#7890](http://github.com/ceph/ceph/pull/7890), Dan van der Ster, Sage Weil)
- mon: paxos is\_recovering calc error ([pr#7227](http://github.com/ceph/ceph/pull/7227), Weijun Duan)
- mon/PGMap: show rd/wr iops separately in status reports ([pr#7072](http://github.com/ceph/ceph/pull/7072), Cilang Zhao)
- mon: PGMonitor: acting primary diff with cur\_stat, should not set pg to stale ([pr#7083](http://github.com/ceph/ceph/pull/7083), Xiaowei Chen)
- mon/PGMonitor: reliably mark PGs state ([pr#8089](http://github.com/ceph/ceph/pull/8089), Sage Weil)
- mon: PG Monitor should report waiting for backfill ([issue#12744](http://tracker.ceph.com/issues/12744), [pr#7398](http://github.com/ceph/ceph/pull/7398), Abhishek Lekshmanan)
- mon/pgmonitor: use appropriate forced conversions in get\_rule\_avail ([pr#7705](http://github.com/ceph/ceph/pull/7705), huanwen ren)
- mon: reduce CPU and memory manager pressure of pg health check ([pr#7482](http://github.com/ceph/ceph/pull/7482), Piotr Dałek)
- mon: remove ‘mds setmap’ ([issue#15136](http://tracker.ceph.com/issues/15136), [pr#8121](http://github.com/ceph/ceph/pull/8121), Sage Weil)
- mon: remove remove\_legacy\_versions() ([pr#8324](http://github.com/ceph/ceph/pull/8324), Kefu Chai)
- mon: remove unnecessary comment for update\_from\_paxos ([pr#8400](http://github.com/ceph/ceph/pull/8400), Qinghua Jin)
- mon: remove unused variable ([issue#15292](http://tracker.ceph.com/issues/15292), [pr#8337](http://github.com/ceph/ceph/pull/8337), Javier M. Mellid)
- mon: revert MonitorDBStore’s WholeStoreIteratorImpl::get ([issue#13742](http://tracker.ceph.com/issues/13742), [pr#6522](http://github.com/ceph/ceph/pull/6522), Piotr Dałek)
- mon: should not set isvalid = true when cephx\_verify\_authorizer return false ([issue#13525](http://tracker.ceph.com/issues/13525), [pr#6306](http://github.com/ceph/ceph/pull/6306), Ruifeng Yang)
- mon: show the pool quota info on ceph df detail command ([issue#14216](http://tracker.ceph.com/issues/14216), [pr#7094](http://github.com/ceph/ceph/pull/7094), song baisen)
- mon: some cleanup in MonmapMonitor.cc ([pr#7418](http://github.com/ceph/ceph/pull/7418), huanwen ren)
- mon: standardize Ceph removal commands ([pr#7939](http://github.com/ceph/ceph/pull/7939), Dongsheng Yang)
- mon: support min\_down\_reporter by subtree level (default by host) ([pr#6709](http://github.com/ceph/ceph/pull/6709), Xiaoxi Chen)
- mon: unconfuse object count skew message ([pr#7882](http://github.com/ceph/ceph/pull/7882), Piotr Dałek)
- mon: unregister command on shutdown ([pr#7504](http://github.com/ceph/ceph/pull/7504), huanwen ren)
- mon: warn if pg(s) not scrubbed ([issue#13142](http://tracker.ceph.com/issues/13142), [pr#6440](http://github.com/ceph/ceph/pull/6440), Michal Jarzabek)
- mount.ceph: memory leaks ([pr#6905](http://github.com/ceph/ceph/pull/6905), Qiankun Zheng)
- mount.fuse.ceph: better parsing of arguments passed to mount.fuse.ceph by mount command ([issue#14735](http://tracker.ceph.com/issues/14735), [pr#7607](http://github.com/ceph/ceph/pull/7607), Florent Bautista)
- mrun: update path to cmake binaries ([pr#8447](http://github.com/ceph/ceph/pull/8447), Casey Bodley)
- msg: add override to virutal methods ([pr#6977](http://github.com/ceph/ceph/pull/6977), Michal Jarzabek)
- msg: add thread safety for “random” Messenger + fix wrong usage of random functions ([pr#7650](http://github.com/ceph/ceph/pull/7650), Avner BenHanoch)
- msg/async: AsyncConnection: avoid debug log in cleanup\_handler ([pr#7547](http://github.com/ceph/ceph/pull/7547), Haomai Wang)
- msg/async: AsyncConnection: avoid is\_connected require connection’s lock ([issue#15440](http://tracker.ceph.com/issues/15440), [pr#8520](http://github.com/ceph/ceph/pull/8520), Haomai Wang)
- msg/async: AsyncMessenger: fix several bugs ([pr#7831](http://github.com/ceph/ceph/pull/7831), Haomai Wang)
- msg/async: AsyncMessenger: fix valgrind leak ([pr#7725](http://github.com/ceph/ceph/pull/7725), Haomai Wang)
- msg/async: avoid log spam on throttle ([issue#15031](http://tracker.ceph.com/issues/15031), [pr#8263](http://github.com/ceph/ceph/pull/8263), Kefu Chai)
- msg/async: bunch of fixes ([pr#7379](http://github.com/ceph/ceph/pull/7379), Piotr Dałek)
- msg/async: cleanup dead connection and misc things ([pr#7158](http://github.com/ceph/ceph/pull/7158), Haomai Wang)
- msg/async: don’t calculate msg header crc when not needed ([pr#7815](http://github.com/ceph/ceph/pull/7815), Piotr Dałek)
- msg/async: don’t use shared\_ptr to manage EventCallback ([pr#7028](http://github.com/ceph/ceph/pull/7028), Haomai Wang)
- msg/async: Event: fix clock skew problem ([pr#7949](http://github.com/ceph/ceph/pull/7949), Wei Jin)
- msg/async: fix array boundary ([pr#7451](http://github.com/ceph/ceph/pull/7451), Wei Jin)
- msg: async: fix perf counter description and simplify \_send\_keepalive\_or\_ack ([pr#8046](http://github.com/ceph/ceph/pull/8046), xie xingguo)
- msg/async: fix potential race condition ([pr#7453](http://github.com/ceph/ceph/pull/7453), Haomai Wang)
- msg/async: fix send closed local\_connection message problem ([pr#7255](http://github.com/ceph/ceph/pull/7255), Haomai Wang)
- msg/async: let receiver ack message ASAP ([pr#6478](http://github.com/ceph/ceph/pull/6478), Haomai Wang)
- msg/async: reduce extra tcp packet for message ack ([pr#7380](http://github.com/ceph/ceph/pull/7380), Haomai Wang)
- msg/async: remove experiment feature ([pr#7820](http://github.com/ceph/ceph/pull/7820), Haomai Wang)
- msg: async: small cleanups ([pr#7871](http://github.com/ceph/ceph/pull/7871), xie xingguo)
- msg/async: smarter MSG\_MORE ([pr#7625](http://github.com/ceph/ceph/pull/7625), Piotr Dałek)
- msg: async: start over after failing to bind a port in specified range ([issue#14928](http://tracker.ceph.com/issues/14928), [issue#13002](http://tracker.ceph.com/issues/13002), [pr#7852](http://github.com/ceph/ceph/pull/7852), xie xingguo)
- msg/async: support of non-block connect in async messenger ([issue#12802](http://tracker.ceph.com/issues/12802), [pr#5848](http://github.com/ceph/ceph/pull/5848), Jianhui Yuan)
- msg/async: \_try\_send trim already sent for outcoming\_bl more efficient ([pr#7970](http://github.com/ceph/ceph/pull/7970), Yan Jun)
- msg/async: will crash if enabling async msg because of an assertion ([pr#6640](http://github.com/ceph/ceph/pull/6640), Zhi Zhang)
- msg: filter out lo addr when bind osd addr ([pr#7012](http://github.com/ceph/ceph/pull/7012), Ji Chen)
- msg: removed unneeded includes from Dispatcher ([pr#6814](http://github.com/ceph/ceph/pull/6814), Michal Jarzabek)
- msg: remove duplicated code - local\_delivery will now call ‘enqueue’ ([pr#7948](http://github.com/ceph/ceph/pull/7948), Avner BenHanoch)
- msg: remove unneeded inline ([pr#6989](http://github.com/ceph/ceph/pull/6989), Michal Jarzabek)
- msgr: fix large message data content length causing overflow ([pr#6809](http://github.com/ceph/ceph/pull/6809), Jun Huang, Haomai Wang)
- msg: significantly reduce minimal memory usage of connections ([pr#7567](http://github.com/ceph/ceph/pull/7567), Piotr Dałek)
- msg/simple: pipe: memory leak when signature check failed ([pr#7096](http://github.com/ceph/ceph/pull/7096), Ruifeng Yang)
- msg/simple: remove unneeded friend declarations ([pr#6924](http://github.com/ceph/ceph/pull/6924), Michal Jarzabek)
- msg/xio: fix compilation ([pr#7479](http://github.com/ceph/ceph/pull/7479), Roi Dayan)
- msg/xio: fixes ([pr#7603](http://github.com/ceph/ceph/pull/7603), Roi Dayan)
- msg/xio: simple fixes ([pr#8555](http://github.com/ceph/ceph/pull/8555), Avner BenHanoch)
- mstart: start rgw on different ports as well ([pr#8167](http://github.com/ceph/ceph/pull/8167), Abhishek Lekshmanan)
- nfs for rgw (Matt Benjamin, Orit Wasserman) ([pr#7634](http://github.com/ceph/ceph/pull/7634), Yehuda Sadeh, Matt Benjamin)
- objecter: avoid recursive lock of Objecter::rwlock ([pr#7343](http://github.com/ceph/ceph/pull/7343), Yan, Zheng)
- organizationmap: modify org mail info. ([pr#7240](http://github.com/ceph/ceph/pull/7240), Xiaowei Chen)
- os/bluestore: a few fixes ([pr#8193](http://github.com/ceph/ceph/pull/8193), Sage Weil)
- os/bluestore/BlueFS: Before reap ioct, it should wait io complete ([pr#8178](http://github.com/ceph/ceph/pull/8178), Jianpeng Ma)
- os/bluestore/BlueStore: Don’t leak trim overlay data before write. ([pr#7895](http://github.com/ceph/ceph/pull/7895), Jianpeng Ma)
- os/bluestore: ceph-bluefs-tool fixes ([issue#15261](http://tracker.ceph.com/issues/15261), [pr#8292](http://github.com/ceph/ceph/pull/8292), Venky Shankar)
- os/bluestore: clone overlay data ([pr#7860](http://github.com/ceph/ceph/pull/7860), Jianpeng Ma)
- os/bluestore: fix assert ([issue#14436](http://tracker.ceph.com/issues/14436), [pr#7293](http://github.com/ceph/ceph/pull/7293), xie xingguo)
- os/bluestore: fix a typo in SPDK path parsing ([pr#7601](http://github.com/ceph/ceph/pull/7601), Jianjian Huo)
- os/bluestore: fix bluestore\_wal\_transaction\_t encoding test ([pr#7342](http://github.com/ceph/ceph/pull/7342), Kefu Chai)
- os/bluestore: fix bluestore\_wal\_transaction\_t encoding test ([pr#7419](http://github.com/ceph/ceph/pull/7419), Kefu Chai, Brad Hubbard)
- os/bluestore: fix shortened bluefs paths in env mirror case ([pr#8498](http://github.com/ceph/ceph/pull/8498), Sage Weil)
- os/bluestore: insert new onode to the front position of onode LRU ([pr#7492](http://github.com/ceph/ceph/pull/7492), Jianjian Huo)
- os/bluestore/KernelDevice: force block size ([pr#8006](http://github.com/ceph/ceph/pull/8006), Sage Weil)
- os/bluestore: make bluestore\_sync\_transaction = true can work. ([pr#7674](http://github.com/ceph/ceph/pull/7674), Jianpeng Ma)
- os/bluestore/NVMEDevice: make IO thread using dpdk launch ([pr#8160](http://github.com/ceph/ceph/pull/8160), Haomai Wang)
- os/bluestore/NVMEDevice: refactor probe/attach codes and support zero command ([pr#7647](http://github.com/ceph/ceph/pull/7647), Haomai Wang)
- os/bluestore: revamp BlueFS bdev management and add perfcounters ([issue#15376](http://tracker.ceph.com/issues/15376), [pr#8431](http://github.com/ceph/ceph/pull/8431), Sage Weil)
- os/bluestore: small fixes in bluestore StupidAllocator ([pr#8101](http://github.com/ceph/ceph/pull/8101), Jianjian Huo)
- os/bluestore: use intrusive\_ptr for Dir ([pr#7247](http://github.com/ceph/ceph/pull/7247), Igor Fedotov)
- osd: add cache hint when pushing raw clone during recovery ([pr#7069](http://github.com/ceph/ceph/pull/7069), Zhiqiang Wang)
- osd: Add config option osd\_read\_ec\_check\_for\_errors for testing ([pr#5865](http://github.com/ceph/ceph/pull/5865), David Zafman)
- osd: add missing newline to usage message ([pr#7613](http://github.com/ceph/ceph/pull/7613), Willem Jan Withagen)
- osd: add osd op queue latency perfcounter ([pr#5793](http://github.com/ceph/ceph/pull/5793), Haomai Wang)
- osd: add pin/unpin support to cache tier (11066) ([pr#6326](http://github.com/ceph/ceph/pull/6326), Zhiqiang Wang)
- osd: add ‘proxy’ cache mode ([issue#12814](http://tracker.ceph.com/issues/12814), [pr#8210](http://github.com/ceph/ceph/pull/8210), Sage Weil)
- osd: add scrub persist/query API ([issue#13505](http://tracker.ceph.com/issues/13505), [pr#6898](http://github.com/ceph/ceph/pull/6898), Kefu Chai, Samuel Just)
- osd: add the support of per pool scrub priority ([pr#7062](http://github.com/ceph/ceph/pull/7062), Zhiqiang Wang)
- osd: a fix for HeartbeatDispatcher and cleanups ([pr#7550](http://github.com/ceph/ceph/pull/7550), Kefu Chai)
- osd: Allow repair of history.last\_epoch\_started using config ([pr#6793](http://github.com/ceph/ceph/pull/6793), David Zafman)
- osd: auto repair EC pool ([issue#12754](http://tracker.ceph.com/issues/12754), [pr#6196](http://github.com/ceph/ceph/pull/6196), Guang Yang)
- osd: avoid calculating crush mapping for most ops ([pr#6371](http://github.com/ceph/ceph/pull/6371), Sage Weil)
- osd: avoid debug std::string initialization in PG::get/put ([pr#7117](http://github.com/ceph/ceph/pull/7117), Evgeniy Firsov)
- osd: avoid double-check for replaying and can\_checkpoint() in FileStore::\_check\_replay\_guard ([pr#6471](http://github.com/ceph/ceph/pull/6471), Ning Yao)
- osd: avoid duplicate op->mark\_started in ReplicatedBackend ([pr#6689](http://github.com/ceph/ceph/pull/6689), Jacek J. Łakis)
- osd: avoid FORCE updating digest been overwritten by MAYBE when comparing scrub map ([pr#7051](http://github.com/ceph/ceph/pull/7051), Zhiqiang Wang)
- osd: avoid osd\_op\_thread suicide because osd\_scrub\_sleep ([pr#7009](http://github.com/ceph/ceph/pull/7009), Jianpeng Ma)
- osd: bail out of \_committed\_osd\_maps if we are shutting down ([pr#8267](http://github.com/ceph/ceph/pull/8267), Samuel Just)
- osd: blockdevice: avoid implicit cast and add guard ([pr#7460](http://github.com/ceph/ceph/pull/7460), xie xingguo)
- osd: bluefs: fix alignment for odd page sizes ([pr#7900](http://github.com/ceph/ceph/pull/7900), Dan Mick)
- osd: bluestore: add ‘override’ to virtual functions ([pr#7886](http://github.com/ceph/ceph/pull/7886), Michal Jarzabek)
- osd: bluestore: allow \_dump\_onode dynamic accept log level ([pr#7995](http://github.com/ceph/ceph/pull/7995), Jianpeng Ma)
- osd: bluestore/blockdevice: use std::mutex et al ([pr#7568](http://github.com/ceph/ceph/pull/7568), Sage Weil)
- osd: bluestore: bluefs: fix several small bugs ([issue#14344](http://tracker.ceph.com/issues/14344), [issue#14343](http://tracker.ceph.com/issues/14343), [pr#7200](http://github.com/ceph/ceph/pull/7200), xie xingguo)
- osd: bluestore/BlueFS: initialize super block\_size earlier in mkfs ([pr#7535](http://github.com/ceph/ceph/pull/7535), Sage Weil)
- osd: bluestore: don’t include when building without libaio ([issue#14207](http://tracker.ceph.com/issues/14207), [pr#7169](http://github.com/ceph/ceph/pull/7169), Mykola Golub)
- osd: bluestore: fix bluestore onode\_t attr leak ([pr#7125](http://github.com/ceph/ceph/pull/7125), Ning Yao)
- osd: bluestore: fix bluestore\_wal\_transaction\_t encoding test ([pr#7168](http://github.com/ceph/ceph/pull/7168), Kefu Chai)
- osd: bluestore: fix check for write falling within the same extent ([issue#14954](http://tracker.ceph.com/issues/14954), [pr#7892](http://github.com/ceph/ceph/pull/7892), Jianpeng Ma)
- osd: BlueStore: fix fsck and blockdevice read-relevant issue ([pr#7362](http://github.com/ceph/ceph/pull/7362), xie xingguo)
- osd: BlueStore: fix null pointer access ([issue#14561](http://tracker.ceph.com/issues/14561), [pr#7435](http://github.com/ceph/ceph/pull/7435), xie xingguo)
- osd: bluestore: fix several bugs ([issue#14259](http://tracker.ceph.com/issues/14259), [issue#14353](http://tracker.ceph.com/issues/14353), [issue#14260](http://tracker.ceph.com/issues/14260), [issue#14261](http://tracker.ceph.com/issues/14261), [pr#7122](http://github.com/ceph/ceph/pull/7122), xie xingguo)
- osd: bluestore: fix space rebalancing, collection split, buffered reads ([pr#7196](http://github.com/ceph/ceph/pull/7196), Sage Weil)
- osd: bluestore: for overwrite a extent, allocate new extent on min\_alloc\_size write ([pr#7996](http://github.com/ceph/ceph/pull/7996), Jianpeng Ma)
- osd: bluestore: improve fs-type verification and tidy up ([pr#7651](http://github.com/ceph/ceph/pull/7651), xie xingguo)
- osd: bluestore, kstore: fix nid overwritten logic ([issue#14407](http://tracker.ceph.com/issues/14407), [issue#14433](http://tracker.ceph.com/issues/14433), [pr#7283](http://github.com/ceph/ceph/pull/7283), xie xingguo)
- osd: bluestore: misc fixes ([pr#7658](http://github.com/ceph/ceph/pull/7658), Jianpeng Ma)
- osd: bluestore: more fixes ([pr#7130](http://github.com/ceph/ceph/pull/7130), Sage Weil)
- osd: BlueStore/NVMEDevice: fix compiling and fd leak ([pr#7496](http://github.com/ceph/ceph/pull/7496), xie xingguo)
- osd: bluestore: NVMEDevice: fix error handling ([pr#7799](http://github.com/ceph/ceph/pull/7799), xie xingguo)
- osd: bluestore: remove unneeded includes ([pr#7870](http://github.com/ceph/ceph/pull/7870), Michal Jarzabek)
- osd: bluestore: Revert NVMEDevice task cstor and refresh interface changes ([pr#7729](http://github.com/ceph/ceph/pull/7729), Haomai Wang)
- osd: bluestore updates, scrub fixes ([pr#8035](http://github.com/ceph/ceph/pull/8035), Sage Weil)
- osd: bluestore: use btree\_map for allocator ([pr#7269](http://github.com/ceph/ceph/pull/7269), Igor Fedotov, Sage Weil)
- osd: cache tier: add config option for eviction check list size ([pr#6997](http://github.com/ceph/ceph/pull/6997), Yuan Zhou)
- osd: call on\_new\_interval on newly split child PG ([issue#13962](http://tracker.ceph.com/issues/13962), [pr#6778](http://github.com/ceph/ceph/pull/6778), Sage Weil)
- osd: cancel failure reports if we fail to rebind network ([pr#6278](http://github.com/ceph/ceph/pull/6278), Xinze Chi)
- osdc: Fix race condition with tick\_event and shutdown ([issue#14256](http://tracker.ceph.com/issues/14256), [pr#7151](http://github.com/ceph/ceph/pull/7151), Adam C. Emerson)
- osd: change mutex to spinlock to optimize thread context switch. ([pr#6492](http://github.com/ceph/ceph/pull/6492), Xiaowei Chen)
- osd: check do\_shutdown before do\_restart ([pr#6547](http://github.com/ceph/ceph/pull/6547), Xiaoxi Chen)
- osd: check health state before pre\_booting ([issue#14181](http://tracker.ceph.com/issues/14181), [pr#7053](http://github.com/ceph/ceph/pull/7053), Xiaoxi Chen)
- osd: clarify the scrub result report ([pr#6534](http://github.com/ceph/ceph/pull/6534), Li Wang)
- osd/ClassHandler: only dlclose() the classes not missing ([pr#8354](http://github.com/ceph/ceph/pull/8354), Kefu Chai)
- osd: clean up CMPXATTR checks ([pr#5961](http://github.com/ceph/ceph/pull/5961), Jianpeng Ma)
- osd: clean up temp object if copy-from fails ([pr#8487](http://github.com/ceph/ceph/pull/8487), Sage Weil)
- osd: clear pg\_stat\_queue after stopping pgs ([issue#14212](http://tracker.ceph.com/issues/14212), [pr#7091](http://github.com/ceph/ceph/pull/7091), Sage Weil)
- osd: clear requeue\_scrub\_on\_unblock flag after requeue scrub ([pr#8570](http://github.com/ceph/ceph/pull/8570), xie xingguo)
- osdc/Objecter: dout log after assign tid ([pr#8202](http://github.com/ceph/ceph/pull/8202), Xinze Chi)
- osdc/Objecter: fix narrow race with tid assignment ([issue#14364](http://tracker.ceph.com/issues/14364), [pr#7981](http://github.com/ceph/ceph/pull/7981), Sage Weil)
- osdc/Objecter: use full pgid hash in PGNLS ops ([pr#8378](http://github.com/ceph/ceph/pull/8378), Sage Weil)
- osd: consider high/low mode when putting agent to sleep ([issue#14752](http://tracker.ceph.com/issues/14752), [pr#7631](http://github.com/ceph/ceph/pull/7631), Sage Weil)
- osd: correctly handle small osd\_scrub\_interval\_randomize\_ratio ([pr#7147](http://github.com/ceph/ceph/pull/7147), Samuel Just)
- osdc/Striper: reduce assemble\_result log level ([pr#8426](http://github.com/ceph/ceph/pull/8426), Jason Dillaman)
- osd: defer decoding of MOSDRepOp/MOSDRepOpReply ([pr#6503](http://github.com/ceph/ceph/pull/6503), Xinze Chi)
- osd: delay populating in-memory PG log hashmaps ([pr#6425](http://github.com/ceph/ceph/pull/6425), Piotr Dałek)
- osd: disable filestore\_xfs\_extsize by default ([issue#14397](http://tracker.ceph.com/issues/14397), [pr#7265](http://github.com/ceph/ceph/pull/7265), Ken Dreyer)
- osd: do not keep ref of old osdmap in pg ([issue#13990](http://tracker.ceph.com/issues/13990), [pr#7007](http://github.com/ceph/ceph/pull/7007), Kefu Chai)
- osd: don’t do random deep scrubs for user initiated scrubs ([pr#6673](http://github.com/ceph/ceph/pull/6673), David Zafman)
- osd: don’t update epoch and rollback\_info objects attrs if there is no need ([pr#6555](http://github.com/ceph/ceph/pull/6555), Ning Yao)
- osd: drop deprecated removal pg type ([pr#6970](http://github.com/ceph/ceph/pull/6970), Igor Podoski)
- osd: drop fiemap len=0 logic ([pr#7267](http://github.com/ceph/ceph/pull/7267), Sage Weil)
- osd: drop the interim set from load\_pgs() ([pr#6277](http://github.com/ceph/ceph/pull/6277), Piotr Dałek)
- osd: dump number of missing objects for each peer with pg query ([pr#6058](http://github.com/ceph/ceph/pull/6058), Guang Yang)
- osd: duplicated clear for peer\_missing ([pr#8315](http://github.com/ceph/ceph/pull/8315), Ning Yao)
- osd: enable perfcounters on sharded work queue mutexes ([pr#6455](http://github.com/ceph/ceph/pull/6455), Jacek J. Łakis)
- osd: ensure new osdmaps commit before publishing them to pgs ([issue#15073](http://tracker.ceph.com/issues/15073), [pr#8096](http://github.com/ceph/ceph/pull/8096), Sage Weil)
- osd: FileJournal: \_fdump wrongly returns if journal is currently unreadable. ([issue#13626](http://tracker.ceph.com/issues/13626), [pr#6406](http://github.com/ceph/ceph/pull/6406), xie xingguo)
- osd: FileJournal: fix return code of create method ([issue#14134](http://tracker.ceph.com/issues/14134), [pr#6988](http://github.com/ceph/ceph/pull/6988), xie xingguo)
- osd: FileJournal: reduce locking scope in write\_aio\_bl ([issue#12789](http://tracker.ceph.com/issues/12789), [pr#5670](http://github.com/ceph/ceph/pull/5670), Zhi Zhang)
- osd: filejournal: report journal entry count ([pr#7643](http://github.com/ceph/ceph/pull/7643), tianqing)
- osd: FileJournal: support batch peak and pop from writeq ([pr#6701](http://github.com/ceph/ceph/pull/6701), Xinze Chi)
- osd: FileStore: add a field indicate xattr only one chunk for set xattr. ([pr#6244](http://github.com/ceph/ceph/pull/6244), Jianpeng Ma)
- osd: FileStore: Added O\_DSYNC write scheme ([pr#7752](http://github.com/ceph/ceph/pull/7752), Somnath Roy)
- osd: FileStore: add error check for object\_map->sync() ([pr#7281](http://github.com/ceph/ceph/pull/7281), Chendi Xue)
- osd: FileStore: cleanup: remove obsolete option “filestore\_xattr\_use\_omap” ([issue#14356](http://tracker.ceph.com/issues/14356), [pr#7217](http://github.com/ceph/ceph/pull/7217), Vikhyat Umrao)
- osd: FileStore: conditional collection of drive metadata ([pr#6956](http://github.com/ceph/ceph/pull/6956), Somnath Roy)
- osd: filestore: FALLOC\_FL\_PUNCH\_HOLE must be used with FALLOC\_FL\_KEEP\_SIZE ([pr#7768](http://github.com/ceph/ceph/pull/7768), xinxin shu)
- osd: filestore: fast abort if statfs encounters ENOENT ([pr#7703](http://github.com/ceph/ceph/pull/7703), xie xingguo)
- osd: FileStore: fix initialization order for m\_disable\_wbthrottle ([pr#8067](http://github.com/ceph/ceph/pull/8067), Samuel Just)
- osd: filestore: fix race condition with split vs collection\_move\_rename and long object names ([issue#14766](http://tracker.ceph.com/issues/14766), [pr#8136](http://github.com/ceph/ceph/pull/8136), Samuel Just)
- osd: filestore: fix result code overwritten for clone ([issue#14817](http://tracker.ceph.com/issues/14817), [issue#14827](http://tracker.ceph.com/issues/14827), [pr#7711](http://github.com/ceph/ceph/pull/7711), xie xingguo)
- osd: filestore: fix wrong scope of result code for error cases during mkfs ([issue#14814](http://tracker.ceph.com/issues/14814), [pr#7704](http://github.com/ceph/ceph/pull/7704), xie xingguo)
- osd: filestore: fix wrong scope of result code for error cases during mount ([issue#14815](http://tracker.ceph.com/issues/14815), [pr#7707](http://github.com/ceph/ceph/pull/7707), xie xingguo)
- osd: FileStore: LFNIndex: remove redundant local variable ‘obj’. ([issue#13552](http://tracker.ceph.com/issues/13552), [pr#6333](http://github.com/ceph/ceph/pull/6333), xiexingguo)
- osd: FileStore: modify the format of colon ([pr#7333](http://github.com/ceph/ceph/pull/7333), Donghai Xu)
- osd: FileStore:: optimize lfn\_unlink ([pr#6649](http://github.com/ceph/ceph/pull/6649), Jianpeng Ma)
- osd: FileStore: potential memory leak if \_fgetattrs fails ([issue#13597](http://tracker.ceph.com/issues/13597), [pr#6377](http://github.com/ceph/ceph/pull/6377), xie xingguo)
- osd: FileStore: print file name before osd assert if read file failed ([pr#7111](http://github.com/ceph/ceph/pull/7111), Ji Chen)
- osd: FileStore: remove \_\_SWORD\_TYPE dependency ([pr#6263](http://github.com/ceph/ceph/pull/6263), John Coyle)
- osd: FileStore: remove unused local variable ‘handle’ ([pr#6381](http://github.com/ceph/ceph/pull/6381), xie xingguo)
- osd: filestore: restructure journal and op queue throttling ([pr#7767](http://github.com/ceph/ceph/pull/7767), Samuel Just)
- osd: FileStore: support multiple ondisk finish and apply finishers ([pr#6486](http://github.com/ceph/ceph/pull/6486), Xinze Chi, Haomai Wang)
- osd: FileStore: use pwritev instead of lseek+writev ([pr#7349](http://github.com/ceph/ceph/pull/7349), Haomai Wang, Tao Chang)
- osd: fix bogus scrub results when missing a clone ([issue#12738](http://tracker.ceph.com/issues/12738), [issue#12740](http://tracker.ceph.com/issues/12740), [pr#5783](http://github.com/ceph/ceph/pull/5783), David Zafman)
- osd: fix broken balance / localized read handling ([issue#13491](http://tracker.ceph.com/issues/13491), [pr#6364](http://github.com/ceph/ceph/pull/6364), Jason Dillaman)
- osd: fix bug in last\_\* PG state timestamps ([pr#6517](http://github.com/ceph/ceph/pull/6517), Li Wang)
- osd: fix bugs for omap ops ([pr#8230](http://github.com/ceph/ceph/pull/8230), Jianpeng Ma)
- osd: fix ClassHandler::ClassData::get\_filter() ([pr#6747](http://github.com/ceph/ceph/pull/6747), Yan, Zheng)
- osd: fix/clean up full map request handling ([pr#8446](http://github.com/ceph/ceph/pull/8446), Sage Weil)
- osd: fix debug message in OSD::is\_healthy ([pr#6226](http://github.com/ceph/ceph/pull/6226), Xiaoxi Chen)
- osd: fix dirtying info without correctly setting drity\_info field ([pr#8275](http://github.com/ceph/ceph/pull/8275), xie xingguo)
- osd: fix dump\_ops\_in\_flight races ([issue#8885](http://tracker.ceph.com/issues/8885), [pr#8044](http://github.com/ceph/ceph/pull/8044), David Zafman)
- osd: fix epoch check in handle\_pg\_create ([pr#8382](http://github.com/ceph/ceph/pull/8382), Samuel Just)
- osd: fixes for several cases where op result code was not checked or set ([issue#13566](http://tracker.ceph.com/issues/13566), [pr#6347](http://github.com/ceph/ceph/pull/6347), xie xingguo)
- osd: fix failure report handling during ms\_handle\_connect() ([pr#8348](http://github.com/ceph/ceph/pull/8348), xie xingguo)
- osd: fix FileStore::\_destroy\_collection error return code ([pr#6612](http://github.com/ceph/ceph/pull/6612), Ruifeng Yang)
- osd: fix forced prmootion for CALL ops ([issue#14745](http://tracker.ceph.com/issues/14745), [pr#7617](http://github.com/ceph/ceph/pull/7617), Sage Weil)
- osd: fix fusestore hanging during stop/quit ([issue#14786](http://tracker.ceph.com/issues/14786), [pr#7677](http://github.com/ceph/ceph/pull/7677), xie xingguo)
- osd: fix inaccurate counter and skip over queueing an empty transaction ([pr#7754](http://github.com/ceph/ceph/pull/7754), xie xingguo)
- osd: fix incorrect throttle in WBThrottle ([pr#6713](http://github.com/ceph/ceph/pull/6713), Zhang Huan)
- osd: fix invalid list traversal in process\_copy\_chunk ([pr#7511](http://github.com/ceph/ceph/pull/7511), Samuel Just)
- osd: fix lack of object unblock when flush fails ([issue#14511](http://tracker.ceph.com/issues/14511), [pr#7584](http://github.com/ceph/ceph/pull/7584), Igor Fedotov)
- osd: fix log info ([pr#8273](http://github.com/ceph/ceph/pull/8273), Wei Jin)
- osd: fix MOSDOp encoding ([pr#6174](http://github.com/ceph/ceph/pull/6174), Sage Weil)
- osd: fix MOSDRepScrub reference counter in replica\_scrub ([pr#6730](http://github.com/ceph/ceph/pull/6730), Jie Wang)
- osd: fix null pointer access and race condition ([issue#14072](http://tracker.ceph.com/issues/14072), [pr#6916](http://github.com/ceph/ceph/pull/6916), xie xingguo)
- osd: fix overload of ‘==’ operator for pg\_stat\_t ([issue#14921](http://tracker.ceph.com/issues/14921), [pr#7842](http://github.com/ceph/ceph/pull/7842), xie xingguo)
- osd: fix race condition for heartbeat\_need\_update ([issue#14387](http://tracker.ceph.com/issues/14387), [pr#7739](http://github.com/ceph/ceph/pull/7739), xie xingguo)
- osd: fix reactivate (check OSDSuperblock in mkfs() when we already have the superblock) ([issue#13586](http://tracker.ceph.com/issues/13586), [pr#6385](http://github.com/ceph/ceph/pull/6385), Vicente Cheng)
- osd: fix reference count, rare race condition etc. ([pr#8254](http://github.com/ceph/ceph/pull/8254), xie xingguo)
- osd: fix return value from maybe\_handle\_cache\_detail() ([pr#7593](http://github.com/ceph/ceph/pull/7593), Igor Fedotov)
- osd: fix rollback\_info\_trimmed\_to before index() ([issue#13965](http://tracker.ceph.com/issues/13965), [pr#6801](http://github.com/ceph/ceph/pull/6801), Samuel Just)
- osd: fix scrub start hobject ([pr#7467](http://github.com/ceph/ceph/pull/7467), Sage Weil)
- osd: fix sparse-read result code checking logic ([issue#14151](http://tracker.ceph.com/issues/14151), [pr#7016](http://github.com/ceph/ceph/pull/7016), xie xingguo)
- osd: fix temp object removal after upgrade ([issue#13862](http://tracker.ceph.com/issues/13862), [pr#6976](http://github.com/ceph/ceph/pull/6976), David Zafman)
- osd: fix tick relevant issues ([pr#8369](http://github.com/ceph/ceph/pull/8369), xie xingguo)
- osd: fix trivial scrub bug ([pr#6533](http://github.com/ceph/ceph/pull/6533), Li Wang)
- osd: fix two scrub relevant issues ([pr#8462](http://github.com/ceph/ceph/pull/8462), xie xingguo)
- osd: fix unnecessary object promotion when deleting from cache pool ([issue#13894](http://tracker.ceph.com/issues/13894), [pr#7537](http://github.com/ceph/ceph/pull/7537), Igor Fedotov)
- osd: fix watch reconnect race ([issue#15441](http://tracker.ceph.com/issues/15441), [pr#8586](http://github.com/ceph/ceph/pull/8586), Sage Weil)
- osd: fix wip (l\_osd\_op\_wip) perf counter and remove repop\_map ([pr#7077](http://github.com/ceph/ceph/pull/7077), Xinze Chi)
- osd: fix wrongly placed assert and some cleanups ([pr#6766](http://github.com/ceph/ceph/pull/6766), xiexingguo, xie xingguo)
- osd: fix wrong return type of find\_osd\_on\_ip() ([issue#14872](http://tracker.ceph.com/issues/14872), [pr#7812](http://github.com/ceph/ceph/pull/7812), xie xingguo)
- osd: fix wrong use of right parenthesis in localized read logic ([pr#6566](http://github.com/ceph/ceph/pull/6566), Jie Wang)
- osd: ghobject\_t: use ! instead of @ as a separator ([pr#7595](http://github.com/ceph/ceph/pull/7595), Sage Weil)
- osd: handle dup pg\_create that races with pg deletion ([pr#8033](http://github.com/ceph/ceph/pull/8033), Sage Weil)
- osd: improve temperature calculation for cache tier agent ([pr#4737](http://github.com/ceph/ceph/pull/4737), MingXin Liu)
- osd: initialize last\_recalibrate field at construction ([pr#8071](http://github.com/ceph/ceph/pull/8071), xie xingguo)
- osd: init started to 0 ([issue#13206](http://tracker.ceph.com/issues/13206), [pr#6107](http://github.com/ceph/ceph/pull/6107), Sage Weil)
- osd: KeyValueStore: don’t queue NULL context ([pr#6783](http://github.com/ceph/ceph/pull/6783), Haomai Wang)
- osd: KeyValueStore: fix return code of mkfs ([pr#7036](http://github.com/ceph/ceph/pull/7036), xie xingguo)
- osd: KeyValueStore: fix the name’s typo of keyvaluestore\_default\_strip\_size ([pr#6375](http://github.com/ceph/ceph/pull/6375), Zhi Zhang)
- osd: KeyValueStore: fix wrongly placed assert ([issue#14176](http://tracker.ceph.com/issues/14176), [issue#14178](http://tracker.ceph.com/issues/14178), [pr#7047](http://github.com/ceph/ceph/pull/7047), xie xingguo)
- osd: kstore: fix a race condition in \_txc\_finish() ([pr#7804](http://github.com/ceph/ceph/pull/7804), Jianjian Huo)
- osd: kstore: latency breakdown ([pr#7850](http://github.com/ceph/ceph/pull/7850), James Liu)
- osd: kstore: several small fixes ([issue#14351](http://tracker.ceph.com/issues/14351), [issue#14352](http://tracker.ceph.com/issues/14352), [pr#7213](http://github.com/ceph/ceph/pull/7213), xie xingguo)
- osd: kstore: small fixes to kstore ([issue#14204](http://tracker.ceph.com/issues/14204), [pr#7095](http://github.com/ceph/ceph/pull/7095), xie xingguo)
- osd: kstore: sync up kstore with recent bluestore updates ([pr#7681](http://github.com/ceph/ceph/pull/7681), Jianjian Huo)
- osd: make backend and block device code a bit more generic ([pr#6759](http://github.com/ceph/ceph/pull/6759), Sage Weil)
- osd: make list\_missing query missing\_loc.needs\_recovery\_map ([pr#6298](http://github.com/ceph/ceph/pull/6298), Guang Yang)
- osdmap: remove unused local variables ([pr#6864](http://github.com/ceph/ceph/pull/6864), luo kexue)
- osdmap: rm nonused variable ([pr#8423](http://github.com/ceph/ceph/pull/8423), Wei Jin)
- osd: memstore: fix alignment of Page for test\_pageset ([pr#7587](http://github.com/ceph/ceph/pull/7587), Casey Bodley)
- osd: memstore: fix two bugs ([pr#6963](http://github.com/ceph/ceph/pull/6963), Casey Bodley, Sage Weil)
- osd: merge local\_t and op\_t txn to single one ([pr#6439](http://github.com/ceph/ceph/pull/6439), Xinze Chi)
- osd: min\_write\_recency\_for\_promote & min\_read\_recency\_for\_promote are tiering only ([pr#8081](http://github.com/ceph/ceph/pull/8081), huanwen ren)
- osd: misc FileStore fixes ([issue#14192](http://tracker.ceph.com/issues/14192), [issue#14188](http://tracker.ceph.com/issues/14188), [issue#14194](http://tracker.ceph.com/issues/14194), [issue#14187](http://tracker.ceph.com/issues/14187), [issue#14186](http://tracker.ceph.com/issues/14186), [pr#7059](http://github.com/ceph/ceph/pull/7059), xie xingguo)
- osd: misc optimization for map utilization ([pr#6950](http://github.com/ceph/ceph/pull/6950), Ning Yao)
- osd, mon: fix exit issue ([pr#7420](http://github.com/ceph/ceph/pull/7420), Jiaying Ren)
- osd,mon: log leveldb and rocksdb to ceph log ([pr#6921](http://github.com/ceph/ceph/pull/6921), Sage Weil)
- osd: more fixes for incorrectly dirtying info; resend reply for duplicated scrub-reserve req ([pr#8291](http://github.com/ceph/ceph/pull/8291), xie xingguo)
- osd: move newest decode version of MOSDOp and MOSDOpReply to the front ([pr#6642](http://github.com/ceph/ceph/pull/6642), Jacek J. Łakis)
- osd: new and delete ObjectStore::Transaction in a function is not necessary ([pr#6299](http://github.com/ceph/ceph/pull/6299), Ruifeng Yang)
- osd: newstore: misc updates (including kv and os/fs stuff) ([pr#6609](http://github.com/ceph/ceph/pull/6609), Sage Weil)
- osd: note down the number of missing clones ([pr#6654](http://github.com/ceph/ceph/pull/6654), Kefu Chai)
- osd: Omap small bugs adapted ([pr#6669](http://github.com/ceph/ceph/pull/6669), Jianpeng Ma, David Zafman)
- osd: optimize clone write path if object-map is enabled ([pr#6403](http://github.com/ceph/ceph/pull/6403), xinxin shu)
- osd: optimize get\_object\_context ([pr#6305](http://github.com/ceph/ceph/pull/6305), Jianpeng Ma)
- osd: optimize MOSDOp/do\_op/handle\_op ([pr#5211](http://github.com/ceph/ceph/pull/5211), Jacek J. Lakis)
- osd: optimize scrub subset\_last\_update calculation ([pr#6518](http://github.com/ceph/ceph/pull/6518), Li Wang)
- osd: optimize the session\_handle\_reset function ([issue#14182](http://tracker.ceph.com/issues/14182), [pr#7054](http://github.com/ceph/ceph/pull/7054), songbaisen)
- osd: os/chain\_xattr: On linux use linux/limits.h for XATTR\_NAME\_MAX. ([pr#6343](http://github.com/ceph/ceph/pull/6343), John Coyle)
- osd/OSD.cc: finish full\_map\_request every MOSDMap message. ([issue#15130](http://tracker.ceph.com/issues/15130), [pr#8147](http://github.com/ceph/ceph/pull/8147), Xiaoxi Chen)
- osd/OSD: fix build\_past\_intervals\_parallel ([pr#8215](http://github.com/ceph/ceph/pull/8215), David Zafman)
- osd/OSDMap: fix typo in summarize\_mapping\_stats ([pr#8088](http://github.com/ceph/ceph/pull/8088), Sage Weil)
- osd: OSDMap: reset osd\_primary\_affinity shared\_ptr when deepish\_copy\_from ([issue#14686](http://tracker.ceph.com/issues/14686), [pr#7553](http://github.com/ceph/ceph/pull/7553), Xinze Chi)
- osd: OSDService: Fix typo in osdmap comment ([pr#7275](http://github.com/ceph/ceph/pull/7275), Brad Hubbard)
- osd: os: skip checking pg\_meta object existance in FileStore ([pr#6870](http://github.com/ceph/ceph/pull/6870), Ning Yao)
- osd: partial revert of “ReplicatedPG: result code not correctly set in some cases.” ([issue#13796](http://tracker.ceph.com/issues/13796), [pr#6622](http://github.com/ceph/ceph/pull/6622), Sage Weil)
- osd: PG::activate(): handle unexpected cached\_removed\_snaps more gracefully ([issue#14428](http://tracker.ceph.com/issues/14428), [pr#7309](http://github.com/ceph/ceph/pull/7309), Alexey Sheplyakov)
- osd/PG: indicate in pg query output whether ignore\_history\_les would help ([pr#8156](http://github.com/ceph/ceph/pull/8156), Sage Weil)
- osd: PGLog: clean up read\_log ([pr#7092](http://github.com/ceph/ceph/pull/7092), Jie Wang)
- osd/PGLog: fix warning ([pr#8057](http://github.com/ceph/ceph/pull/8057), Sage Weil)
- osd/PG: pg down state blocked by osd.x, lost osd.x cannot solve peering stuck ([issue#13531](http://tracker.ceph.com/issues/13531), [pr#6317](http://github.com/ceph/ceph/pull/6317), Xiaowei Chen)
- osd: pg\_pool\_t: add dictionary for pool options ([issue#13077](http://tracker.ceph.com/issues/13077), [pr#6081](http://github.com/ceph/ceph/pull/6081), Mykola Golub)
- osd: PG: set epoch\_created and parent\_split\_bits for child pg ([issue#15426](http://tracker.ceph.com/issues/15426), [pr#8552](http://github.com/ceph/ceph/pull/8552), Kefu Chai)
- osd: prevent osd\_recovery\_sleep from causing recovery-thread suicide ([pr#7065](http://github.com/ceph/ceph/pull/7065), Jianpeng Ma)
- osd: probabilistic cache tier promotion throttling ([pr#7465](http://github.com/ceph/ceph/pull/7465), Sage Weil)
- osd: randomize deep scrubbing ([pr#6550](http://github.com/ceph/ceph/pull/6550), Dan van der Ster, Herve Rousseau)
- osd: reduce memory consumption of some structs ([pr#6475](http://github.com/ceph/ceph/pull/6475), Piotr Dałek)
- osd: reduce string use in coll\_t::calc\_str() ([pr#6505](http://github.com/ceph/ceph/pull/6505), Igor Podoski)
- osd: refuse to start if object name limits are not possible ([pr#8560](http://github.com/ceph/ceph/pull/8560), Sage Weil)
- osd: release related sources when scrub is interrupted ([pr#6744](http://github.com/ceph/ceph/pull/6744), Jianpeng Ma)
- osd: release the message throttle when OpRequest unregistered ([issue#14248](http://tracker.ceph.com/issues/14248), [pr#7148](http://github.com/ceph/ceph/pull/7148), Samuel Just)
- osd: remove \_\_SWORD\_TYPE dependency ([pr#6262](http://github.com/ceph/ceph/pull/6262), John Coyle)
- osd: remove unused OSDMap::set\_weightf() ([issue#14369](http://tracker.ceph.com/issues/14369), [pr#7231](http://github.com/ceph/ceph/pull/7231), huanwen ren)
- osd: remove up\_thru\_pending field, which is never used ([pr#7991](http://github.com/ceph/ceph/pull/7991), xie xingguo)
- osd: reorder bool fields in PGLog struct ([pr#6279](http://github.com/ceph/ceph/pull/6279), Piotr Dałek)
- osd: Replace snprintf with faster implementation in eversion\_t::get\_key\_name ([pr#7121](http://github.com/ceph/ceph/pull/7121), Evgeniy Firsov)
- osd/ReplicatedPG: be more careful about calling publish\_stats\_to\_osd() ([issue#14962](http://tracker.ceph.com/issues/14962), [pr#8039](http://github.com/ceph/ceph/pull/8039), Greg Farnum)
- osd: replicatedpg: break out loop if we encounter fatal error during do\_pg\_op() ([issue#14922](http://tracker.ceph.com/issues/14922), [pr#7844](http://github.com/ceph/ceph/pull/7844), xie xingguo)
- osd: ReplicatedPG: clean up unused function ([pr#7211](http://github.com/ceph/ceph/pull/7211), Xiaowei Chen)
- osd/ReplicatedPG: clear watches on change after applying repops ([issue#15151](http://tracker.ceph.com/issues/15151), [pr#8163](http://github.com/ceph/ceph/pull/8163), Sage Weil)
- osd/ReplicatedPG: fix implementation of register\_on\_success() ([pr#8612](http://github.com/ceph/ceph/pull/8612), xie xingguo)
- osd/ReplicatedPG: fix promotion recency logic ([issue#14320](http://tracker.ceph.com/issues/14320), [pr#6702](http://github.com/ceph/ceph/pull/6702), Sage Weil)
- osd/ReplicatedPG: make handle\_watch\_timeout no-op if !active ([issue#15391](http://tracker.ceph.com/issues/15391), [pr#8505](http://github.com/ceph/ceph/pull/8505), Sage Weil)
- osd: ReplicatedPG: remove unused local variables ([issue#13575](http://tracker.ceph.com/issues/13575), [pr#6360](http://github.com/ceph/ceph/pull/6360), xiexingguo)
- osd/ReplicatedPG::\_rollback\_to: update the OMAP flag ([issue#14777](http://tracker.ceph.com/issues/14777), [pr#8495](http://github.com/ceph/ceph/pull/8495), Samuel Just)
- osd: repop and lost-unfound overhaul ([pr#7765](http://github.com/ceph/ceph/pull/7765), Samuel Just)
- osd: reset primary and up\_primary when building a new past\_interval. ([issue#13471](http://tracker.ceph.com/issues/13471), [pr#6240](http://github.com/ceph/ceph/pull/6240), xiexingguo)
- osd: resolve boot vs NOUP set + clear race ([pr#7483](http://github.com/ceph/ceph/pull/7483), Sage Weil)
- osd: scrub: do not assign value if read error ([pr#6568](http://github.com/ceph/ceph/pull/6568), Li Wang)
- osd/ScrubStore: remove unused function ([pr#8045](http://github.com/ceph/ceph/pull/8045), Kefu Chai)
- osd: several small cleanups ([pr#7055](http://github.com/ceph/ceph/pull/7055), xie xingguo)
- osd: shut down if we flap too many times in a short period ([pr#6708](http://github.com/ceph/ceph/pull/6708), Xiaoxi Chen)
- osd: skip promote for writefull w/ FADVISE\_DONTNEED/NOCACHE ([pr#7010](http://github.com/ceph/ceph/pull/7010), Jianpeng Ma)
- osd: slightly reduce actual size of pg\_log\_entry\_t ([pr#6690](http://github.com/ceph/ceph/pull/6690), Piotr Dałek)
- osd: small fixes to memstore ([issue#14228](http://tracker.ceph.com/issues/14228), [issue#14229](http://tracker.ceph.com/issues/14229), [issue#14227](http://tracker.ceph.com/issues/14227), [pr#7107](http://github.com/ceph/ceph/pull/7107), xie xingguo)
- osd: some debug output for old osdmap trimming ([pr#8613](http://github.com/ceph/ceph/pull/8613), Sage Weil)
- osd: support pool level recovery\_priority and recovery\_op\_priority ([pr#5953](http://github.com/ceph/ceph/pull/5953), Guang Yang)
- osd: try evicting after flushing is done ([pr#5630](http://github.com/ceph/ceph/pull/5630), Zhiqiang Wang)
- osd: use atomic to generate ceph\_tid ([pr#7017](http://github.com/ceph/ceph/pull/7017), Evgeniy Firsov)
- osd: use optimized is\_zero in object\_stat\_sum\_t.is\_zero() ([pr#7203](http://github.com/ceph/ceph/pull/7203), Piotr Dałek)
- osd: use pg id (without shard) when referring the PG ([pr#6236](http://github.com/ceph/ceph/pull/6236), Guang Yang)
- osd: utime\_t, eversion\_t, osd\_stat\_sum\_t encoding optimization ([pr#6902](http://github.com/ceph/ceph/pull/6902), Xinze Chi)
- osd: WeightedPriorityQueue: move to intrusive containers ([pr#7654](http://github.com/ceph/ceph/pull/7654), Robert LeBlanc)
- osd: write file journal optimization ([pr#6484](http://github.com/ceph/ceph/pull/6484), Xinze Chi)
- os/filestore/FileJournal: set block size via config option ([pr#7628](http://github.com/ceph/ceph/pull/7628), Sage Weil)
- os/filestore: fix punch hole usage in \_zero ([pr#8050](http://github.com/ceph/ceph/pull/8050), Sage Weil)
- os/filestore: fix result handling logic of destroy\_collection ([pr#7721](http://github.com/ceph/ceph/pull/7721), xie xingguo)
- os/filestore: fix return type mismatch for lfn parse ([pr#8545](http://github.com/ceph/ceph/pull/8545), xie xingguo)
- os/filestore: force lfn attrs to be written atomically, restructure name length limits ([pr#8496](http://github.com/ceph/ceph/pull/8496), Samuel Just)
- os/filestore: require offset == length == 0 for full object read; add test ([pr#7957](http://github.com/ceph/ceph/pull/7957), Jianpeng Ma)
- os/fs: fix io\_getevents argument ([pr#7355](http://github.com/ceph/ceph/pull/7355), Jingkai Yuan)
- os/fusestore: add error handling ([pr#7395](http://github.com/ceph/ceph/pull/7395), xie xingguo)
- os/keyvaluestore: kill KeyValueStore ([pr#7320](http://github.com/ceph/ceph/pull/7320), Haomai Wang)
- os/kstore: insert new onode to the front position of onode LRU ([pr#7505](http://github.com/ceph/ceph/pull/7505), xie xingguo)
- os/ObjectStore: add custom move operations for ObjectStore::Transaction ([pr#7303](http://github.com/ceph/ceph/pull/7303), Casey Bodley)
- os/ObjectStore: add noexcept to ensure move ctor is used ([pr#8421](http://github.com/ceph/ceph/pull/8421), Kefu Chai)
- os/ObjectStore: fix \_update\_op for split dest\_cid ([pr#8364](http://github.com/ceph/ceph/pull/8364), Sage Weil)
- os/ObjectStore: implement more efficient get\_encoded\_bytes() ([pr#7775](http://github.com/ceph/ceph/pull/7775), Piotr Dałek)
- os/ObjectStore: make device uuid probe output something friendly ([pr#8418](http://github.com/ceph/ceph/pull/8418), Sage Weil)
- os/ObjectStore: try\_move\_rename in transaction append and add coverage to store\_test ([issue#15205](http://tracker.ceph.com/issues/15205), [pr#8359](http://github.com/ceph/ceph/pull/8359), Samuel Just)
- packaging: add build dependency on python devel package ([pr#7205](http://github.com/ceph/ceph/pull/7205), Josh Durgin)
- packaging: make infernalis -> jewel upgrade work ([issue#15047](http://tracker.ceph.com/issues/15047), [pr#8034](http://github.com/ceph/ceph/pull/8034), Nathan Cutler)
- packaging: move cephfs repair tools to ceph-common ([issue#15145](http://tracker.ceph.com/issues/15145), [pr#8133](http://github.com/ceph/ceph/pull/8133), Boris Ranto, Ken Dreyer)
- pybind: add ceph\_volume\_client interface for Manila and similar frameworks ([pr#6205](http://github.com/ceph/ceph/pull/6205), John Spray)
- pybind: add flock to libcephfs python bindings ([pr#7902](http://github.com/ceph/ceph/pull/7902), John Spray)
- pybind/cephfs: add symlink and its unit test ([pr#6323](http://github.com/ceph/ceph/pull/6323), Shang Ding)
- pybind: decode empty string in conf\_parse\_argv() correctly ([pr#6711](http://github.com/ceph/ceph/pull/6711), Josh Durgin)
- pybind: Ensure correct python flags are passed ([pr#7663](http://github.com/ceph/ceph/pull/7663), James Page)
- pybind: fix build failure, remove extraneous semicolon in method ([issue#14371](http://tracker.ceph.com/issues/14371), [pr#7235](http://github.com/ceph/ceph/pull/7235), Abhishek Lekshmanan)
- pybind: flag an RBD image as closed regardless of result code ([pr#8005](http://github.com/ceph/ceph/pull/8005), Jason Dillaman)
- pybind: Implementation of rados\_ioctx\_snapshot\_rollback ([pr#6878](http://github.com/ceph/ceph/pull/6878), Florent Manens)
- pybind/Makefile.am: Prevent race creating CYTHON\_BUILD\_DIR ([issue#15276](http://tracker.ceph.com/issues/15276), [pr#8356](http://github.com/ceph/ceph/pull/8356), Dan Mick)
- pybind: move cephfs to Cython ([pr#7745](http://github.com/ceph/ceph/pull/7745), John Spray, Mehdi Abaakouk)
- pybind: port the rbd bindings to Cython ([issue#13115](http://tracker.ceph.com/issues/13115), [pr#6768](http://github.com/ceph/ceph/pull/6768), Hector Martin)
- pybind/rados: fix object lifetime issues and other bugs in aio ([pr#7778](http://github.com/ceph/ceph/pull/7778), Hector Martin)
- pybind/rados: fix omap method return values ([pr#8603](http://github.com/ceph/ceph/pull/8603), Roland Mechler)
- pybind/rados: python3 fix ([pr#8331](http://github.com/ceph/ceph/pull/8331), Mehdi Abaakouk)
- pybind/rados: use \_\_dealloc\_\_ since \_\_del\_\_ is ignored by cython ([pr#7692](http://github.com/ceph/ceph/pull/7692), Mehdi Abaakouk)
- pybind: remove next() on iterators ([pr#7706](http://github.com/ceph/ceph/pull/7706), Mehdi Abaakouk)
- pybind: replace \_\_del\_\_ with \_\_dealloc\_\_ for rbd ([pr#7708](http://github.com/ceph/ceph/pull/7708), Josh Durgin)
- pybind: support ioctx:exec ([pr#6795](http://github.com/ceph/ceph/pull/6795), Noah Watkins)
- pybind/test\_rbd: fix test\_create\_defaults ([issue#14279](http://tracker.ceph.com/issues/14279), [pr#7155](http://github.com/ceph/ceph/pull/7155), Josh Durgin)
- pybind: use correct subdir for rados install-exec rule ([pr#7684](http://github.com/ceph/ceph/pull/7684), Josh Durgin)
- python binding of librados with cython ([pr#7621](http://github.com/ceph/ceph/pull/7621), Mehdi Abaakouk)
- python: use pip instead of python setup.py ([pr#7605](http://github.com/ceph/ceph/pull/7605), Loic Dachary)
- qa: add workunit to run ceph\_test\_rbd\_mirror ([pr#8221](http://github.com/ceph/ceph/pull/8221), Josh Durgin)
- qa: disable rbd/qemu-iotests test case 055 on RHEL/CentOSlibrbd: journal replay should honor inter-event dependencies ([issue#14385](http://tracker.ceph.com/issues/14385), [pr#7272](http://github.com/ceph/ceph/pull/7272), Jason Dillaman)
- qa: erasure-code benchmark plugin selection ([pr#6685](http://github.com/ceph/ceph/pull/6685), Loic Dachary)
- qa/krbd: Expunge generic/247 ([pr#6831](http://github.com/ceph/ceph/pull/6831), Douglas Fuller)
- qa: update rest test cephfs calls ([issue#15309](http://tracker.ceph.com/issues/15309), [pr#8372](http://github.com/ceph/ceph/pull/8372), John Spray)
- qa: update rest test cephfs calls (part 2) ([issue#15309](http://tracker.ceph.com/issues/15309), [pr#8393](http://github.com/ceph/ceph/pull/8393), John Spray)
- qa/workunits/cephtool/test.sh: false positive fail on /tmp/obj1. ([pr#6837](http://github.com/ceph/ceph/pull/6837), Robin H. Johnson)
- qa/workunits/cephtool/test.sh: no ./ ([pr#6748](http://github.com/ceph/ceph/pull/6748), Sage Weil)
- qa/workunits/cephtool/test.sh: wait longer in ceph\_watch\_start() ([issue#14910](http://tracker.ceph.com/issues/14910), [pr#7861](http://github.com/ceph/ceph/pull/7861), Kefu Chai)
- qa/workunits: merge\_diff shouldn’t attempt to use striping ([issue#14165](http://tracker.ceph.com/issues/14165), [pr#7041](http://github.com/ceph/ceph/pull/7041), Jason Dillaman)
- qa/workunits/rados: Test exit values on test.sh, fix tier.cc ([issue#15165](http://tracker.ceph.com/issues/15165), [pr#8266](http://github.com/ceph/ceph/pull/8266), Samuel Just)
- qa/workunits/rados/test.sh: capture stderr too ([pr#8004](http://github.com/ceph/ceph/pull/8004), Sage Weil)
- qa/workunits/rados/test.sh: test tmap\_migrate ([pr#8114](http://github.com/ceph/ceph/pull/8114), Sage Weil)
- qa/workunits/rbd: do not use object map during read flag testing ([pr#8104](http://github.com/ceph/ceph/pull/8104), Jason Dillaman)
- qa/workunits/rbd: new online maintenance op tests ([pr#8216](http://github.com/ceph/ceph/pull/8216), Jason Dillaman)
- qa/workunits/rbd: rbd-nbd test should use sudo for map/unmap ops ([issue#14221](http://tracker.ceph.com/issues/14221), [pr#7101](http://github.com/ceph/ceph/pull/7101), Jason Dillaman)
- qa/workunits/rbd: use POSIX function definition ([issue#15104](http://tracker.ceph.com/issues/15104), [pr#8068](http://github.com/ceph/ceph/pull/8068), Nathan Cutler)
- qa/workunits/rest/test.py: add confirmation to ‘mds setmap’ ([issue#14606](http://tracker.ceph.com/issues/14606), [pr#7982](http://github.com/ceph/ceph/pull/7982), Sage Weil)
- qa/workunits/rest/test.py: don’t use newfs ([pr#8191](http://github.com/ceph/ceph/pull/8191), Sage Weil)
- qa/workunits/snaps: move snap tests into fs sub-directory ([pr#6496](http://github.com/ceph/ceph/pull/6496), Yan, Zheng)
- rados: add ceph:: namespace to bufferlist type ([pr#8059](http://github.com/ceph/ceph/pull/8059), Noah Watkins)
- rados: bench: fix off-by-one to avoid writing past object\_size ([pr#6677](http://github.com/ceph/ceph/pull/6677), Tao Chang)
- rados: fix bug for write bench ([pr#7851](http://github.com/ceph/ceph/pull/7851), James Liu)
- radosgw-admin: allow ‘period pull –url’ without full multisite config ([pr#8567](http://github.com/ceph/ceph/pull/8567), Casey Bodley)
- radosgw-admin: allow ([pr#8529](http://github.com/ceph/ceph/pull/8529), Orit Wasserman)
- radosgw-admin: Checking the legality of the parameters ([issue#13018](http://tracker.ceph.com/issues/13018), [pr#5879](http://github.com/ceph/ceph/pull/5879), Qiankun Zheng)
- radosgw-admin: Create –secret-key alias for –secret ([issue#5821](http://tracker.ceph.com/issues/5821), [pr#5335](http://github.com/ceph/ceph/pull/5335), Yuan Zhou)
- radosgw-admin: fix for ‘realm pull’ ([pr#8404](http://github.com/ceph/ceph/pull/8404), Casey Bodley)
- radosgw-admin: metadata list user should return an empty list when user pool is empty ([issue#13596](http://tracker.ceph.com/issues/13596), [pr#6465](http://github.com/ceph/ceph/pull/6465), Orit Wasserman)
- radosgw-admin: ‘period commit’ supplies user-readable error messages ([pr#8264](http://github.com/ceph/ceph/pull/8264), Casey Bodley)
- rados: implement rm –force option to force remove when full ([pr#6202](http://github.com/ceph/ceph/pull/6202), Xiaowei Chen)
- rados: new options for write benchmark ([pr#6340](http://github.com/ceph/ceph/pull/6340), Joaquim Rocha)
- rbd: accept –user, refuse -i command-line optionals ([pr#6590](http://github.com/ceph/ceph/pull/6590), Ilya Dryomov)
- rbd: additional validation for striping parameters ([pr#6914](http://github.com/ceph/ceph/pull/6914), Na Xie)
- rbd: add missing command aliases to refactored CLI ([issue#13806](http://tracker.ceph.com/issues/13806), [pr#6606](http://github.com/ceph/ceph/pull/6606), Jason Dillaman)
- rbd: add –object-size option, deprecate –order ([issue#12112](http://tracker.ceph.com/issues/12112), [pr#6830](http://github.com/ceph/ceph/pull/6830), Vikhyat Umrao)
- rbd: add pool name to disambiguate rbd admin socket commands ([pr#6904](http://github.com/ceph/ceph/pull/6904), wuxiangwei)
- rbd: add RBD pool mirroring configuration API + CLI ([pr#6129](http://github.com/ceph/ceph/pull/6129), Jason Dillaman)
- rbd: add support for mirror image promotion/demotion/resync ([pr#8138](http://github.com/ceph/ceph/pull/8138), Jason Dillaman)
- rbd: allow librados to prune the command-line for config overrides ([issue#15250](http://tracker.ceph.com/issues/15250), [pr#8282](http://github.com/ceph/ceph/pull/8282), Jason Dillaman)
- rbd: clone operation should default to image format 2 ([pr#8119](http://github.com/ceph/ceph/pull/8119), Jason Dillaman)
- rbd: correct an output string for merge-diff ([pr#7046](http://github.com/ceph/ceph/pull/7046), Kongming Wu)
- rbd: deprecate image format 1 ([pr#7841](http://github.com/ceph/ceph/pull/7841), Jason Dillaman)
- rbd: dynamically generated bash completion ([issue#13494](http://tracker.ceph.com/issues/13494), [pr#6316](http://github.com/ceph/ceph/pull/6316), Jason Dillaman)
- rbd: fix build with “–without-rbd” ([issue#14058](http://tracker.ceph.com/issues/14058), [pr#6899](http://github.com/ceph/ceph/pull/6899), Piotr Dałek)
- rbd: fix clone isssue ([issue#13553](http://tracker.ceph.com/issues/13553), [pr#6334](http://github.com/ceph/ceph/pull/6334), xinxin shu)
- rbd: fixes for refactored CLI and related tests ([pr#6738](http://github.com/ceph/ceph/pull/6738), Ilya Dryomov)
- rbd: fix init-rbdmap CMDPARAMS ([issue#13214](http://tracker.ceph.com/issues/13214), [pr#6109](http://github.com/ceph/ceph/pull/6109), Sage Weil)
- rbd: fix static initialization ordering issues ([pr#6978](http://github.com/ceph/ceph/pull/6978), Mykola Golub)
- rbd-fuse: image name can not include snap name ([pr#7044](http://github.com/ceph/ceph/pull/7044), Yongqiang He)
- rbd-fuse: implement mv operation ([pr#6938](http://github.com/ceph/ceph/pull/6938), wuxiangwei)
- rbd: journal: configuration via conf, cli, api and some fixes ([pr#6665](http://github.com/ceph/ceph/pull/6665), Mykola Golub)
- rbd: journal reset should disable/re-enable journaling feature ([issue#15097](http://tracker.ceph.com/issues/15097), [pr#8490](http://github.com/ceph/ceph/pull/8490), Jason Dillaman)
- rbd: loosen image spec validation requirements ([pr#8606](http://github.com/ceph/ceph/pull/8606), Jason Dillaman)
- rbd: make config changes actually apply ([pr#6520](http://github.com/ceph/ceph/pull/6520), Mykola Golub)
- rbdmap: add manpage ([issue#15212](http://tracker.ceph.com/issues/15212), [pr#8224](http://github.com/ceph/ceph/pull/8224), Nathan Cutler)
- rbdmap: systemd support ([issue#13374](http://tracker.ceph.com/issues/13374), [pr#6479](http://github.com/ceph/ceph/pull/6479), Boris Ranto)
- rbd: merge\_diff test should use new –object-size parameter instead of –order ([issue#14106](http://tracker.ceph.com/issues/14106), [pr#6972](http://github.com/ceph/ceph/pull/6972), Na Xie, Jason Dillaman)
- rbd-mirror: asok commands to get status and flush on Mirror and Replayer level ([pr#8235](http://github.com/ceph/ceph/pull/8235), Mykola Golub)
- rbd-mirror: enabling/disabling pool mirroring should update the mirroring directory ([issue#15217](http://tracker.ceph.com/issues/15217), [pr#8261](http://github.com/ceph/ceph/pull/8261), Ricardo Dias)
- rbd-mirror: fix image replay test failures ([pr#8158](http://github.com/ceph/ceph/pull/8158), Jason Dillaman)
- rbd-mirror: fix long termination due to 30sec wait in main loop ([pr#8185](http://github.com/ceph/ceph/pull/8185), Mykola Golub)
- rbd-mirror: fix missing increment for iterators ([pr#8352](http://github.com/ceph/ceph/pull/8352), runsisi)
- rbd-mirror: ImageReplayer async start/stop ([pr#7944](http://github.com/ceph/ceph/pull/7944), Mykola Golub)
- rbd-mirror: ImageReplayer improvements ([pr#7759](http://github.com/ceph/ceph/pull/7759), Mykola Golub)
- rbd-mirror: implement ImageReplayer ([pr#7614](http://github.com/ceph/ceph/pull/7614), Mykola Golub)
- rbd-mirror: initial failover / failback support ([pr#8287](http://github.com/ceph/ceph/pull/8287), Jason Dillaman)
- rbd-mirror: integrate with image sync state machine ([pr#8079](http://github.com/ceph/ceph/pull/8079), Jason Dillaman)
- rbd-mirror: make remote context respect env and argv config params ([pr#8182](http://github.com/ceph/ceph/pull/8182), Mykola Golub)
- rbd-mirror: minor fix-ups for initial skeleton implementation ([pr#7958](http://github.com/ceph/ceph/pull/7958), Mykola Golub)
- rbd-mirror: prevent enabling/disabling an image’s mirroring when not in image mode ([issue#15267](http://tracker.ceph.com/issues/15267), [pr#8332](http://github.com/ceph/ceph/pull/8332), Ricardo Dias)
- rbd-mirror: remote to local cluster image sync ([pr#7979](http://github.com/ceph/ceph/pull/7979), Jason Dillaman)
- rbd-mirror: switch fsid over to mirror uuid ([issue#15238](http://tracker.ceph.com/issues/15238), [pr#8280](http://github.com/ceph/ceph/pull/8280), Ricardo Dias)
- rbd-mirror: use pool/image names in asok commands ([pr#8159](http://github.com/ceph/ceph/pull/8159), Mykola Golub)
- rbd-mirror: use the mirroring directory to detect candidate images ([issue#15142](http://tracker.ceph.com/issues/15142), [pr#8162](http://github.com/ceph/ceph/pull/8162), Ricardo Dias)
- rbd-mirror: workaround for intermingled lockdep singletons ([pr#8476](http://github.com/ceph/ceph/pull/8476), Jason Dillaman)
- rbd: must specify both of stripe-unit and stripe-count when specifying stripingv2 feature ([pr#7026](http://github.com/ceph/ceph/pull/7026), Donghai Xu)
- rbd-nbd: add copyright ([pr#7166](http://github.com/ceph/ceph/pull/7166), Li Wang)
- rbd-nbd: fix up return code handling ([pr#7215](http://github.com/ceph/ceph/pull/7215), Mykola Golub)
- rbd-nbd: network block device (NBD) support for RBD ([pr#6657](http://github.com/ceph/ceph/pull/6657), Yunchuan Wen, Li Wang)
- rbd-nbd: small improvements in logging and forking ([pr#7127](http://github.com/ceph/ceph/pull/7127), Mykola Golub)
- rbd: output formatter may not be closed upon error ([issue#13711](http://tracker.ceph.com/issues/13711), [pr#6706](http://github.com/ceph/ceph/pull/6706), xie xingguo)
- rbd: rbdmap improvements ([pr#6445](http://github.com/ceph/ceph/pull/6445), Boris Ranto)
- rbd: rbd order will be place in 22, when set to 0 in the config\_opt ([issue#14139](http://tracker.ceph.com/issues/14139), [issue#14047](http://tracker.ceph.com/issues/14047), [pr#6886](http://github.com/ceph/ceph/pull/6886), huanwen ren)
- rbd: refactor cli command handling ([pr#5987](http://github.com/ceph/ceph/pull/5987), Jason Dillaman)
- rbd/run\_cli\_tests.sh: Reflect test failures ([issue#14825](http://tracker.ceph.com/issues/14825), [pr#7781](http://github.com/ceph/ceph/pull/7781), Zack Cerza)
- rbd: stripe unit/count set incorrectly from config ([pr#6593](http://github.com/ceph/ceph/pull/6593), Mykola Golub)
- rbd: striping parameters should support 64bit integers ([pr#6942](http://github.com/ceph/ceph/pull/6942), Na Xie)
- rbd: support for enabling/disabling mirroring on specific images ([issue#13296](http://tracker.ceph.com/issues/13296), [pr#8056](http://github.com/ceph/ceph/pull/8056), Ricardo Dias)
- rbd: support negative boolean command-line optionals ([issue#13784](http://tracker.ceph.com/issues/13784), [pr#6607](http://github.com/ceph/ceph/pull/6607), Jason Dillaman)
- rbd: unbreak rbd map + cephx\_sign\_messages option ([pr#6583](http://github.com/ceph/ceph/pull/6583), Ilya Dryomov)
- rbd: update default image features ([pr#7846](http://github.com/ceph/ceph/pull/7846), Jason Dillaman)
- rbd: use default order from configuration when not specified ([pr#6965](http://github.com/ceph/ceph/pull/6965), Yunchuan Wen)
- release-notes: draft v0.94.4 release notes ([pr#5907](http://github.com/ceph/ceph/pull/5907), Loic Dachary)
- release-notes: draft v0.94.4 release notes ([pr#6195](http://github.com/ceph/ceph/pull/6195), Loic Dachary)
- release-notes: draft v0.94.4 release notes ([pr#6238](http://github.com/ceph/ceph/pull/6238), Loic Dachary)
- release-notes: draft v0.94.6 release notes ([issue#13356](http://tracker.ceph.com/issues/13356), [pr#7689](http://github.com/ceph/ceph/pull/7689), Abhishek Varshney, Loic Dachary)
- release-notes: draft v10.0.3 release notes ([pr#7592](http://github.com/ceph/ceph/pull/7592), Loic Dachary)
- release-notes: draft v10.0.4 release notes ([pr#7966](http://github.com/ceph/ceph/pull/7966), Loic Dachary)
- release-notes: draft v9.2.1 release notes ([issue#13750](http://tracker.ceph.com/issues/13750), [pr#7694](http://github.com/ceph/ceph/pull/7694), Abhishek Varshney)
- release-notes: v10.1.2 release notes ([pr#8594](http://github.com/ceph/ceph/pull/8594), Loic Dachary)
- releases: what is merged where and when ? ([pr#8358](http://github.com/ceph/ceph/pull/8358), Loic Dachary)
- rgw: accept data only at the first time in response to a request ([pr#8084](http://github.com/ceph/ceph/pull/8084), sunspot)
- rgw: add a few more help options in admin interface ([pr#8410](http://github.com/ceph/ceph/pull/8410), Abhishek Lekshmanan)
- rgw: add a method to purge all associate keys when removing a subuser ([issue#12890](http://tracker.ceph.com/issues/12890), [pr#6002](http://github.com/ceph/ceph/pull/6002), Sangdi Xu)
- rgw: add a missing cap type ([pr#6774](http://github.com/ceph/ceph/pull/6774), Yehuda Sadeh)
- rgw: add an inspection to the field of type when assigning user caps ([pr#6051](http://github.com/ceph/ceph/pull/6051), Kongming Wu)
- rgw: Add a test for multi-tenancy ([pr#8592](http://github.com/ceph/ceph/pull/8592), Pete Zaitcev)
- rgw: add bucket request payment feature usage statistics integration ([issue#13834](http://tracker.ceph.com/issues/13834), [pr#6656](http://github.com/ceph/ceph/pull/6656), Javier M. Mellid)
- rgw: add compat header for TEMP\_FAILURE\_RETRY ([pr#6294](http://github.com/ceph/ceph/pull/6294), John Coyle)
- rgw: add default quota config ([pr#6400](http://github.com/ceph/ceph/pull/6400), Daniel Gryniewicz)
- rgw: add LifeCycle feature ([pr#6331](http://github.com/ceph/ceph/pull/6331), Ji Chen)
- rgw: add missing error code for admin op API ([pr#7037](http://github.com/ceph/ceph/pull/7037), Dunrong Huang)
- rgw: adds the radosgw-admin sync status command that gives a human readable status of the sync process at a specific zone ([pr#8030](http://github.com/ceph/ceph/pull/8030), Yehuda Sadeh)
- rgw: add support for caching of Keystone admin token. ([pr#7630](http://github.com/ceph/ceph/pull/7630), Radoslaw Zarzynski)
- rgw: add support for “end\_marker” parameter for GET on Swift account. ([issue#10682](http://tracker.ceph.com/issues/10682), [pr#4216](http://github.com/ceph/ceph/pull/4216), Radoslaw Zarzynski)
- rgw: add support for getting Swift’s DLO without manifest handling ([pr#6206](http://github.com/ceph/ceph/pull/6206), Radoslaw Zarzynski)
- rgw: add support for metadata upload during PUT on Swift container. ([pr#8002](http://github.com/ceph/ceph/pull/8002), Radoslaw Zarzynski)
- rgw: add support for Static Large Objects of Swift API ([issue#12886](http://tracker.ceph.com/issues/12886), [issue#13452](http://tracker.ceph.com/issues/13452), [pr#6643](http://github.com/ceph/ceph/pull/6643), Yehuda Sadeh, Radoslaw Zarzynski)
- rgw: add support for system requests over Swift API ([pr#7666](http://github.com/ceph/ceph/pull/7666), Radoslaw Zarzynski)
- rgw: add zone delete to rgw-admin help ([pr#8184](http://github.com/ceph/ceph/pull/8184), Abhishek Lekshmanan)
- rgw: adjust error code when bucket does not exist in copy operation ([issue#14975](http://tracker.ceph.com/issues/14975), [pr#7916](http://github.com/ceph/ceph/pull/7916), Yehuda Sadeh)
- rgw: adjust the request\_uri to support absoluteURI of http request ([issue#12917](http://tracker.ceph.com/issues/12917), [pr#7675](http://github.com/ceph/ceph/pull/7675), Wenjun Huang)
- rgw: admin api for retrieving usage info (Ji Chen) ([pr#8031](http://github.com/ceph/ceph/pull/8031), Yehuda Sadeh, Ji Chen)
- rgw\_admin: improve period update errors ([issue#15251](http://tracker.ceph.com/issues/15251), [pr#8564](http://github.com/ceph/ceph/pull/8564), Abhishek Lekshmanan)
- rgw\_admin: orphans finish segfaults ([pr#6652](http://github.com/ceph/ceph/pull/6652), Igor Fedotov)
- rgw-admin: remove unused iterator and fix error message ([pr#8507](http://github.com/ceph/ceph/pull/8507), Karol Mroz)
- rgw\_admin: remove unused parent\_period arg ([pr#8411](http://github.com/ceph/ceph/pull/8411), Abhishek Lekshmanan)
- rgw: Allow an implicit tenant in case of Keystone ([pr#8139](http://github.com/ceph/ceph/pull/8139), Pete Zaitcev)
- rgw: allow authentication keystone with self signed certs ([issue#14853](http://tracker.ceph.com/issues/14853), [issue#13422](http://tracker.ceph.com/issues/13422), [pr#7777](http://github.com/ceph/ceph/pull/7777), Abhishek Lekshmanan)
- rgw: approximate AmazonS3 HostId error field. ([pr#7444](http://github.com/ceph/ceph/pull/7444), Robin H. Johnson)
- rgw: aws4: handle UNSIGNED-PAYLOAD under header auth ([issue#15499](http://tracker.ceph.com/issues/15499), [pr#8601](http://github.com/ceph/ceph/pull/8601), Javier M. Mellid)
- rgw: aws4 subdomain calling bugfix ([issue#15369](http://tracker.ceph.com/issues/15369), [pr#8472](http://github.com/ceph/ceph/pull/8472), Javier M. Mellid)
- rgw: bucket link now set the bucket.instance acl (bug fix) ([issue#11076](http://tracker.ceph.com/issues/11076), [pr#8037](http://github.com/ceph/ceph/pull/8037), Zengran Zhang)
- rgw: bucket request payment support ([issue#13427](http://tracker.ceph.com/issues/13427), [pr#6214](http://github.com/ceph/ceph/pull/6214), Javier M. Mellid)
- rgw: Bug fix for mtime anomalies in RadosGW and other places ([pr#7328](http://github.com/ceph/ceph/pull/7328), Adam C. Emerson, Casey Bodley)
- rgw: build-related fixes ([pr#8076](http://github.com/ceph/ceph/pull/8076), Yehuda Sadeh, Matt Benjamin)
- rgw: calculate payload hash in RGWPutObj\_ObjStore only when necessary. ([pr#7869](http://github.com/ceph/ceph/pull/7869), Radoslaw Zarzynski)
- rgw: call rgw\_log\_usage\_finalize() on reconfiguration ([pr#8585](http://github.com/ceph/ceph/pull/8585), Casey Bodley)
- rgw: Check return code in RGWFileHandle::write ([pr#7875](http://github.com/ceph/ceph/pull/7875), Brad Hubbard)
- rgw: check the return value when call fe->run() ([issue#14585](http://tracker.ceph.com/issues/14585), [pr#7457](http://github.com/ceph/ceph/pull/7457), wei qiaomiao)
- rgw: clarify the error message when trying to create an existed user ([pr#5938](http://github.com/ceph/ceph/pull/5938), Zeqiang Zhuang)
- rgw: cleanups to comments and messages ([pr#7633](http://github.com/ceph/ceph/pull/7633), Pete Zaitcev)
- rgw: content length ([issue#13582](http://tracker.ceph.com/issues/13582), [pr#6975](http://github.com/ceph/ceph/pull/6975), Yehuda Sadeh)
- rgw: convert plain object to versioned (with null version) when removing ([issue#15243](http://tracker.ceph.com/issues/15243), [pr#8268](http://github.com/ceph/ceph/pull/8268), Yehuda Sadeh)
- rgw: delete default zone ([pr#7005](http://github.com/ceph/ceph/pull/7005), YankunLi)
- rgw: do not abort radowgw server when using admin op API with bad parameters ([issue#14190](http://tracker.ceph.com/issues/14190), [issue#14191](http://tracker.ceph.com/issues/14191), [pr#7063](http://github.com/ceph/ceph/pull/7063), Dunrong Huang)
- rgw: Do not send a Content-Type on a ‘304 Not Modified’ response ([issue#15119](http://tracker.ceph.com/issues/15119), [pr#8253](http://github.com/ceph/ceph/pull/8253), Wido den Hollander)
- rgw: don’t use s->bucket for metadata api path entry ([issue#14549](http://tracker.ceph.com/issues/14549), [pr#7408](http://github.com/ceph/ceph/pull/7408), Yehuda Sadeh)
- rgw: Drop a debugging message ([pr#7280](http://github.com/ceph/ceph/pull/7280), Pete Zaitcev)
- rgw: drop permissions of rgw/civetweb after startup ([issue#13600](http://tracker.ceph.com/issues/13600), [pr#8019](http://github.com/ceph/ceph/pull/8019), Karol Mroz)
- rgw: Drop unused usage\_exit from rgw\_admin.cc ([pr#7632](http://github.com/ceph/ceph/pull/7632), Pete Zaitcev)
- rgw: Ensure xmlns is consistent on S3 responses. ([pr#8526](http://github.com/ceph/ceph/pull/8526), Robin H. Johnson)
- rgw: extend rgw\_extended\_http\_attrs to affect Swift accounts and containers as well ([pr#5969](http://github.com/ceph/ceph/pull/5969), Radoslaw Zarzynski)
- rgw: fcgi should include acconfig ([pr#7760](http://github.com/ceph/ceph/pull/7760), Abhishek Lekshmanan)
- rgw\_file: set owner uid, gid, and Unix mode on new objects ([pr#8321](http://github.com/ceph/ceph/pull/8321), Matt Benjamin)
- rgw: file unix ([pr#8563](http://github.com/ceph/ceph/pull/8563), Matt Benjamin)
- rgw: fix a glaring syntax error ([pr#6888](http://github.com/ceph/ceph/pull/6888), Pavan Rallabhandi)
- rgw: fix a typo in error message ([pr#8434](http://github.com/ceph/ceph/pull/8434), Abhishek Lekshmanan)
- rgw: fix a typo in init-radosgw ([pr#6817](http://github.com/ceph/ceph/pull/6817), Zhi Zhang)
- rgw: fix binfo\_cache, RGWShardCollectCR ([pr#8619](http://github.com/ceph/ceph/pull/8619), Yehuda Sadeh)
- rgw: fix compilation warning ([pr#7160](http://github.com/ceph/ceph/pull/7160), Yehuda Sadeh)
- rgw: fix compiling error ([pr#8394](http://github.com/ceph/ceph/pull/8394), xie xingguo)
- rgw: fixes for per-period metadata logs ([pr#7827](http://github.com/ceph/ceph/pull/7827), Casey Bodley)
- rgw: fix lockdep false positive ([pr#8284](http://github.com/ceph/ceph/pull/8284), Yehuda Sadeh)
- rgw: fix mdlog ([pr#8183](http://github.com/ceph/ceph/pull/8183), Orit Wasserman)
- rgw: fix objects can not be displayed which object name does not cont… ([issue#12963](http://tracker.ceph.com/issues/12963), [pr#5738](http://github.com/ceph/ceph/pull/5738), Weijun Duan)
- rgw: fix openssl linkage ([pr#6513](http://github.com/ceph/ceph/pull/6513), Yehuda Sadeh)
- rgw: fix partial read issue in rgw\_admin and rgw\_tools ([pr#6761](http://github.com/ceph/ceph/pull/6761), Jiaying Ren)
- rgw: fix problem deleting objects begining with double underscores ([issue#15318](http://tracker.ceph.com/issues/15318), [pr#8488](http://github.com/ceph/ceph/pull/8488), Orit Wasserman)
- rgw: fix reload on non Debian systems. ([pr#6482](http://github.com/ceph/ceph/pull/6482), Hervé Rousseau)
- rgw: fix response of delete expired objects ([issue#13469](http://tracker.ceph.com/issues/13469), [pr#6228](http://github.com/ceph/ceph/pull/6228), Yuan Zhou)
- rgw: Fix subuser harder with tenants ([pr#7618](http://github.com/ceph/ceph/pull/7618), Pete Zaitcev)
- rgw: fix swift API returning incorrect account metadata ([issue#13140](http://tracker.ceph.com/issues/13140), [pr#6047](http://github.com/ceph/ceph/pull/6047), Sangdi Xu)
- rgw: fix the build failure ([pr#6927](http://github.com/ceph/ceph/pull/6927), Kefu Chai)
- rgw: fix typo in RGWHTTPClient::process error message ([pr#6424](http://github.com/ceph/ceph/pull/6424), Brad Hubbard)
- rgw: fix unsafe c\_str() usage ([issue#15463](http://tracker.ceph.com/issues/15463), [pr#8559](http://github.com/ceph/ceph/pull/8559), Sage Weil)
- rgw: fix wrong check for parse() return ([pr#6797](http://github.com/ceph/ceph/pull/6797), Dunrong Huang)
- rgw: fix wrong etag calculation during POST on S3 bucket. ([issue#11241](http://tracker.ceph.com/issues/11241), [pr#6030](http://github.com/ceph/ceph/pull/6030), Radoslaw Zarzynski)
- rgw: fix wrong handling of limit=0 during listing of Swift account. ([issue#14903](http://tracker.ceph.com/issues/14903), [pr#7821](http://github.com/ceph/ceph/pull/7821), Radoslaw Zarzynski)
- rgw: handle no current\_period in is\_syncing\_bucket\_meta ([pr#8597](http://github.com/ceph/ceph/pull/8597), Orit Wasserman)
- rgw: highres time stamps ([pr#8108](http://github.com/ceph/ceph/pull/8108), Yehuda Sadeh, Adam C. Emerson, Matt Benjamin)
- rgw: improve error handling in S3/Keystone integration ([pr#7597](http://github.com/ceph/ceph/pull/7597), Radoslaw Zarzynski)
- rgw: increase verbosity level on RGWObjManifest line ([pr#7285](http://github.com/ceph/ceph/pull/7285), magicrobotmonkey)
- rgw: indexless ([pr#7786](http://github.com/ceph/ceph/pull/7786), Yehuda Sadeh)
- rgw: jewel nfs fixes ([pr#8460](http://github.com/ceph/ceph/pull/8460), Matt Benjamin)
- rgw: keystone v3 ([pr#7719](http://github.com/ceph/ceph/pull/7719), Mark Barnes, Radoslaw Zarzynski)
- rgw: ldap fixes ([pr#8168](http://github.com/ceph/ceph/pull/8168), Matt Benjamin)
- rgw\_ldap: make ldap.h inclusion conditional ([pr#8500](http://github.com/ceph/ceph/pull/8500), Matt Benjamin)
- rgw: ldap (Matt Benjamin) ([pr#7985](http://github.com/ceph/ceph/pull/7985), Matt Benjamin)
- rgw leaks fixes ([pr#8636](http://github.com/ceph/ceph/pull/8636), Yehuda Sadeh)
- rgw: let radosgw-admin bucket stats return a standard josn ([pr#7029](http://github.com/ceph/ceph/pull/7029), Ruifeng Yang)
- rgw: link against system openssl (instead of dlopen at runtime) ([pr#6419](http://github.com/ceph/ceph/pull/6419), Sage Weil)
- rgw: link civetweb with openssl (Sage, Marcus Watts) ([pr#7825](http://github.com/ceph/ceph/pull/7825), Marcus Watts, Sage Weil)
- rgw: link payer info to usage logging ([pr#7918](http://github.com/ceph/ceph/pull/7918), Yehuda Sadeh, Javier M. Mellid)
- rgw: mdlog trim add usage prompt ([pr#6059](http://github.com/ceph/ceph/pull/6059), Weijun Duan)
- rgw: modify command stucking when operating radosgw-admin metadata list user ([pr#7032](http://github.com/ceph/ceph/pull/7032), Peiyang Liu)
- rgw: modify documents and help infos’ descriptions to the usage of option date when executing command “log show” ([pr#6080](http://github.com/ceph/ceph/pull/6080), Kongming Wu)
- rgw: modify the conditional statement in parse\_metadata\_key method. ([pr#5875](http://github.com/ceph/ceph/pull/5875), Zengran Zhang)
- rgw: move signal.h dependency from rgw\_front.h ([pr#7678](http://github.com/ceph/ceph/pull/7678), Matt Benjamin)
- rgw: Multipart ListPartsResult ETag quotes ([issue#15334](http://tracker.ceph.com/issues/15334), [pr#8387](http://github.com/ceph/ceph/pull/8387), Robin H. Johnson)
- rgw: multiple improvements regarding etag calculation for SLO/DLO of Swift API. ([pr#7764](http://github.com/ceph/ceph/pull/7764), Radoslaw Zarzynski)
- rgw: multiple Swift API compliance improvements for TempURL (Radoslaw Zarzynsk) ([issue#14806](http://tracker.ceph.com/issues/14806), [issue#11163](http://tracker.ceph.com/issues/11163), [pr#7891](http://github.com/ceph/ceph/pull/7891), Radoslaw Zarzynski)
- rgw: multisite fixes ([pr#8013](http://github.com/ceph/ceph/pull/8013), Yehuda Sadeh)
- rgw: multitenancy support ([pr#6784](http://github.com/ceph/ceph/pull/6784), Yehuda Sadeh, Pete Zaitcev)
- rgw: new multisite merge ([issue#14549](http://tracker.ceph.com/issues/14549), [pr#7709](http://github.com/ceph/ceph/pull/7709), Yehuda Sadeh, Orit Wasserman, Casey Bodley, Daniel Gryniewicz)
- rgw: Parse –subuser better ([pr#7279](http://github.com/ceph/ceph/pull/7279), Pete Zaitcev)
- rgw: prevent anonymous user from reading bucket with authenticated read ACL ([issue#13207](http://tracker.ceph.com/issues/13207), [pr#6057](http://github.com/ceph/ceph/pull/6057), root)
- rgw: radosgw-admin bucket check –fix not work ([pr#7093](http://github.com/ceph/ceph/pull/7093), Weijun Duan)
- rgw-rados: return RGWSystemMetaObj init directly ([pr#8534](http://github.com/ceph/ceph/pull/8534), Karol Mroz)
- rgw: refuse to calculate digest when the s3 secret key is empty ([issue#13133](http://tracker.ceph.com/issues/13133), [pr#6045](http://github.com/ceph/ceph/pull/6045), Sangdi Xu)
- rgw : region to zonegroup related fixes ([pr#8620](http://github.com/ceph/ceph/pull/8620), Yehuda Sadeh)
- rgw: remove duplicated code in RGWRados::get\_bucket\_info() ([pr#7413](http://github.com/ceph/ceph/pull/7413), liyankun)
- rgw: remove extra check in RGWGetObj::execute ([issue#12352](http://tracker.ceph.com/issues/12352), [pr#5262](http://github.com/ceph/ceph/pull/5262), Javier M. Mellid)
- rgw: Remove unused code in PutMetadataAccount:execute ([pr#6668](http://github.com/ceph/ceph/pull/6668), Pete Zaitcev)
- rgw: remove unused variable in RGWPutMetadataBucket::execute ([pr#6735](http://github.com/ceph/ceph/pull/6735), Radoslaw Zarzynski)
- rgw: remove unused vector ([pr#7990](http://github.com/ceph/ceph/pull/7990), Na Xie)
- rgw: reset return code in when iterating over the bucket the objects ([issue#14826](http://tracker.ceph.com/issues/14826), [pr#7803](http://github.com/ceph/ceph/pull/7803), Orit Wasserman)
- rgw: retry RGWRemoteMetaLog::read\_log\_info() while master is down ([pr#8453](http://github.com/ceph/ceph/pull/8453), Casey Bodley)
- rgw: Revert “rgw ldap” ([pr#8075](http://github.com/ceph/ceph/pull/8075), Yehuda Sadeh)
- rgw/rgw\_admin:fix bug about list and stats command ([pr#8200](http://github.com/ceph/ceph/pull/8200), Qiankun Zheng)
- rgw/rgw\_common.h: fix the RGWBucketInfo decoding ([pr#8154](http://github.com/ceph/ceph/pull/8154), Kefu Chai)
- rgw/rgw\_common.h: fix the RGWBucketInfo decoding ([pr#8165](http://github.com/ceph/ceph/pull/8165), Kefu Chai)
- rgw: RGWLib::env is not used so remove it ([pr#7874](http://github.com/ceph/ceph/pull/7874), Brad Hubbard)
- rgw/rgw\_orphan: check the return value of save\_state ([pr#7544](http://github.com/ceph/ceph/pull/7544), Boris Ranto)
- rgw: RGWPeriod::reflect() sets master zonegroup as default ([pr#8566](http://github.com/ceph/ceph/pull/8566), Casey Bodley)
- rgw/rgw\_resolve: fallback to res\_query when res\_nquery not implemented ([pr#6292](http://github.com/ceph/ceph/pull/6292), John Coyle)
- rgw: RGWZoneParams::create should not handle -EEXIST error ([pr#7927](http://github.com/ceph/ceph/pull/7927), Orit Wasserman)
- rgw: S3: set EncodingType in ListBucketResult ([pr#7712](http://github.com/ceph/ceph/pull/7712), Victor Makarov)
- rgw: signature mismatch with escaped characters in url query portion ([issue#15358](http://tracker.ceph.com/issues/15358), [pr#8445](http://github.com/ceph/ceph/pull/8445), Javier M. Mellid)
- rgw: static large objects (Radoslaw Zarzynski, Yehuda Sadeh)
- rgw: store system object meta in cache when creating it ([issue#14678](http://tracker.ceph.com/issues/14678), [pr#7615](http://github.com/ceph/ceph/pull/7615), Yehuda Sadeh)
- rgw: support core file limit for radosgw daemon ([pr#6346](http://github.com/ceph/ceph/pull/6346), Guang Yang)
- rgw: support for aws authentication v4 (Javier M. Mellid) ([issue#10333](http://tracker.ceph.com/issues/10333), [pr#7720](http://github.com/ceph/ceph/pull/7720), Yehuda Sadeh, Javier M. Mellid)
- rgw: support json format for admin policy API (Dunrong Huang) ([issue#14090](http://tracker.ceph.com/issues/14090), [pr#8036](http://github.com/ceph/ceph/pull/8036), Yehuda Sadeh, Dunrong Huang)
- rgw: swift bulk delete (Radoslaw Zarzynski)
- rgw: swift use Civetweb ssl can not get right url ([issue#13628](http://tracker.ceph.com/issues/13628), [pr#6408](http://github.com/ceph/ceph/pull/6408), Weijun Duan)
- rgw: swift versioning disabled ([pr#8066](http://github.com/ceph/ceph/pull/8066), Yehuda Sadeh, Radoslaw Zarzynski)
- rgw: sync fixes 3 ([pr#8170](http://github.com/ceph/ceph/pull/8170), Yehuda Sadeh)
- rgw: sync fixes 4 ([pr#8190](http://github.com/ceph/ceph/pull/8190), Yehuda Sadeh)
- rgw sync fixes ([pr#8095](http://github.com/ceph/ceph/pull/8095), Yehuda Sadeh)
- rgw: the map ‘headers’ is assigned a wrong value ([pr#8481](http://github.com/ceph/ceph/pull/8481), weiqiaomiao)
- rgw: try to parse Keystone token in order appropriate to configuration. ([pr#7822](http://github.com/ceph/ceph/pull/7822), Radoslaw Zarzynski)
- rgw: try to use current period id in a few more cases ([pr#8588](http://github.com/ceph/ceph/pull/8588), Yehuda Sadeh)
- rgw:Use count fn in RGWUserBuckets for quota check ([pr#8294](http://github.com/ceph/ceph/pull/8294), Abhishek Lekshmanan)
- rgw: use pimpl pattern for RGWPeriodHistory ([pr#7809](http://github.com/ceph/ceph/pull/7809), Casey Bodley)
- rgw: user quota may not adjust on bucket removal ([issue#14507](http://tracker.ceph.com/issues/14507), [pr#7586](http://github.com/ceph/ceph/pull/7586), root)
- rgw: use smart pointer for C\_Reinitwatch ([pr#6767](http://github.com/ceph/ceph/pull/6767), Orit Wasserman)
- rgw: warn on suspicious civetweb frontend parameters ([pr#6944](http://github.com/ceph/ceph/pull/6944), Matt Benjamin)
- rocksdb: build with PORTABLE=1 ([pr#6311](http://github.com/ceph/ceph/pull/6311), Sage Weil)
- rocksdb: remove rdb source files from dist tarball ([issue#13554](http://tracker.ceph.com/issues/13554), [pr#6379](http://github.com/ceph/ceph/pull/6379), Kefu Chai)
- rocksdb: remove rdb sources from dist tarball ([issue#13554](http://tracker.ceph.com/issues/13554), [pr#7105](http://github.com/ceph/ceph/pull/7105), Venky Shankar)
- rocksdb: use native rocksdb makefile (and our autotools) ([pr#6290](http://github.com/ceph/ceph/pull/6290), Sage Weil)
- rpm: ceph.spec.in: correctly declare systemd dependency for SLE/openSUSE ([pr#6114](http://github.com/ceph/ceph/pull/6114), Nathan Cutler)
- rpm: ceph.spec.in: fix libs-compat / devel-compat conditional ([issue#12315](http://tracker.ceph.com/issues/12315), [pr#5219](http://github.com/ceph/ceph/pull/5219), Ken Dreyer)
- rpm,deb: remove conditional BuildRequires for btrfs-progs ([issue#15042](http://tracker.ceph.com/issues/15042), [pr#8016](http://github.com/ceph/ceph/pull/8016), Erwan Velu)
- rpm: move %post(un) ldconfig calls to ceph-base ([issue#14940](http://tracker.ceph.com/issues/14940), [pr#7867](http://github.com/ceph/ceph/pull/7867), Nathan Cutler)
- rpm: move runtime dependencies to ceph-base and fix other packaging issues ([issue#14864](http://tracker.ceph.com/issues/14864), [pr#7826](http://github.com/ceph/ceph/pull/7826), Nathan Cutler)
- rpm: prefer UID/GID 167 when creating ceph user/group ([issue#15246](http://tracker.ceph.com/issues/15246), [pr#8277](http://github.com/ceph/ceph/pull/8277), Nathan Cutler)
- rpm: remove sub-package dependencies on “ceph” ([issue#15146](http://tracker.ceph.com/issues/15146), [pr#8137](http://github.com/ceph/ceph/pull/8137), Ken Dreyer)
- rpm: rhel 5.9 librados compile fix, moved blkid to RBD check/compilation ([issue#13177](http://tracker.ceph.com/issues/13177), [pr#5954](http://github.com/ceph/ceph/pull/5954), Rohan Mars)
- script: add missing stop\_rgw variable to stop.sh script ([pr#7959](http://github.com/ceph/ceph/pull/7959), Karol Mroz)
- scripts: adjust mstart and mstop script to run with cmake build ([pr#6920](http://github.com/ceph/ceph/pull/6920), Orit Wasserman)
- scripts: release\_notes can track original issue ([pr#6009](http://github.com/ceph/ceph/pull/6009), Abhishek Lekshmanan)
- script: subscription-manager support ([issue#14972](http://tracker.ceph.com/issues/14972), [pr#7907](http://github.com/ceph/ceph/pull/7907), Loic Dachary)
- selinux: allow log files to be located in /var/log/radosgw ([pr#7604](http://github.com/ceph/ceph/pull/7604), Boris Ranto)
- selinux: Update policy to grant additional access ([issue#14870](http://tracker.ceph.com/issues/14870), [pr#7971](http://github.com/ceph/ceph/pull/7971), Boris Ranto)
- set 128MB tcmalloc cache size by bytes ([pr#8427](http://github.com/ceph/ceph/pull/8427), Star Guo)
- stringify outputted error code and fix unmatched parentheses. ([pr#6998](http://github.com/ceph/ceph/pull/6998), xie.xingguo, xie xingguo)
- submodules: revert an accidental change ([pr#7929](http://github.com/ceph/ceph/pull/7929), Yehuda Sadeh)
- systemd: correctly escape block device paths ([issue#14706](http://tracker.ceph.com/issues/14706), [pr#7579](http://github.com/ceph/ceph/pull/7579), James Page)
- systemd: drop any systemd imposed process/thread limits ([pr#8450](http://github.com/ceph/ceph/pull/8450), James Page)
- systemd: fix typos ([pr#6679](http://github.com/ceph/ceph/pull/6679), Tobias Suckow)
- systemd: set up environment in rbdmap unit file ([issue#14984](http://tracker.ceph.com/issues/14984), [pr#8222](http://github.com/ceph/ceph/pull/8222), Nathan Cutler)
- systemd: start/stop/restart ceph services by daemon type ([issue#13497](http://tracker.ceph.com/issues/13497), [pr#6276](http://github.com/ceph/ceph/pull/6276), Zhi Zhang)
- systemd: Use the same restart limits as upstart ([pr#8188](http://github.com/ceph/ceph/pull/8188), Boris Ranto)
- sysvinit: allow custom cluster names ([pr#6732](http://github.com/ceph/ceph/pull/6732), Richard Chan)
- test: add missing shut\_down mock method ([pr#8125](http://github.com/ceph/ceph/pull/8125), Jason Dillaman)
- test/bufferlist: Avoid false-positive tests ([pr#7955](http://github.com/ceph/ceph/pull/7955), Erwan Velu)
- test: ceph\_test\_rados: use less CPU ([pr#7513](http://github.com/ceph/ceph/pull/7513), Samuel Just)
- test/cli-integration/rbd: disable progress output ([issue#14931](http://tracker.ceph.com/issues/14931), [pr#7858](http://github.com/ceph/ceph/pull/7858), Josh Durgin)
- test: correct librbd errors discovered with unoptimized cmake build ([pr#7914](http://github.com/ceph/ceph/pull/7914), Jason Dillaman)
- test: create pools for rbd tests with different prefix ([pr#7738](http://github.com/ceph/ceph/pull/7738), Mykola Golub)
- test: enable test for bug #2339 which has been resolved. ([pr#7743](http://github.com/ceph/ceph/pull/7743), You Ji)
- test/encoding/readable.sh fix ([pr#6714](http://github.com/ceph/ceph/pull/6714), Igor Podoski)
- test/encoding/readable: use \[ for “test” not (( ([pr#8574](http://github.com/ceph/ceph/pull/8574), Kefu Chai)
- test: fix issues discovered via the rbd permissions test case ([pr#8129](http://github.com/ceph/ceph/pull/8129), Jason Dillaman)
- test: fix osd-scrub-snaps.sh ([pr#6697](http://github.com/ceph/ceph/pull/6697), Xinze Chi)
- test: Fix test to run with btrfs which has snap\_### dirs ([issue#15347](http://tracker.ceph.com/issues/15347), [pr#8420](http://github.com/ceph/ceph/pull/8420), David Zafman)
- test: fixup and improvements for rbd-mirror test ([pr#8090](http://github.com/ceph/ceph/pull/8090), Mykola Golub)
- test: fix ut test failure caused by lfn change ([issue#15464](http://tracker.ceph.com/issues/15464), [pr#8544](http://github.com/ceph/ceph/pull/8544), xie xingguo)
- test: fix valgrind memcheck issues for rbd-mirror test cases ([issue#15354](http://tracker.ceph.com/issues/15354), [pr#8493](http://github.com/ceph/ceph/pull/8493), Jason Dillaman)
- test: handle exception thrown from close during rbd lock test ([pr#8124](http://github.com/ceph/ceph/pull/8124), Jason Dillaman)
- test: image replayer needs dummy remote mirror peer uuid ([pr#8584](http://github.com/ceph/ceph/pull/8584), Jason Dillaman)
- test/libcephfs/flock: add sys/file.h include for flock operations ([pr#6310](http://github.com/ceph/ceph/pull/6310), John Coyle)
- test/librados/test.cc: clean up EC pools’ crush rules too ([issue#13878](http://tracker.ceph.com/issues/13878), [pr#6788](http://github.com/ceph/ceph/pull/6788), Loic Dachary, Dan Mick)
- test/librbd/fsx: Use c++11 std::mt19937 generator instead of random\_r() ([pr#6332](http://github.com/ceph/ceph/pull/6332), John Coyle)
- test/mon/osd-erasure-code-profile: pick new mon port ([pr#7161](http://github.com/ceph/ceph/pull/7161), Sage Weil)
- test: more debug logging for TestWatchNotify ([pr#7737](http://github.com/ceph/ceph/pull/7737), Mykola Golub)
- test: new librbd flatten test case ([pr#7609](http://github.com/ceph/ceph/pull/7609), Jason Dillaman)
- test/osd: Relax the timing intervals in osd-markdown.sh ([pr#7899](http://github.com/ceph/ceph/pull/7899), Dan Mick)
- test\_pool\_create.sh: put test files in the test dir so they are cleaned up ([pr#8219](http://github.com/ceph/ceph/pull/8219), Josh Durgin)
- test/pybind/test\_ceph\_argparse: fix reweight-by-utilization tests ([pr#8027](http://github.com/ceph/ceph/pull/8027), Kefu Chai, Sage Weil)
- test/radosgw-admin: update the expected usage outputs ([pr#7723](http://github.com/ceph/ceph/pull/7723), Kefu Chai)
- test: rbd-mirror: add “switch to the next tag” test ([pr#8149](http://github.com/ceph/ceph/pull/8149), Mykola Golub)
- test: rbd-mirror: compare positions using all fields ([pr#8172](http://github.com/ceph/ceph/pull/8172), Mykola Golub)
- test: rbd-mirror: script improvements for manual testing ([pr#8325](http://github.com/ceph/ceph/pull/8325), Mykola Golub)
- test: reproducer for writeback CoW deadlock ([pr#8009](http://github.com/ceph/ceph/pull/8009), Jason Dillaman)
- test/rgw: add multisite test for meta sync across periods ([pr#7887](http://github.com/ceph/ceph/pull/7887), Casey Bodley)
- test\_rgw\_admin: use freopen for output redirection. ([pr#6303](http://github.com/ceph/ceph/pull/6303), John Coyle)
- tests: add const for ec test ([pr#6911](http://github.com/ceph/ceph/pull/6911), Michal Jarzabek)
- tests: add Ubuntu 16.04 xenial dockerfile ([pr#8519](http://github.com/ceph/ceph/pull/8519), Loic Dachary)
- tests: allow docker-test.sh to run under root ([issue#13355](http://tracker.ceph.com/issues/13355), [pr#6173](http://github.com/ceph/ceph/pull/6173), Loic Dachary)
- tests: allow object corpus readable test to skip specific incompat instances ([pr#6932](http://github.com/ceph/ceph/pull/6932), Igor Podoski)
- tests: centos7 needs the Continuous Release (CR) Repository enabled for ([issue#13997](http://tracker.ceph.com/issues/13997), [pr#6842](http://github.com/ceph/ceph/pull/6842), Brad Hubbard)
- tests: ceph-disk.sh: should use “readlink -f” instead ([pr#7594](http://github.com/ceph/ceph/pull/7594), Kefu Chai)
- tests: ceph-disk.sh: use “readlink -f” instead for fullpath ([pr#7606](http://github.com/ceph/ceph/pull/7606), Kefu Chai)
- tests: ceph-disk workunit uses configobj ([pr#6342](http://github.com/ceph/ceph/pull/6342), Loic Dachary)
- tests: ceph-helpers assert success getting backfills ([pr#6699](http://github.com/ceph/ceph/pull/6699), Loic Dachary)
- tests: ceph\_test\_keyvaluedb\_iterators: fix broken test ([pr#6597](http://github.com/ceph/ceph/pull/6597), Haomai Wang)
- tests: concatenate test\_rados\_test\_tool from src and qa ([issue#13691](http://tracker.ceph.com/issues/13691), [pr#6464](http://github.com/ceph/ceph/pull/6464), Loic Dachary)
- tests: configure with rocksdb by default ([issue#14220](http://tracker.ceph.com/issues/14220), [pr#7100](http://github.com/ceph/ceph/pull/7100), Loic Dachary)
- tests: destroy testprofile before creating one ([issue#13664](http://tracker.ceph.com/issues/13664), [pr#6446](http://github.com/ceph/ceph/pull/6446), Loic Dachary)
- test: set a default $CEPH\_ROOT env variable ([pr#8645](http://github.com/ceph/ceph/pull/8645), Kefu Chai)
- tests: fix a few build warnings ([pr#7608](http://github.com/ceph/ceph/pull/7608), Sage Weil)
- tests: fix failure for osd-scrub-snap.sh ([issue#13986](http://tracker.ceph.com/issues/13986), [pr#6890](http://github.com/ceph/ceph/pull/6890), Loic Dachary, Ning Yao)
- tests: Fix for make check. ([pr#7102](http://github.com/ceph/ceph/pull/7102), David Zafman)
- tests: Fixing broken test/cephtool-test-mon.sh test ([pr#8429](http://github.com/ceph/ceph/pull/8429), Erwan Velu)
- tests: fix race condition testing auto scrub ([issue#13592](http://tracker.ceph.com/issues/13592), [pr#6724](http://github.com/ceph/ceph/pull/6724), Xinze Chi, Loic Dachary)
- tests: fix test\_rados\_tools.sh rados lookup ([issue#13691](http://tracker.ceph.com/issues/13691), [pr#6502](http://github.com/ceph/ceph/pull/6502), Loic Dachary)
- tests: fix typo in TestClsRbd.snapshots test case ([issue#13727](http://tracker.ceph.com/issues/13727), [pr#6504](http://github.com/ceph/ceph/pull/6504), Jason Dillaman)
- tests: flush op work queue prior to destroying MockImageCtx ([issue#14092](http://tracker.ceph.com/issues/14092), [pr#7002](http://github.com/ceph/ceph/pull/7002), Jason Dillaman)
- tests: ignore test-suite.log ([pr#6584](http://github.com/ceph/ceph/pull/6584), Loic Dachary)
- tests: Improving ‘make check’ execution time ([pr#8131](http://github.com/ceph/ceph/pull/8131), Erwan Velu)
- tests: notification slave needs to wait for master ([issue#13810](http://tracker.ceph.com/issues/13810), [pr#7220](http://github.com/ceph/ceph/pull/7220), Jason Dillaman)
- tests: –osd-scrub-load-threshold=2000 for more consistency ([issue#14027](http://tracker.ceph.com/issues/14027), [pr#6871](http://github.com/ceph/ceph/pull/6871), Loic Dachary)
- tests: osd-scrub-snaps.sh to display full osd logs on error ([issue#13986](http://tracker.ceph.com/issues/13986), [pr#6857](http://github.com/ceph/ceph/pull/6857), Loic Dachary)
- tests: port uniqueness reminder ([pr#6387](http://github.com/ceph/ceph/pull/6387), Loic Dachary)
- tests: restore run-cli-tests ([pr#6571](http://github.com/ceph/ceph/pull/6571), Loic Dachary, Sage Weil, Jason Dillaman)
- tests: snap rename and rebuild object map in client update test ([pr#7224](http://github.com/ceph/ceph/pull/7224), Jason Dillaman)
- tests: sync ceph-erasure-code-corpus for mktemp -d ([pr#7596](http://github.com/ceph/ceph/pull/7596), Loic Dachary)
- tests: test/librados/test.cc must create profile ([issue#13664](http://tracker.ceph.com/issues/13664), [pr#6452](http://github.com/ceph/ceph/pull/6452), Loic Dachary)
- tests: test\_pidfile.sh lingering processes ([issue#14834](http://tracker.ceph.com/issues/14834), [pr#7734](http://github.com/ceph/ceph/pull/7734), Loic Dachary)
- tests: unittest\_bufferlist: fix hexdump test ([pr#7152](http://github.com/ceph/ceph/pull/7152), Sage Weil)
- tests: unittest\_ipaddr: fix segv ([pr#7154](http://github.com/ceph/ceph/pull/7154), Sage Weil)
- test/system/rados\_list\_parallel: print oid if rados\_write fails ([issue#15240](http://tracker.ceph.com/issues/15240), [pr#8309](http://github.com/ceph/ceph/pull/8309), Kefu Chai)
- test/system/[\*](http://docs.ceph.com/docs/master/release-notes/#id19): use dynamically generated pool name ([issue#15240](http://tracker.ceph.com/issues/15240), [pr#8318](http://github.com/ceph/ceph/pull/8318), Kefu Chai)
- test/test-erasure-code.sh: disable pg\_temp priming ([issue#15211](http://tracker.ceph.com/issues/15211), [pr#8260](http://github.com/ceph/ceph/pull/8260), Sage Weil)
- test: TestMirroringWatcher test cases were not closing images ([pr#8435](http://github.com/ceph/ceph/pull/8435), Jason Dillaman)
- test/TestPGLog: fix the FTBFS ([issue#14930](http://tracker.ceph.com/issues/14930), [pr#7855](http://github.com/ceph/ceph/pull/7855), Kefu Chai)
- test/test\_pool\_create.sh: fix port ([pr#8361](http://github.com/ceph/ceph/pull/8361), Sage Weil)
- test/time: no need to abs(uint64\_t) for comparing ([pr#7726](http://github.com/ceph/ceph/pull/7726), Kefu Chai)
- test: update rbd integration cram tests for new default features ([pr#8001](http://github.com/ceph/ceph/pull/8001), Jason Dillaman)
- test: use sequential journal\_tid for object cacher test ([issue#13877](http://tracker.ceph.com/issues/13877), [pr#6710](http://github.com/ceph/ceph/pull/6710), Josh Durgin)
- tools: add cephfs-table-tool ‘take\_inos’ ([pr#6655](http://github.com/ceph/ceph/pull/6655), John Spray)
- tools/cephfs: add tmap\_upgrade ([pr#7003](http://github.com/ceph/ceph/pull/7003), John Spray)
- tools/cephfs: fix overflow writing header to fixed size buffer (#13816) ([pr#6617](http://github.com/ceph/ceph/pull/6617), John Spray)
- tools/cephfs: fix overflow writing header to fixed size buffer (#13816) ([pr#6617](http://github.com/ceph/ceph/pull/6617), John Spray)
- tools/cephfs: fix tmap\_upgrade ([issue#15135](http://tracker.ceph.com/issues/15135), [pr#8128](http://github.com/ceph/ceph/pull/8128), John Spray)
- tools: ceph\_monstore\_tool: add inflate-pgmap command ([issue#14217](http://tracker.ceph.com/issues/14217), [pr#7097](http://github.com/ceph/ceph/pull/7097), Kefu Chai)
- tools: ceph-monstore-update-crush: add “–test” when testing crushmap ([pr#6418](http://github.com/ceph/ceph/pull/6418), Kefu Chai)
- tools: Fix layout handing in cephfs-data-scan (#13898) ([pr#6719](http://github.com/ceph/ceph/pull/6719), John Spray)
- tools: monstore: add ‘show-versions’ command. ([pr#7073](http://github.com/ceph/ceph/pull/7073), Cilang Zhao)
- tools/rados: reduce “rados put” memory usage by op\_size ([pr#7928](http://github.com/ceph/ceph/pull/7928), Piotr Dałek)
- tools:remove duplicate references ([pr#5917](http://github.com/ceph/ceph/pull/5917), Bo Cai)
- tools: support printing part cluster map in readable fashion ([issue#13079](http://tracker.ceph.com/issues/13079), [pr#5921](http://github.com/ceph/ceph/pull/5921), Bo Cai)
- unittest\_compression\_zlib: do not assume buffer will be null terminated ([pr#8064](http://github.com/ceph/ceph/pull/8064), Sage Weil)
- unittest\_erasure\_code\_plugin: fix deadlock (Alpine) ([pr#8314](http://github.com/ceph/ceph/pull/8314), John Coyle)
- unittest\_osdmap: default crush tunables now firefly ([pr#8098](http://github.com/ceph/ceph/pull/8098), Sage Weil)
- vstart: fix up cmake paths when VSTART\_DEST is given ([pr#8363](http://github.com/ceph/ceph/pull/8363), Casey Bodley)
- vstart: grant full access to Swift testing account ([pr#6239](http://github.com/ceph/ceph/pull/6239), Yuan Zhou)
- vstart: make -k with optional mon\_num. ([pr#8251](http://github.com/ceph/ceph/pull/8251), Jianpeng Ma)
- vstart: set cephfs root uid/gid to caller ([pr#6255](http://github.com/ceph/ceph/pull/6255), John Spray)
- vstart.sh: add mstart, mstop, mrun wrappers for running multiple vstart-style test clusters out of src tree ([pr#6901](http://github.com/ceph/ceph/pull/6901), Yehuda Sadeh)
- vstart.sh: avoid race condition starting rgw via vstart.sh ([issue#14829](http://tracker.ceph.com/issues/14829), [pr#7727](http://github.com/ceph/ceph/pull/7727), Javier M. Mellid)
- vstart.sh: silence a harmless msg where btrfs is not found ([pr#7640](http://github.com/ceph/ceph/pull/7640), Patrick Donnelly)
- xio: add prefix to xio msgr logs ([pr#8148](http://github.com/ceph/ceph/pull/8148), Roi Dayan)
- xio: fix compilation against latest accelio ([pr#8022](http://github.com/ceph/ceph/pull/8022), Roi Dayan)
- xio: fix incorrect ip being assigned in case of multiple RDMA ports ([pr#7747](http://github.com/ceph/ceph/pull/7747), Subramanyam Varanasi)
- xio: remove duplicate assignment of peer addr ([pr#8025](http://github.com/ceph/ceph/pull/8025), Roi Dayan)
- xio: remove redundant magic methods ([pr#7773](http://github.com/ceph/ceph/pull/7773), Roi Dayan)
- xio: remove unused variable ([pr#8023](http://github.com/ceph/ceph/pull/8023), Roi Dayan)
- xio: xio\_init needs to be called before any other xio function ([pr#8227](http://github.com/ceph/ceph/pull/8227), Roi Dayan)
- xxhash: use clone of xxhash.git; add .gitignore ([pr#7986](http://github.com/ceph/ceph/pull/7986), Sage Weil)

### NOTABLE CHANGES SINCE HAMMER

- aarch64: add optimized version of crc32c (Yazen Ghannam, Steve Capper)
- auth: cache/reuse crypto lib key objects, optimize msg signature check (Sage Weil)
- auth: reinit NSS after fork() (#11128 Yan, Zheng)
- autotools: fix out of tree build (Krxysztof Kosinski)
- autotools: improve make check output (Loic Dachary)
- buffer: add invalidate\_crc() (Piotr Dalek)
- buffer: fix zero bug (#12252 Haomai Wang)
- buffer: some cleanup (Michal Jarzabek)
- build: allow tcmalloc-minimal (Thorsten Behrens)
- build: C++11 now supported
- build: cmake: fix nss linking (Danny Al-Gaaf)
- build: cmake: misc fixes (Orit Wasserman, Casey Bodley)
- build: disable LTTNG by default (#11333 Josh Durgin)
- build: do not build ceph-dencoder with tcmalloc (#10691 Boris Ranto)
- build: fix junit detection on Fedora 22 (Ira Cooper)
- build: fix pg ref disabling (William A. Kennington III)
- build: fix ppc build (James Page)
- build: install-deps: misc fixes (Loic Dachary)
- build: install-deps.sh improvements (Loic Dachary)
- build: install-deps: support OpenSUSE (Loic Dachary)
- build: make\_dist\_tarball.sh (Sage Weil)
- build: many cmake improvements
- build: misc cmake fixes (Matt Benjamin)
- build: misc fixes (Boris Ranto, Ken Dreyer, Owen Synge)
- build: OSX build fixes (Yan, Zheng)
- build: remove rest-bench
- ceph-authtool: fix return code on error (Gerhard Muntingh)
- ceph-detect-init: added Linux Mint (Michal Jarzabek)
- ceph-detect-init: robust init system detection (Owen Synge)
- ceph-disk: ensure ‘zap’ only operates on a full disk (#11272 Loic Dachary)
- ceph-disk: fix zap sgdisk invocation (Owen Synge, Thorsten Behrens)
- ceph-disk: follow ceph-osd hints when creating journal (#9580 Sage Weil)
- ceph-disk: handle re-using existing partition (#10987 Loic Dachary)
- ceph-disk: improve parted output parsing (#10983 Loic Dachary)
- ceph-disk: install pip > 6.1 (#11952 Loic Dachary)
- ceph-disk: make suppression work for activate-all and activate-journal (Dan van der Ster)
- ceph-disk: many fixes (Loic Dachary, Alfredo Deza)
- ceph-disk: fixes to respect init system (Loic Dachary, Owen Synge)
- ceph-disk: pass –cluster arg on prepare subcommand (Kefu Chai)
- ceph-disk: support for multipath devices (Loic Dachary)
- ceph-disk: support NVMe device partitions (#11612 Ilja Slepnev)
- ceph: fix ‘df’ units (Zhe Zhang)
- ceph: fix parsing in interactive cli mode (#11279 Kefu Chai)
- cephfs-data-scan: many additions, improvements (John Spray)
- ceph-fuse: do not require successful remount when unmounting (#10982 Greg Farnum)
- ceph-fuse, libcephfs: don’t clear COMPLETE when trimming null (Yan, Zheng)
- ceph-fuse, libcephfs: drop inode when rmdir finishes (#11339 Yan, Zheng)
- ceph-fuse,libcephfs: fix uninline (#11356 Yan, Zheng)
- ceph-fuse, libcephfs: hold exclusive caps on dirs we “own” (#11226 Greg Farnum)
- ceph-fuse: mostly behave on 32-bit hosts (Yan, Zheng)
- ceph: improve error output for ‘tell’ (#11101 Kefu Chai)
- ceph-monstore-tool: fix store-copy (Huangjun)
- ceph: new ‘ceph daemonperf’ command (John Spray, Mykola Golub)
- ceph-objectstore-tool: many many improvements (David Zafman)
- ceph-objectstore-tool: refactoring and cleanup (John Spray)
- ceph-post-file: misc fixes (Joey McDonald, Sage Weil)
- ceph\_test\_rados: test pipelined reads (Zhiqiang Wang)
- client: avoid sending unnecessary FLUSHSNAP messages (Yan, Zheng)
- client: exclude setfilelock when calculating oldest tid (Yan, Zheng)
- client: fix error handling in check\_pool\_perm (John Spray)
- client: fsync waits only for inode’s caps to flush (Yan, Zheng)
- client: invalidate kernel dcache when cache size exceeds limits (Yan, Zheng)
- client: make fsync wait for unsafe dir operations (Yan, Zheng)
- client: pin lookup dentry to avoid inode being freed (Yan, Zheng)
- common: add descriptions to perfcounters (Kiseleva Alyona)
- common: add perf counter descriptions (Alyona Kiseleva)
- common: bufferlist performance tuning (Piotr Dalek, Sage Weil)
- common: detect overflow of int config values (#11484 Kefu Chai)
- common: fix bit\_vector extent calc (#12611 Jason Dillaman)
- common: fix json parsing of utf8 (#7387 Tim Serong)
- common: fix leak of pthread\_mutexattr (#11762 Ketor Meng)
- common: fix LTTNG vs fork issue (Josh Durgin)
- common: fix throttle max change (Henry Chang)
- common: make mutex more efficient
- common: make work queue addition/removal thread safe (#12662 Jason Dillaman)
- common: optracker improvements (Zhiqiang Wang, Jianpeng Ma)
- common: PriorityQueue tests (Kefu Chai)
- common: some async compression infrastructure (Haomai Wang)
- crush: add –check to validate dangling names, max osd id (Kefu Chai)
- crush: cleanup, sync with kernel (Ilya Dryomov)
- crush: fix crash from invalid ‘take’ argument (#11602 Shiva Rkreddy, Sage Weil)
- crush: fix divide-by-2 in straw2 (#11357 Yann Dupont, Sage Weil)
- crush: fix has\_v4\_buckets (#11364 Sage Weil)
- crush: fix subtree base weight on adjust\_subtree\_weight (#11855 Sage Weil)
- crush: respect default replicated ruleset config on map creation (Ilya Dryomov)
- crushtool: fix order of operations, usage (Sage Weil)
- crypto: fix NSS leak (Jason Dillaman)
- crypto: fix unbalanced init/shutdown (#12598 Zheng Yan)
- deb: fix rest-bench-dbg and ceph-test-dbg dependendies (Ken Dreyer)
- debian: minor package reorg (Ken Dreyer)
- deb, rpm: move ceph-objectstore-tool to ceph (Ken Dreyer)
- doc: docuemnt object corpus generation (#11099 Alexis Normand)
- doc: document region hostnames (Robin H. Johnson)
- doc: fix gender neutrality (Alexandre Maragone)
- doc: fix install doc (#10957 Kefu Chai)
- doc: fix sphinx issues (Kefu Chai)
- doc: man page updates (Kefu Chai)
- doc: mds data structure docs (Yan, Zheng)
- doc: misc updates (Fracois Lafont, Ken Dreyer, Kefu Chai, Owen Synge, Gael Fenet-Garde, Loic Dachary, Yannick Atchy-Dalama, Jiaying Ren, Kevin Caradant, Robert Maxime, Nicolas Yong, Germain Chipaux, Arthur Gorjux, Gabriel Sentucq, Clement Lebrun, Jean-Remi Deveaux, Clair Massot, Robin Tang, Thomas Laumondais, Jordan Dorne, Yuan Zhou, Valentin Thomas, Pierre Chaumont, Benjamin Troquereau, Benjamin Sesia, Vikhyat Umrao, Nilamdyuti Goswami, Vartika Rai, Florian Haas, Loic Dachary, Simon Guinot, Andy Allan, Alistair Israel, Ken Dreyer, Robin Rehu, Lee Revell, Florian Marsylle, Thomas Johnson, Bosse Klykken, Travis Rhoden, Ian Kelling)
- doc: swift tempurls (#10184 Abhishek Lekshmanan)
- doc: switch doxygen integration back to breathe (#6115 Kefu Chai)
- doc: update release schedule docs (Loic Dachary)
- erasure-code: cleanup (Kefu Chai)
- erasure-code: improve tests (Loic Dachary)
- erasure-code: shec: fix recovery bugs (Takanori Nakao, Shotaro Kawaguchi)
- erasure-code: update ISA-L to 2.13 (Yuan Zhou)
- gmock: switch to submodule (Danny Al-Gaaf, Loic Dachary)
- hadoop: add terasort test (Noah Watkins)
- init-radosgw: merge with sysv version; fix enumeration (Sage Weil)
- java: fix libcephfs bindings (Noah Watkins)
- libcephfs: add pread, pwrite (Jevon Qiao)
- libcephfs,ceph-fuse: cache cleanup (Zheng Yan)
- libcephfs,ceph-fuse: fix request resend on cap reconnect (#10912 Yan, Zheng)
- librados: add config observer (Alistair Strachan)
- librados: add FULL\_TRY and FULL\_FORCE flags for dealing with full clusters or pools (Sage Weil)
- librados: add src\_fadvise\_flags for copy-from (Jianpeng Ma)
- librados: define C++ flags from C constants (Josh Durgin)
- librados: fadvise flags per op (Jianpeng Ma)
- librados: fix last\_force\_resent handling (#11026 Jianpeng Ma)
- librados: fix memory leak from C\_TwoContexts (Xiong Yiliang)
- librados: fix notify completion race (#13114 Sage Weil)
- librados: fix striper when stripe\_count = 1 and stripe\_unit != object\_size (#11120 Yan, Zheng)
- librados, libcephfs: randomize client nonces (Josh Durgin)
- librados: op perf counters (John Spray)
- librados: pybind: fix binary omap values (Robin H. Johnson)
- librados: pybind: fix write() method return code (Javier Guerra)
- librados: respect default\_crush\_ruleset on pool\_create (#11640 Yuan Zhou)
- libradosstriper: fix leak (Danny Al-Gaaf)
- librbd: add const for single-client-only features (Josh Durgin)
- librbd: add deep-flatten operation (Jason Dillaman)
- librbd: add purge\_on\_error cache behavior (Jianpeng Ma)
- librbd: allow additional metadata to be stored with the image (Haomai Wang)
- librbd: avoid blocking aio API methods (#11056 Jason Dillaman)
- librbd: better handling for dup flatten requests (#11370 Jason Dillaman)
- librbd: cancel in-flight ops on watch error (#11363 Jason Dillaman)
- librbd: default new images to format 2 (#11348 Jason Dillaman)
- librbd: fadvise for copy, export, import (Jianpeng Ma)
- librbd: fast diff implementation that leverages object map (Jason Dillaman)
- librbd: fix fast diff bugs (#11553 Jason Dillaman)
- librbd: fix image format detection (Zhiqiang Wang)
- librbd: fix lock ordering issue (#11577 Jason Dillaman)
- librbd: fix reads larger than the cache size (Lu Shi)
- librbd: fix snapshot creation when other snap is active (#11475 Jason Dillaman)
- librbd: flatten/copyup fixes (Jason Dillaman)
- librbd: handle NOCACHE fadvise flag (Jinapeng Ma)
- librbd: lockdep, helgrind validation (Jason Dillaman, Josh Durgin)
- librbd: metadata filter fixes (Haomai Wang)
- librbd: misc aio fixes (#5488 Jason Dillaman)
- librbd: misc rbd fixes (#11478 #11113 #11342 #11380 Jason Dillaman, Zhiqiang Wang)
- librbd: new diff\_iterate2 API (Jason Dillaman)
- librbd: object map rebuild support (Jason Dillaman)
- librbd: only update image flags while hold exclusive lock (#11791 Jason Dillaman)
- librbd: optionally disable allocation hint (Haomai Wang)
- librbd: prevent race between resize requests (#12664 Jason Dillaman)
- librbd: readahead fixes (Zhiqiang Wang)
- librbd: return result code from close (#12069 Jason Dillaman)
- librbd: store metadata, including config options, in image (Haomai Wang)
- librbd: tolerate old osds when getting image metadata (#11549 Jason Dillaman)
- librbd: use write\_full when possible (Zhiqiang Wang)
- log: fix data corruption race resulting from log rotation (#12465 Samuel Just)
- logrotate.d: prefer service over invoke-rc.d (#11330 Win Hierman, Sage Weil)
- mds: add ‘damaged’ state to MDSMap (John Spray)
- mds: add nicknames for perfcounters (John Spray)
- mds: avoid emitting cap warnigns before evicting session (John Spray)
- mds: avoid getting stuck in XLOCKDONE (#11254 Yan, Zheng)
- mds: disable problematic rstat propagation into snap parents (Yan, Zheng)
- mds: do not add snapped items to bloom filter (Yan, Zheng)
- mds: expose frags via asok (John Spray)
- mds: fix expected holes in journal objects (#13167 Yan, Zheng)
- mds: fix handling for missing mydir dirfrag (#11641 John Spray)
- mds: fix integer truncateion on large client ids (Henry Chang)
- mds: fix mydir replica issue with shutdown (#10743 John Spray)
- mds: fix out-of-order messages (#11258 Yan, Zheng)
- mds: fix rejoin (Yan, Zheng)
- mds: fix setting entire file layout in one setxattr (John Spray)
- mds: fix shutdown (John Spray)
- mds: fix shutdown with strays (#10744 John Spray)
- mds: fix SnapServer crash on deleted pool (John Spray)
- mds: fix snapshot bugs (Yan, Zheng)
- mds: fix stray reintegration (Yan, Zheng)
- mds: fix stray handling (John Spray)
- mds: fix suicide beacon (John Spray)
- mds: flush immediately in do\_open\_truncate (#11011 John Spray)
- mds: handle misc corruption issues (John Spray)
- mds: improve dump methods (John Spray)
- mds: many fixes (Yan, Zheng, John Spray, Greg Farnum)
- mds: many snapshot and stray fixes (Yan, Zheng)
- mds: misc fixes (Jianpeng Ma, Dan van der Ster, Zhang Zhi)
- mds: misc journal cleanups and fixes (#10368 John Spray)
- mds: misc repair improvements (John Spray)
- mds: misc snap fixes (Zheng Yan)
- mds: misc snapshot fixes (Yan, Zheng)
- mds: new SessionMap storage using omap (#10649 John Spray)
- mds: persist completed\_requests reliably (#11048 John Spray)
- mds: reduce memory consumption (Yan, Zheng)
- mds: respawn instead of suicide on blacklist (John Spray)
- mds: separate safe\_pos in Journaler (#10368 John Spray)
- mds: snapshot rename support (#3645 Yan, Zheng)
- mds: store layout on header object (#4161 John Spray)
- mds: throttle purge stray operations (#10390 John Spray)
- mds: tolerate clock jumping backwards (#11053 Yan, Zheng)
- mds: warn when clients fail to advance oldest\_client\_tid (#10657 Yan, Zheng)
- misc cleanups and fixes (Danny Al-Gaaf)
- misc coverity fixes (Danny Al-Gaaf)
- misc performance and cleanup (Nathan Cutler, Xinxin Shu)
- mon: add cache over MonitorDBStore (Kefu Chai)
- mon: add ‘mon\_metadata <id>’ command (Kefu Chai)
- mon: add ‘node ls ...’ command (Kefu Chai)
- mon: add NOFORWARD, OBSOLETE, DEPRECATE flags for mon commands (Joao Eduardo Luis)
- mon: add PG count to ‘ceph osd df’ output (Michal Jarzabek)
- mon: ‘ceph osd metadata’ can dump all osds (Haomai Wang)
- mon: clean up, reorg some mon commands (Joao Eduardo Luis)
- monclient: flush\_log (John Spray)
- mon: detect kv backend failures (Sage Weil)
- mon: disallow >2 tiers (#11840 Kefu Chai)
- mon: disallow ec pools as tiers (#11650 Samuel Just)
- mon: do not deactivate last mds (#10862 John Spray)
- mon: fix average utilization calc for ‘osd df’ (Mykola Golub)
- mon: fix CRUSH map test for new pools (Sage Weil)
- mon: fix log dump crash when debugging (Mykola Golub)
- mon: fix mds beacon replies (#11590 Kefu Chai)
- mon: fix metadata update race (Mykola Golub)
- mon: fix min\_last\_epoch\_clean tracking (Kefu Chai)
- mon: fix ‘pg ls’ sort order, state names (#11569 Kefu Chai)
- mon: fix refresh (#11470 Joao Eduardo Luis)
- mon: fix variance calc in ‘osd df’ (Sage Weil)
- mon: improve callout to crushtool (Mykola Golub)
- mon: make blocked op messages more readable (Jianpeng Ma)
- mon: make osd get pool ‘all’ only return applicable fields (#10891 Michal Jarzabek)
- mon: misc scaling fixes (Sage Weil)
- mon: normalize erasure-code profile for storage and comparison (Loic Dachary)
- mon: only send mon metadata to supporting peers (Sage Weil)
- mon: optionally specify osd id on ‘osd create’ (Mykola Golub)
- mon: ‘osd tree’ fixes (Kefu Chai)
- mon: periodic background scrub (Joao Eduardo Luis)
- mon: prevent bucket deletion when referenced by a crush rule (#11602 Sage Weil)
- mon: prevent pgp\_num > pg\_num (#12025 Xinxin Shu)
- mon: prevent pool with snapshot state from being used as a tier (#11493 Sage Weil)
- mon: prime pg\_temp when CRUSH map changes (Sage Weil)
- mon: refine check\_remove\_tier checks (#11504 John Spray)
- mon: reject large max\_mds values (#12222 John Spray)
- mon: remove spurious who arg from ‘mds rm ...’ (John Spray)
- mon: streamline session handling, fix memory leaks (Sage Weil)
- mon: upgrades must pass through hammer (Sage Weil)
- mon: warn on bogus cache tier config (Jianpeng Ma)
- msgr: add ceph\_perf\_msgr tool (Hoamai Wang)
- msgr: async: fix seq handling (Haomai Wang)
- msgr: async: many many fixes (Haomai Wang)
- msgr: simple: fix clear\_pipe (#11381 Haomai Wang)
- msgr: simple: fix connect\_seq assert (Haomai Wang)
- msgr: xio: fastpath improvements (Raju Kurunkad)
- msgr: xio: fix ip and nonce (Raju Kurunkad)
- msgr: xio: improve lane assignment (Vu Pham)
- msgr: xio: sync with accellio v1.4 (Vu Pham)
- msgr: xio: misc fixes (#10735 Matt Benjamin, Kefu Chai, Danny Al-Gaaf, Raju Kurunkad, Vu Pham, Casey Bodley)
- msg: unit tests (Haomai Wang)
- objectcacher: misc bug fixes (Jianpeng Ma)
- osd: add latency perf counters for tier operations (Xinze Chi)
- osd: add misc perfcounters (Xinze Chi)
- osd: add simple sleep injection in recovery (Sage Weil)
- osd: allow SEEK\_HOLE/SEEK\_DATA for sparse read (Zhiqiang Wang)
- osd: avoid dup omap sets for in pg metadata (Sage Weil)
- osd: avoid multiple hit set insertions (Zhiqiang Wang)
- osd: avoid transaction append in some cases (Sage Weil)
- osd: break PG removal into multiple iterations (#10198 Guang Yang)
- osd: cache proxy-write support (Zhiqiang Wang, Samuel Just)
- osd: check scrub state when handling map (Jianpeng Ma)
- osd: clean up some constness, privateness (Kefu Chai)
- osd: clean up temp object if promotion fails (Jianpeng Ma)
- osd: configure promotion based on write recency (Zhiqiang Wang)
- osd: constrain collections to meta and PGs (normal and temp) (Sage Weil)
- osd: don’t send dup MMonGetOSDMap requests (Sage Weil, Kefu Chai)
- osd: EIO injection (David Zhang)
- osd: elminiate txn apend, ECSubWrite copy (Samuel Just)
- osd: erasure-code: drop entries according to LRU (Andreas-Joachim Peters)
- osd: erasure-code: fix SHEC floating point bug (#12936 Loic Dachary)
- osd: erasure-code: update to ISA-L 2.14 (Yuan Zhou)
- osd: filejournal: cleanup (David Zafman)
- osd: filestore: clone using splice (Jianpeng Ma)
- osd: filestore: fix recursive lock (Xinxin Shu)
- osd: fix check\_for\_full (Henry Chang)
- osd: fix dirty accounting in make\_writeable (Zhiqiang Wang)
- osd: fix dup promotion lost op bug (Zhiqiang Wang)
- osd: fix endless repair when object is unrecoverable (Jianpeng Ma, Kefu Chai)
- osd: fix hitset object naming to use GMT (Kefu Chai)
- osd: fix misc memory leaks (Sage Weil)
- osd: fix negative degraded stats during backfill (Guang Yang)
- osd: fix osdmap dump of blacklist items (John Spray)
- osd: fix peek\_queue locking in FileStore (Xinze Chi)
- osd: fix pg resurrection (#11429 Samuel Just)
- osd: fix promotion vs full cache tier (Samuel Just)
- osd: fix replay requeue when pg is still activating (#13116 Samuel Just)
- osd: fix scrub stat bugs (Sage Weil, Samuel Just)
- osd: fix snap flushing from cache tier (again) (#11787 Samuel Just)
- osd: fix snap handling on promotion (#11296 Sam Just)
- osd: fix temp-clearing (David Zafman)
- osd: force promotion for ops EC can’t handle (Zhiqiang Wang)
- osd: handle log split with overlapping entries (#11358 Samuel Just)
- osd: ignore non-existent osds in unfound calc (#10976 Mykola Golub)
- osd: improve behavior on machines with large memory pages (Steve Capper)
- osd: include a temp namespace within each collection/pgid (Sage Weil)
- osd: increase default max open files (Owen Synge)
- osd: keyvaluestore: misc fixes (Varada Kari)
- osd: low and high speed flush modes (Mingxin Liu)
- osd: make suicide timeouts individually configurable (Samuel Just)
- osd: merge multiple setattr calls into a setattrs call (Xinxin Shu)
- osd: misc fixes (Ning Yao, Kefu Chai, Xinze Chi, Zhiqiang Wang, Jianpeng Ma)
- osd: move scrub in OpWQ (Samuel Just)
- osd: newstore prototype (Sage Weil)
- osd: ObjectStore internal API refactor (Sage Weil)
- osd: peer\_features includes self (David Zafman)
- osd: pool size change triggers new interval (#11771 Samuel Just)
- osd: prepopulate needs\_recovery\_map when only one peer has missing (#9558 Guang Yang)
- osd: randomize scrub times (#10973 Kefu Chai)
- osd: recovery, peering fixes (#11687 Samuel Just)
- osd: refactor scrub and digest recording (Sage Weil)
- osd: refuse first write to EC object at non-zero offset (Jianpeng Ma)
- osd: relax reply order on proxy read (#11211 Zhiqiang Wang)
- osd: require firefly features (David Zafman)
- osd: set initial crush weight with more precision (Sage Weil)
- osd: SHEC no longer experimental
- osd: skip promotion for flush/evict op (Zhiqiang Wang)
- osd: stripe over small xattrs to fit in XFS’s 255 byte inline limit (Sage Weil, Ning Yao)
- osd: sync object\_map on syncfs (Samuel Just)
- osd: take excl lock of op is rw (Samuel Just)
- osd: throttle evict ops (Yunchuan Wen)
- osd: upgrades must pass through hammer (Sage Weil)
- osd: use a temp object for recovery (Sage Weil)
- osd: use blkid to collection partition information (Joseph Handzik)
- osd: use SEEK\_HOLE / SEEK\_DATA for sparse copy (Xinxin Shu)
- osd: WBThrottle cleanups (Jianpeng Ma)
- osd: write journal header on clean shutdown (Xinze Chi)
- osdc/Objecter: allow per-pool calls to op\_cancel\_writes (John Spray)
- os/filestore: enlarge getxattr buffer size (Jianpeng Ma)
- pybind: pep8 cleanups (Danny Al-Gaaf)
- pycephfs: many fixes for bindings (Haomai Wang)
- qa: fix filelock\_interrupt.py test (Yan, Zheng)
- qa: improve ceph-disk tests (Loic Dachary)
- qa: improve docker build layers (Loic Dachary)
- qa: run-make-check.sh script (Loic Dachary)
- rados: add –striper option to use libradosstriper (#10759 Sebastien Ponce)
- rados: bench: add –no-verify option to improve performance (Piotr Dalek)
- rados bench: misc fixes (Dmitry Yatsushkevich)
- rados: fix error message on failed pool removal (Wido den Hollander)
- radosgw-admin: add ‘bucket check’ function to repair bucket index (Yehuda Sadeh)
- radosgw-admin: fix subuser modify output (#12286 Guce)
- rados: handle –snapid arg properly (Abhishek Lekshmanan)
- rados: improve bench buffer handling, performance (Piotr Dalek)
- rados: misc bench fixes (Dmitry Yatsushkevich)
- rados: new pool import implementation (John Spray)
- rados: translate errno to string in CLI (#10877 Kefu Chai)
- rbd: accept map options config option (Ilya Dryomov)
- rbd: add disk usage tool (#7746 Jason Dillaman)
- rbd: allow unmapping by spec (Ilya Dryomov)
- rbd: cli: fix arg parsing with –io-pattern (Dmitry Yatsushkevich)
- rbd: deprecate –new-format option (Jason Dillman)
- rbd: fix error messages (#2862 Rajesh Nambiar)
- rbd: fix link issues (Jason Dillaman)
- rbd: improve CLI arg parsing, usage (Ilya Dryomov)
- rbd: rbd-replay-prep and rbd-replay improvements (Jason Dillaman)
- rbd: recognize queue\_depth kernel option (Ilya Dryomov)
- rbd: support G and T units for CLI (Abhishek Lekshmanan)
- rbd: update rbd man page (Ilya Dryomov)
- rbd: update xfstests tests (Douglas Fuller)
- rbd: use image-spec and snap-spec in help (Vikhyat Umrao, Ilya Dryomov)
- rest-bench: misc fixes (Shawn Chen)
- rest-bench: support https (#3968 Yuan Zhou)
- rgw: add max multipart upload parts (#12146 Abshishek Dixit)
- rgw: add missing headers to Swift container details (#10666 Ahmad Faheem, Dmytro Iurchenko)
- rgw: add stats to headers for account GET (#10684 Yuan Zhou)
- rgw: add Trasnaction-Id to response (Abhishek Dixit)
- rgw: add X-Timestamp for Swift containers (#10938 Radoslaw Zarzynski)
- rgw: always check if token is expired (#11367 Anton Aksola, Riku Lehto)
- rgw: conversion tool to repair broken multipart objects (#12079 Yehuda Sadeh)
- rgw: document layout of pools and objects (Pete Zaitcev)
- rgw: do not enclose bucket header in quotes (#11860 Wido den Hollander)
- rgw: do not prefetch data for HEAD requests (Guang Yang)
- rgw: do not preserve ACLs when copying object (#12370 Yehuda Sadeh)
- rgw: do not set content-type if length is 0 (#11091 Orit Wasserman)
- rgw: don’t clobber bucket/object owner when setting ACLs (#10978 Yehuda Sadeh)
- rgw: don’t use end\_marker for namespaced object listing (#11437 Yehuda Sadeh)
- rgw: don’t use rgw\_socket\_path if frontend is configured (#11160 Yehuda Sadeh)
- rgw: enforce Content-Length for POST on Swift cont/obj (#10661 Radoslaw Zarzynski)
- rgw: error out if frontend did not send all data (#11851 Yehuda Sadeh)
- rgw: expose the number of unhealthy workers through admin socket (Guang Yang)
- rgw: fail if parts not specified on multipart upload (#11435 Yehuda Sadeh)
- rgw: fix assignment of copy obj attributes (#11563 Yehuda Sadeh)
- rgw: fix broken stats in container listing (#11285 Radoslaw Zarzynski)
- rgw: fix bug in domain/subdomain splitting (Robin H. Johnson)
- rgw: fix casing of Content-Type header (Robin H. Johnson)
- rgw: fix civetweb max threads (#10243 Yehuda Sadeh)
- rgw: fix Connection: header handling (#12298 Wido den Hollander)
- rgw: fix copy metadata, support X-Copied-From for swift (#10663 Radoslaw Zarzynski)
- rgw: fix data corruptions race condition (#11749 Wuxingyi)
- rgw: fix decoding of X-Object-Manifest from GET on Swift DLO (Radslow Rzarzynski)
- rgw: fix GET on swift account when limit == 0 (#10683 Radoslaw Zarzynski)
- rgw: fix handling empty metadata items on Swift container (#11088 Radoslaw Zarzynski)
- rgw: fix JSON response when getting user quota (#12117 Wuxingyi)
- rgw: fix locator for objects starting with \_ (#11442 Yehuda Sadeh)
- rgw: fix log rotation (Wuxingyi)
- rgw: fix mulitipart upload in retry path (#11604 Yehuda Sadeh)
- rgw: fix quota enforcement on POST (#11323 Sergey Arkhipov)
- rgw: fix reset\_loc (#11974 Yehuda Sadeh)
- rgw: fix return code on missing upload (#11436 Yehuda Sadeh)
- rgw: fix sysvinit script
- rgw: fix sysvinit script w/ multiple instances (Sage Weil, Pavan Rallabhandi)
- rgw: force content\_type for swift bucket stats requests (#12095 Orit Wasserman)
- rgw: force content type header on responses with no body (#11438 Orit Wasserman)
- rgw: generate Date header for civetweb (#10873 Radoslaw Zarzynski)
- rgw: generate new object tag when setting attrs (#11256 Yehuda Sadeh)
- rgw: improve content-length env var handling (#11419 Robin H. Johnson)
- rgw: improved support for swift account metadata (Radoslaw Zarzynski)
- rgw: improve handling of already removed buckets in expirer (Radoslaw Rzarzynski)
- rgw: issue aio for first chunk before flush cached data (#11322 Guang Yang)
- rgw: log to /var/log/ceph instead of /var/log/radosgw
- rgw: make init script wait for radosgw to stop (#11140 Dmitry Yatsushkevich)
- rgw: make max put size configurable (#6999 Yuan Zhou)
- rgw: make quota/gc threads configurable (#11047 Guang Yang)
- rgw: make read user buckets backward compat (#10683 Radoslaw Zarzynski)
- rgw: merge manifests properly with prefix override (#11622 Yehuda Sadeh)
- rgw: only scan for objects not in a namespace (#11984 Yehuda Sadeh)
- rgw: orphan detection tool (Yehuda Sadeh)
- rgw: pass in civetweb configurables (#10907 Yehuda Sadeh)
- rgw: rectify 202 Accepted in PUT response (#11148 Radoslaw Zarzynski)
- rgw: remove meta file after deleting bucket (#11149 Orit Wasserman)
- rgw: remove trailing :port from HTTP\_HOST header (Sage Weil)
- rgw: return 412 on bad limit when listing buckets (#11613 Yehuda Sadeh)
- rgw: rework X-Trans-Id header to conform with Swift API (Radoslaw Rzarzynski)
- rgw: s3 encoding-type for get bucket (Jeff Weber)
- rgw: send ETag, Last-Modified for swift (#11087 Radoslaw Zarzynski)
- rgw: set content length on container GET, PUT, DELETE, HEAD (#10971, #11036 Radoslaw Zarzynski)
- rgw: set max buckets per user in ceph.conf (Vikhyat Umrao)
- rgw: shard work over multiple librados instances (Pavan Rallabhandi)
- rgw: support end marker on swift container GET (#10682 Radoslaw Zarzynski)
- rgw: support for Swift expiration API (Radoslaw Rzarzynski, Yehuda Sadeh)
- rgw: swift: allow setting attributes with COPY (#10662 Ahmad Faheem, Dmytro Iurchenko)
- rgw: swift: do not override sent content type (#12363 Orit Wasserman)
- rgw: swift: enforce Content-Type in response (#12157 Radoslaw Zarzynski)
- rgw: swift: fix account listing (#11501 Radoslaw Zarzynski)
- rgw: swift: fix metadata handling on copy (#10645 Radoslaw Zarzynski)
- rgw: swift: send Last-Modified header (#10650 Radoslaw Zarzynski)
- rgw: swift: set Content-Length for account GET (#12158 Radoslav Zarzynski)
- rgw: swift: set content-length on keystone tokens (#11473 Herv Rousseau)
- rgw: update keystone cache with token info (#11125 Yehuda Sadeh)
- rgw: update to latest civetweb, enable config for IPv6 (#10965 Yehuda Sadeh)
- rgw: use attrs from source bucket on copy (#11639 Javier M. Mellid)
- rgw: use correct oid for gc chains (#11447 Yehuda Sadeh)
- rgw: user rm is idempotent (Orit Wasserman)
- rgw: use unique request id for civetweb (#10295 Orit Wasserman)
- rocksdb: add perf counters for get/put latency (Xinxin Shu)
- rocksdb, leveldb: fix compact\_on\_mount (Xiaoxi Chen)
- rocksdb: pass options as single string (Xiaoxi Chen)
- rocksdb: update to latest (Xiaoxi Chen)
- rpm: add suse firewall files (Tim Serong)
- rpm: always rebuild and install man pages for rpm (Owen Synge)
- rpm: loosen ceph-test dependencies (Ken Dreyer)
- rpm: many spec file fixes (Owen Synge, Ken Dreyer)
- rpm: misc fixes (Boris Ranto, Owen Synge, Ken Dreyer, Ira Cooper)
- rpm: misc systemd and SUSE fixes (Owen Synge, Nathan Cutler)
- selinux policy (Boris Ranto, Milan Broz)
- systemd: logrotate fixes (Tim Serong, Lars Marowsky-Bree, Nathan Cutler)
- systemd: many fixes (Sage Weil, Owen Synge, Boris Ranto, Dan van der Ster)
- systemd: run daemons as user ceph
- sysvinit compat: misc fixes (Owen Synge)
- test: misc fs test improvements (John Spray, Loic Dachary)
- test: python tests, linter cleanup (Alfredo Deza)
- tests: fixes for rbd xstests (Douglas Fuller)
- tests: fix tiering health checks (Loic Dachary)
- tests for low-level performance (Haomai Wang)
- tests: many ec non-regression improvements (Loic Dachary)
- tests: many many ec test improvements (Loic Dachary)
- upstart: throttle restarts (#11798 Sage Weil, Greg Farnum)

### GETTING CEPH

- Git at [git://github.com/ceph/ceph.git](http://github.com/ceph/ceph)
- Tarball at [http://ceph.com/download/ceph-10.2.0.tar.gz](http://ceph.com/download/ceph-10.2.0.tar.gz)
- For packages, see [http://ceph.com/docs/master/install/get-packages](http://ceph.com/docs/master/install/get-packages)
- For ceph-deploy, see [http://ceph.com/docs/master/install/install-ceph-deploy](http://ceph.com/docs/master/install/install-ceph-deploy)
