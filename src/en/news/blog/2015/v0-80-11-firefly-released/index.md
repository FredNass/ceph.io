---
title: "v0.80.11 Firefly released"
date: "2015-11-19"
author: "sage"
---

This is a bugfix release for Firefly.  As the Firefly 0.80.x series is nearing its planned end of life in January 2016 it may also be the last.

We recommend that all Firefly users upgrade.

For more detailed information, see [the complete changelog](http://docs.ceph.com/docs/master/_downloads/v0.80.11.txt).

### NOTABLE CHANGES

- build/ops: /etc/init.d/radosgw restart does not work correctly ([issue#11140](http://tracker.ceph.com/issues/11140), [pr#5831](http://github.com/ceph/ceph/pull/5831), Dmitry Yatsushkevich)
- build/ops: Fix -Wno-format and -Werror=format-security options clash ([issue#13417](http://tracker.ceph.com/issues/13417), [pr#6207](http://github.com/ceph/ceph/pull/6207), Boris Ranto)
- build/ops: ceph-common needs python-argparse on older distros, but doesn’t require it ([issue#12034](http://tracker.ceph.com/issues/12034), [pr#5217](http://github.com/ceph/ceph/pull/5217), Nathan Cutler)
- build/ops: ceph.spec.in running fdupes unnecessarily ([issue#12301](http://tracker.ceph.com/issues/12301), [pr#5224](http://github.com/ceph/ceph/pull/5224), Nathan Cutler)
- build/ops: ceph.spec.in: 50-rbd.rules conditional is wrong ([issue#12166](http://tracker.ceph.com/issues/12166), [pr#5225](http://github.com/ceph/ceph/pull/5225), Nathan Cutler)
- build/ops: ceph.spec.in: useless %py\_requires breaks SLE11-SP3 build ([issue#12351](http://tracker.ceph.com/issues/12351), [pr#5394](http://github.com/ceph/ceph/pull/5394), Nathan Cutler)
- build/ops: fedora21 has junit, not junit4 ([issue#10728](http://tracker.ceph.com/issues/10728), [pr#6203](http://github.com/ceph/ceph/pull/6203), Ken Dreyer, Loic Dachary)
- build/ops: upstart: configuration is too generous on restarts ([issue#11798](http://tracker.ceph.com/issues/11798), [pr#5992](http://github.com/ceph/ceph/pull/5992), Sage Weil)
- common: Client admin socket leaks file descriptors ([issue#11535](http://tracker.ceph.com/issues/11535), [pr#4633](http://github.com/ceph/ceph/pull/4633), Jon Bernard)
- common: FileStore calls syncfs(2) even it is not supported ([issue#12512](http://tracker.ceph.com/issues/12512), [pr#5529](http://github.com/ceph/ceph/pull/5529), Danny Al-Gaaf, Kefu Chai, Jianpeng Ma)
- common: HeartBeat: include types ([issue#13088](http://tracker.ceph.com/issues/13088), [pr#6038](http://github.com/ceph/ceph/pull/6038), Sage Weil)
- common: Malformed JSON command output when non-ASCII strings are present ([issue#7387](http://tracker.ceph.com/issues/7387), [pr#4635](http://github.com/ceph/ceph/pull/4635), Kefu Chai, Tim Serong)
- common: Memory leak in Mutex.cc, pthread\_mutexattr\_init without pthread\_mutexattr\_destroy ([issue#11762](http://tracker.ceph.com/issues/11762), [pr#5403](http://github.com/ceph/ceph/pull/5403), Ketor Meng)
- common: Thread:pthread\_attr\_destroy(thread\_attr) when done with it ([issue#12570](http://tracker.ceph.com/issues/12570), [pr#6325](http://github.com/ceph/ceph/pull/6325), Piotr Dałek, Zheng Qiankun)
- common: ThreadPool add/remove work queue methods not thread safe ([issue#12662](http://tracker.ceph.com/issues/12662), [pr#5991](http://github.com/ceph/ceph/pull/5991), Jason Dillaman)
- common: buffer: critical bufferlist::zero bug ([issue#12252](http://tracker.ceph.com/issues/12252), [pr#5388](http://github.com/ceph/ceph/pull/5388), Haomai Wang)
- common: log: take mutex while opening fd ([issue#12465](http://tracker.ceph.com/issues/12465), [pr#5406](http://github.com/ceph/ceph/pull/5406), Samuel Just)
- common: recursive lock of md\_config\_t (0) ([issue#12614](http://tracker.ceph.com/issues/12614), [pr#5814](http://github.com/ceph/ceph/pull/5814), Josh Durgin)
- crush: take crashes due to invalid arg ([issue#11602](http://tracker.ceph.com/issues/11602), [pr#4769](http://github.com/ceph/ceph/pull/4769), Sage Weil)
- doc: backport v0.80.10 release notes to firefly ([issue#11090](http://tracker.ceph.com/issues/11090), [pr#5307](http://github.com/ceph/ceph/pull/5307), Loic Dachary, Sage Weil)
- doc: update docs to point to download.ceph.com ([issue#13162](http://tracker.ceph.com/issues/13162), [pr#5993](http://github.com/ceph/ceph/pull/5993), Alfredo Deza)
- fs: MDSMonitor: handle MDSBeacon messages properly ([issue#11590](http://tracker.ceph.com/issues/11590), [pr#5199](http://github.com/ceph/ceph/pull/5199), Kefu Chai)
- fs: client nonce collision due to unshared pid namespaces ([issue#13032](http://tracker.ceph.com/issues/13032), [pr#6087](http://github.com/ceph/ceph/pull/6087), Josh Durgin, Sage Weil)
- librbd: Objectcacher setting max object counts too low ([issue#7385](http://tracker.ceph.com/issues/7385), [pr#4639](http://github.com/ceph/ceph/pull/4639), Jason Dillaman)
- librbd: aio calls may block ([issue#11056](http://tracker.ceph.com/issues/11056), [pr#4854](http://github.com/ceph/ceph/pull/4854), Haomai Wang, Sage Weil, Jason Dillaman)
- librbd: internal.cc: 1967: FAILED assert(watchers.size() == 1) ([issue#12176](http://tracker.ceph.com/issues/12176), [pr#5171](http://github.com/ceph/ceph/pull/5171), Jason Dillaman)
- mon: Clock skew causes missing summary and confuses Calamari ([issue#11877](http://tracker.ceph.com/issues/11877), [pr#4867](http://github.com/ceph/ceph/pull/4867), Thorsten Behrens)
- mon: EC pools are not allowed as cache pools, disallow in the mon ([issue#11650](http://tracker.ceph.com/issues/11650), [pr#5389](http://github.com/ceph/ceph/pull/5389), Samuel Just)
- mon: Make it more difficult to delete pools in firefly ([issue#11800](http://tracker.ceph.com/issues/11800), [pr#4788](http://github.com/ceph/ceph/pull/4788), Sage Weil)
- mon: MonitorDBStore: get\_next\_key() only if prefix matches ([issue#11786](http://tracker.ceph.com/issues/11786), [pr#5360](http://github.com/ceph/ceph/pull/5360), Joao Eduardo Luis)
- mon: PaxosService: call post\_refresh() instead of post\_paxos\_update() ([issue#11470](http://tracker.ceph.com/issues/11470), [pr#5358](http://github.com/ceph/ceph/pull/5358), Joao Eduardo Luis)
- mon: add a cache layer over MonitorDBStore ([issue#12638](http://tracker.ceph.com/issues/12638), [pr#5698](http://github.com/ceph/ceph/pull/5698), Kefu Chai)
- mon: adding exsting pool as tier with –force-nonempty clobbers removed\_snaps ([issue#11493](http://tracker.ceph.com/issues/11493), [pr#5236](http://github.com/ceph/ceph/pull/5236), Sage Weil, Samuel Just)
- mon: ceph fails to compile with boost 1.58 ([issue#11576](http://tracker.ceph.com/issues/11576), [pr#5129](http://github.com/ceph/ceph/pull/5129), Kefu Chai)
- mon: does not check for IO errors on every transaction ([issue#13089](http://tracker.ceph.com/issues/13089), [pr#6091](http://github.com/ceph/ceph/pull/6091), Sage Weil)
- mon: get pools health’info have error ([issue#12402](http://tracker.ceph.com/issues/12402), [pr#5410](http://github.com/ceph/ceph/pull/5410), renhwztetecs)
- mon: increase globalid default for firefly ([issue#13255](http://tracker.ceph.com/issues/13255), [pr#6010](http://github.com/ceph/ceph/pull/6010), Sage Weil)
- mon: pgmonitor: wrong at/near target max“ reporting ([issue#12401](http://tracker.ceph.com/issues/12401), [pr#5409](http://github.com/ceph/ceph/pull/5409), huangjun)
- mon: register\_new\_pgs() should check ruleno instead of its index ([issue#12210](http://tracker.ceph.com/issues/12210), [pr#5404](http://github.com/ceph/ceph/pull/5404), Xinze Chi)
- mon: scrub error (osdmap encoding mismatch?) upgrading from 0.80 to ~0.80.2 ([issue#8815](http://tracker.ceph.com/issues/8815), [issue#8674](http://tracker.ceph.com/issues/8674), [issue#9064](http://tracker.ceph.com/issues/9064), [pr#5200](http://github.com/ceph/ceph/pull/5200), Sage Weil, Zhiqiang Wang, Samuel Just)
- mon: the output is wrong when runing ceph osd reweight ([issue#12251](http://tracker.ceph.com/issues/12251), [pr#5408](http://github.com/ceph/ceph/pull/5408), Joao Eduardo Luis)
- objecter: can get stuck in redirect loop if osdmap epoch == last\_force\_op\_resend ([issue#11026](http://tracker.ceph.com/issues/11026), [pr#4597](http://github.com/ceph/ceph/pull/4597), Jianpeng Ma, Sage Weil)
- objecter: pg listing can deadlock when throttling is in use ([issue#9008](http://tracker.ceph.com/issues/9008), [pr#5043](http://github.com/ceph/ceph/pull/5043), Guang Yang)
- objecter: resend linger ops on split ([issue#9806](http://tracker.ceph.com/issues/9806), [pr#5062](http://github.com/ceph/ceph/pull/5062), Josh Durgin, Samuel Just)
- osd: Cleanup boost optionals for boost 1.56 ([issue#9983](http://tracker.ceph.com/issues/9983), [pr#5039](http://github.com/ceph/ceph/pull/5039), William A. Kennington III)
- osd: LibRadosTwoPools\[EC\]PP.PromoteSnap failure ([issue#10052](http://tracker.ceph.com/issues/10052), [pr#5050](http://github.com/ceph/ceph/pull/5050), Sage Weil)
- osd: Mutex Assert from PipeConnection::try\_get\_pipe ([issue#12437](http://tracker.ceph.com/issues/12437), [pr#5815](http://github.com/ceph/ceph/pull/5815), David Zafman)
- osd: PG stuck with remapped ([issue#9614](http://tracker.ceph.com/issues/9614), [pr#5044](http://github.com/ceph/ceph/pull/5044), Guang Yang)
- osd: PG::handle\_advance\_map: on\_pool\_change after handling the map change ([issue#12809](http://tracker.ceph.com/issues/12809), [pr#5988](http://github.com/ceph/ceph/pull/5988), Samuel Just)
- osd: PGLog: split divergent priors as well ([issue#11069](http://tracker.ceph.com/issues/11069), [pr#4631](http://github.com/ceph/ceph/pull/4631), Samuel Just)
- osd: PGLog::proc\_replica\_log: correctly handle case where entries between olog.head and log.tail were split out ([issue#11358](http://tracker.ceph.com/issues/11358), [pr#5287](http://github.com/ceph/ceph/pull/5287), Samuel Just)
- osd: WBThrottle::clear\_object: signal on cond when we reduce throttle values ([issue#12223](http://tracker.ceph.com/issues/12223), [pr#5822](http://github.com/ceph/ceph/pull/5822), Samuel Just)
- osd: cache full mode still skips young objects ([issue#10006](http://tracker.ceph.com/issues/10006), [pr#5051](http://github.com/ceph/ceph/pull/5051), Xinze Chi, Zhiqiang Wang)
- osd: crash creating/deleting pools ([issue#12429](http://tracker.ceph.com/issues/12429), [pr#5526](http://github.com/ceph/ceph/pull/5526), John Spray)
- osd: explicitly specify OSD features in MOSDBoot ([issue#10911](http://tracker.ceph.com/issues/10911), [pr#4960](http://github.com/ceph/ceph/pull/4960), Sage Weil)
- osd: is\_new\_interval() fixes ([issue#11771](http://tracker.ceph.com/issues/11771), [issue#10399](http://tracker.ceph.com/issues/10399), [pr#5726](http://github.com/ceph/ceph/pull/5726), Samuel Just, Jason Dillaman)
- osd: make the all osd/filestore thread pool suicide timeouts separately configurable ([issue#11439](http://tracker.ceph.com/issues/11439), [pr#5823](http://github.com/ceph/ceph/pull/5823), Samuel Just)
- osd: object creation by write cannot use an offset on an erasure coded pool ([issue#11507](http://tracker.ceph.com/issues/11507), [pr#4632](http://github.com/ceph/ceph/pull/4632), Jianpeng Ma, Loic Dachary)
- osd: os/FileJournal: Fix journal write fail, align for direct io ([issue#12943](http://tracker.ceph.com/issues/12943), [pr#5619](http://github.com/ceph/ceph/pull/5619), Xie Rui)
- osd: osd/PGLog.cc: 732: FAILED assert(log.log.size() == log\_keys\_debug.size()) ([issue#12652](http://tracker.ceph.com/issues/12652), [pr#5820](http://github.com/ceph/ceph/pull/5820), Sage Weil)
- osd: read on chunk-aligned xattr not handled ([issue#12309](http://tracker.ceph.com/issues/12309), [pr#5235](http://github.com/ceph/ceph/pull/5235), Sage Weil)
- rgw: Change variable length array of std::strings (not legal in C++) to std::vector<std::string> ([issue#12467](http://tracker.ceph.com/issues/12467), [pr#4583](http://github.com/ceph/ceph/pull/4583), Daniel J. Hofmann)
- rgw: Civetweb RGW appears to report full size of object as downloaded when only partially downloaded ([issue#11851](http://tracker.ceph.com/issues/11851), [pr#5234](http://github.com/ceph/ceph/pull/5234), Yehuda Sadeh)
- rgw: Keystone PKI token expiration is not enforced ([issue#11367](http://tracker.ceph.com/issues/11367), [pr#4765](http://github.com/ceph/ceph/pull/4765), Anton Aksola)
- rgw: Object copy bug ([issue#11639](http://tracker.ceph.com/issues/11639), [pr#4762](http://github.com/ceph/ceph/pull/4762), Javier M. Mellid)
- rgw: RGW returns requested bucket name raw in “Bucket” response header ([issue#11860](http://tracker.ceph.com/issues/11860), [issue#12537](http://tracker.ceph.com/issues/12537), [pr#5730](http://github.com/ceph/ceph/pull/5730), Yehuda Sadeh, Wido den Hollander)
- rgw: Swift API: response for PUT on /container does not contain the mandatory Content-Length header when FCGI is used ([issue#11036](http://tracker.ceph.com/issues/11036), [pr#5170](http://github.com/ceph/ceph/pull/5170), Radoslaw Zarzynski)
- rgw: content length parsing calls strtol() instead of strtoll() ([issue#10701](http://tracker.ceph.com/issues/10701), [pr#5997](http://github.com/ceph/ceph/pull/5997), Yehuda Sadeh)
- rgw: delete bucket does not remove .bucket.meta file ([issue#11149](http://tracker.ceph.com/issues/11149), [pr#4641](http://github.com/ceph/ceph/pull/4641), Orit Wasserman)
- rgw: doesn’t return ‘x-timestamp’ in header which is used by ‘View Details’ of OpenStack ([issue#8911](http://tracker.ceph.com/issues/8911), [pr#4584](http://github.com/ceph/ceph/pull/4584), Yehuda Sadeh)
- rgw: init some manifest fields when handling explicit objs ([issue#11455](http://tracker.ceph.com/issues/11455), [pr#5729](http://github.com/ceph/ceph/pull/5729), Yehuda Sadeh)
- rgw: logfile does not get chowned properly ([issue#12073](http://tracker.ceph.com/issues/12073), [pr#5233](http://github.com/ceph/ceph/pull/5233), Thorsten Behrens)
- rgw: logrotate.conf calls service with wrong init script name ([issue#12043](http://tracker.ceph.com/issues/12043), [pr#5390](http://github.com/ceph/ceph/pull/5390), wuxingyi)
- rgw: quota not respected in POST object ([issue#11323](http://tracker.ceph.com/issues/11323), [pr#4642](http://github.com/ceph/ceph/pull/4642), Sergey Arkhipov)
- rgw: swift smoke test fails on TestAccountUTF8 ([issue#11091](http://tracker.ceph.com/issues/11091), [issue#11438](http://tracker.ceph.com/issues/11438), [issue#12939](http://tracker.ceph.com/issues/12939), [issue#12157](http://tracker.ceph.com/issues/12157), [issue#12158](http://tracker.ceph.com/issues/12158), [issue#12363](http://tracker.ceph.com/issues/12363), [pr#5532](http://github.com/ceph/ceph/pull/5532), Radoslaw Zarzynski, Orit Wasserman, Robin H. Johnson)
- rgw: use correct objv\_tracker for bucket instance ([issue#11416](http://tracker.ceph.com/issues/11416), [pr#4535](http://github.com/ceph/ceph/pull/4535), Yehuda Sadeh)
- tests: ceph-fuse crash in test\_client\_recovery ([issue#12673](http://tracker.ceph.com/issues/12673), [pr#5813](http://github.com/ceph/ceph/pull/5813), Loic Dachary)
- tests: kernel\_untar\_build fails on EL7 ([issue#11758](http://tracker.ceph.com/issues/11758), [pr#6000](http://github.com/ceph/ceph/pull/6000), Greg Farnum)
- tests: qemu workunit refers to apt-mirror.front.sepia.ceph.com ([issue#13420](http://tracker.ceph.com/issues/13420), [pr#6328](http://github.com/ceph/ceph/pull/6328), Yuan Zhou, Sage Weil)
- tools: src/ceph-disk : disk zap sgdisk invocation ([issue#11143](http://tracker.ceph.com/issues/11143), [pr#4636](http://github.com/ceph/ceph/pull/4636), Thorsten Behrens, Owen Synge)
- tools: ceph-disk: sometimes the journal symlink is not created ([issue#10146](http://tracker.ceph.com/issues/10146), [pr#5541](http://github.com/ceph/ceph/pull/5541), Dan van der Ster)
- tools: ceph-disk: support NVMe device partitions ([issue#11612](http://tracker.ceph.com/issues/11612), [pr#4771](http://github.com/ceph/ceph/pull/4771), Ilja Slepnev)
- tools: ceph-post-file fails on rhel7 ([issue#11836](http://tracker.ceph.com/issues/11836), [pr#5037](http://github.com/ceph/ceph/pull/5037), Joseph McDonald, Sage Weil)
- tools: ceph\_argparse\_flag has no regular 3rd parameter ([issue#11543](http://tracker.ceph.com/issues/11543), [pr#4582](http://github.com/ceph/ceph/pull/4582), Thorsten Behrens)
- tools: use a new disk as journal disk,ceph-disk prepare fail ([issue#10983](http://tracker.ceph.com/issues/10983), [pr#4630](http://github.com/ceph/ceph/pull/4630), Loic Dachary)

### GETTING CEPH

- Git at [git://github.com/ceph/ceph.git](http://github.com/ceph/ceph)
- Tarball at [http://ceph.com/download/ceph-0.80.11.tar.gz](http://ceph.com/download/ceph-0.80.11.tar.gz)
- For packages, see [http://ceph.com/docs/master/install/get-packages](http://ceph.com/docs/master/install/get-packages)
- For ceph-deploy, see [http://ceph.com/docs/master/install/install-ceph-deploy](http://ceph.com/docs/master/install/install-ceph-deploy)
